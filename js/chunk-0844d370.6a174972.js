(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0844d370"],{"2ce1":function(t,e,n){(function(t){(function(){var e,r=n("c23d").default,i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function o(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}var s=o(this);function a(t,e){if(e){var n=s;t=t.split(".");for(var r=0;r<t.length-1;r++){var o=t[r];o in n||(n[o]={}),n=n[o]}t=t[t.length-1],r=n[t],e=e(r),e!=r&&null!=e&&i(n,t,{configurable:!0,writable:!0,value:e})}}function u(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function c(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:u(t)}}a("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var i=s.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)o.b(this.a[t]);this.a=null}};var o=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?o.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=c(t),o=i.next();!o.done;o=i.next())r(o.value).Oa(e,n)}))},e.all=function(t){var n=c(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,a--,0==a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Oa(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var h=h||{},f=this||self,l=/^[\w+/_-]+[=]{0,2}$/,p=null;function d(){}function v(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function y(t){var e=v(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==v(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function b(t){return Object.prototype.hasOwnProperty.call(t,w)&&t[w]||(t[w]=++_)}var w="closure_uid_"+(1e9*Math.random()>>>0),_=0;function I(t,e,n){return t.call.apply(t.bind,arguments)}function E(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function T(t,e,n){return T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?I:E,T.apply(null,arguments)}function A(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now||function(){return+new Date};function N(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function k(t,e,n){this.code=R+t,this.message=e||C[t]||"",this.a=n||null}function D(t){var e=t&&t.code;return e?new k(e.substring(R.length),t.message,t.serverResponse):null}N(k,Error),k.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},k.prototype.toJSON=function(){return this.v()};var O,R="auth/",C={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},L={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in L)if(L[e].id===t)return t=L[e],{firebaseEndpoint:t.Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function U(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");M.call(this,n+t[r])}function V(t,e){throw new U("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function q(){this.b=this.a=null}O=P("__EID__")?"__EID__":void 0,N(M,Error),M.prototype.name="CustomError",N(U,M),U.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var B=new j((function(){return new z}),(function(t){t.reset()}));function G(){var t=Ne,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function z(){this.next=this.b=this.a=null}q.prototype.add=function(t,e){var n=B.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function K(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}var X=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},Y=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Q=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function J(t){t:{for(var e=ea,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function $(t,e){return 0<=H(t,e)}function Z(t,e){var n;return e=H(t,e),(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function tt(t,e){K(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function et(t){return Array.prototype.concat.apply([],arguments)}function nt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var rt,it=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ot=/&/g,st=/</g,at=/>/g,ut=/"/g,ct=/'/g,ht=/\x00/g,ft=/[\x00&<>"']/;function lt(t,e){return-1!=t.indexOf(e)}function pt(t,e){return t<e?-1:t>e?1:0}t:{var dt=f.navigator;if(dt){var vt=dt.userAgent;if(vt){rt=vt;break t}}rt=""}function yt(t){return lt(rt,t)}function gt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function mt(t){for(var e in t)return!1;return!0}function bt(t){var e,n={};for(e in t)n[e]=t[e];return n}var wt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<wt.length;o++)n=wt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function It(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||f,r.Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(m(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;V("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function Et(t,e){this.a=t===St&&e||"",this.b=At}function Tt(t){return t instanceof Et&&t.constructor===Et&&t.b===At?t.a:(V("expected object of type Const, got '"+t+"'"),"type_error:Const")}Et.prototype.ra=!0,Et.prototype.qa=function(){return this.a},Et.prototype.toString=function(){return"Const{"+this.a+"}"};var At={},St={},Nt=new Et(St,"");function kt(t,e){this.a=t===Pt&&e||"",this.b=Lt}function Dt(t){return t instanceof kt&&t.constructor===kt&&t.b===Lt?t.a:(V("expected object of type TrustedResourceUrl, got '"+t+"' of type "+v(t)),"type_error:TrustedResourceUrl")}function Ot(t,e){var n=Tt(t);if(!Ct.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Rt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof Et?Tt(t):encodeURIComponent(String(t))})),new kt(Pt,t)}kt.prototype.ra=!0,kt.prototype.qa=function(){return this.a.toString()},kt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Rt=/%{(\w+)}/g,Ct=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Lt={},Pt={};function xt(t,e){this.a=t===Ft&&e||"",this.b=jt}function Mt(t){return t instanceof xt&&t.constructor===xt&&t.b===jt?t.a:(V("expected object of type SafeUrl, got '"+t+"' of type "+v(t)),"type_error:SafeUrl")}xt.prototype.ra=!0,xt.prototype.qa=function(){return this.a.toString()},xt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ut=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Vt(t){return t instanceof xt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Ut.test(t)||(t="about:invalid#zClosurez"),new xt(Ft,t))}var jt={},Ft={};function qt(){this.a="",this.b=Gt}function Bt(t){return t instanceof qt&&t.constructor===qt&&t.b===Gt?t.a:(V("expected object of type SafeHtml, got '"+t+"' of type "+v(t)),"type_error:SafeHtml")}qt.prototype.ra=!0,qt.prototype.qa=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Gt={};function zt(t){var e=new qt;return e.a=t,e}zt("<!DOCTYPE html>");var Ht=zt("");function Wt(t){var e=new kt(Pt,Tt(Nt));It(t,"HTMLIFrameElement"),t.src=Dt(e).toString()}function Kt(t,e){It(t,"HTMLScriptElement"),t.src=Dt(e),null===p&&(e=f.document,p=(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""),e=p,e&&t.setAttribute("nonce",e)}function Xt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Yt(t){return ft.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ot,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(st,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(at,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ut,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ct,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ht,"&#0;"))),t}function Qt(t){return Qt[" "](t),t}function Jt(t,e){var n=he;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}zt("<br>"),Qt[" "]=d;var $t,Zt=yt("Opera"),te=yt("Trident")||yt("MSIE"),ee=yt("Edge"),ne=ee||te,re=yt("Gecko")&&!(lt(rt.toLowerCase(),"webkit")&&!yt("Edge"))&&!(yt("Trident")||yt("MSIE"))&&!yt("Edge"),ie=lt(rt.toLowerCase(),"webkit")&&!yt("Edge");function oe(){var t=f.document;return t?t.documentMode:void 0}t:{var se="",ae=function(){var t=rt;return re?/rv:([^\);]+)(\)|;)/.exec(t):ee?/Edge\/([\d\.]+)/.exec(t):te?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ie?/WebKit\/(\S+)/.exec(t):Zt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ae&&(se=ae?ae[1]:""),te){var ue=oe();if(null!=ue&&ue>parseFloat(se)){$t=String(ue);break t}}$t=se}var ce,he={};function fe(t){return Jt(t,(function(){for(var e=0,n=it(String($t)).split("."),r=it(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=pt(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||pt(0==s[2].length,0==a[2].length)||pt(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}ce=f.document&&te?oe():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Bp){}var le=!te||9<=Number(ce);function pe(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function de(t,e){gt(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ge.hasOwnProperty(n)?t.setAttribute(ge[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ve,ye,ge={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function me(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!le&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Yt(s.name),'"'),s.type){o.push(' type="',Yt(s.type),'"');var a={};_t(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=we(i,o),s&&("string"===typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):de(o,s)),2<r.length&&be(i,o,r),o}function be(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!y(o)||m(o)&&0<o.nodeType?r(o):W(_e(o)?nt(o):o,r)}}function we(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function _e(t){if(t&&"number"==typeof t.length){if(m(t))return"function"==typeof t.item||"string"==typeof t.item;if(g(t))return"function"==typeof t.item}return!1}function Ie(t){f.setTimeout((function(){throw t}),0)}function Ee(){var t=f.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!yt("Presto")&&(t=function(){var t=we(document,"IFRAME");t.style.display="none",Wt(t),document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(Bt(Ht)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=T((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!yt("Trident")&&!yt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){f.setTimeout(t,0)}}function Te(t,e){ye||Ae(),Se||(ye(),Se=!0),Ne.add(t,e)}function Ae(){if(f.Promise&&f.Promise.resolve){var t=f.Promise.resolve(void 0);ye=function(){t.then(ke)}}else ye=function(){var t=ke;!g(f.setImmediate)||f.Window&&f.Window.prototype&&!yt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(ve||(ve=Ee()),ve(t)):f.setImmediate(t)}}var Se=!1,Ne=new q;function ke(){for(var t;t=G();){try{t.a.call(t.b)}catch(e){Ie(e)}F(B,t)}Se=!1}function De(t,e){if(this.a=Oe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=d)try{var n=this;t.call(e,(function(t){ze(n,Re,t)}),(function(t){if(!(t instanceof Ze))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}ze(n,Ce,t)}))}catch(r){ze(this,Ce,r)}}var Oe=0,Re=2,Ce=3;function Le(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Le.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Pe=new j((function(){return new Le}),(function(t){t.reset()}));function xe(t,e,n){var r=Pe.get();return r.g=t,r.b=e,r.f=n,r}function Me(t){if(t instanceof De)return t;var e=new De(d);return ze(e,Re,t),e}function Ue(t){return new De((function(e,n){n(t)}))}function Ve(t,e,n){He(t,e,n,null)||Te(A(e,t))}function je(t){return new De((function(e,n){var r=t.length,i=[];if(r)for(var o,s=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},u=0;u<t.length;u++)o=t[u],Ve(o,A(s,u),a);else e(i)}))}function Fe(t){return new De((function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},s=0;s<t.length;s++)i=t[s],Ve(i,A(o,s,!0),A(o,s,!1));else e(r)}))}function qe(t,e){if(t.a==Oe)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==Oe&&1==r?qe(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):Xe(n),Ye(n,i,Ce,e)))}t.c=null}else ze(t,Ce,e)}function Be(t,e){t.b||t.a!=Re&&t.a!=Ce||Ke(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ge(t,e,n,r){var i=xe(null,null,null);return i.a=new De((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ze?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Be(t,i),i.a}function ze(t,e,n){t.a==Oe&&(t===n&&(e=Ce,n=new TypeError("Promise cannot resolve to itself")),t.a=1,He(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Ke(t),e!=Ce||n instanceof Ze||Je(t,n)))}function He(t,e,n,r){if(t instanceof De)return Be(t,xe(e||d,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(m(t))try{var i=t.then;if(g(i))return We(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function We(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(u){o(u)}}function Ke(t){t.h||(t.h=!0,Te(t.ec,t))}function Xe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ye(t,e,n,r){if(n==Ce&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Qe(e,n,r);else try{e.c?e.g.call(e.f):Qe(e,n,r)}catch(i){$e.call(null,i)}F(Pe,e)}function Qe(t,e,n){e==Re?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function Je(t,e){t.g=!0,Te((function(){t.g&&$e.call(null,e)}))}De.prototype.then=function(t,e,n){return Ge(this,g(t)?t:null,g(e)?e:null,n)},De.prototype.$goog_Thenable=!0,e=De.prototype,e.ma=function(t,e){return t=xe(t,t,e),t.c=!0,Be(this,t),this},e.o=function(t,e){return Ge(this,null,t,e)},e.cancel=function(t){if(this.a==Oe){var e=new Ze(t);Te((function(){qe(this,e)}),this)}},e.Yc=function(t){this.a=Oe,ze(this,Re,t)},e.Zc=function(t){this.a=Oe,ze(this,Ce,t)},e.ec=function(){for(var t;t=Xe(this);)Ye(this,t,this.a,this.i);this.h=!1};var $e=Ie;function Ze(t){M.call(this,t)}function tn(){0!=en&&(nn[b(this)]=this),this.wa=this.wa,this.na=this.na}N(Ze,M),Ze.prototype.name="cancel";var en=0,nn={};function rn(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=en)){var e=b(t);if(0!=en&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete nn[e]}}tn.prototype.wa=!1,tn.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var on=Object.freeze||function(t){return t},sn=!te||9<=Number(ce),an=te&&!fe("9"),un=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",d,e),f.removeEventListener("test",d,e)}catch(n){}return t}();function cn(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function hn(t,e){if(cn.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(re){t:{try{Qt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:fn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}cn.prototype.preventDefault=function(){this.defaultPrevented=!0},N(hn,cn);var fn=on({2:"touch",3:"pen",4:"mouse"});hn.prototype.preventDefault=function(){hn.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,an)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},hn.prototype.f=function(){return this.a};var ln="closure_listenable_"+(1e6*Math.random()|0),pn=0;function dn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++pn,this.ua=this.Na=!1}function vn(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function yn(t){this.src=t,this.a={},this.b=0}function gn(t,e){var n=e.type;n in t.a&&Z(t.a[n],e)&&(vn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function mn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}yn.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var s=mn(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):(e=new dn(e,this.src,o,!!r,i),e.Na=n,t.push(e)),e};var bn="closure_lm_"+(1e6*Math.random()|0),wn={};function _n(t,e,n,r,i){if(r&&r.once)Tn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)_n(t,e[o],n,r,i);else n=Ln(n),t&&t[ln]?xn(t,e,n,m(r)?!!r.capture:!!r,i):In(t,e,n,!1,r,i)}function In(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=m(i)?!!i.capture:!!i,a=Rn(t);if(a||(t[bn]=a=new yn(t)),n=a.add(e,n,r,s,o),!n.proxy){if(r=En(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)un||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Nn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function En(){var t=On,e=sn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function Tn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Tn(t,e[o],n,r,i);else n=Ln(n),t&&t[ln]?Mn(t,e,n,m(r)?!!r.capture:!!r,i):In(t,e,n,!0,r,i)}function An(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)An(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=Ln(n),t&&t[ln]?(t=t.u,e=String(e).toString(),e in t.a&&(o=t.a[e],n=mn(o,n,r,i),-1<n&&(vn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Rn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=mn(e,n,r,i)),(n=-1<t?e[t]:null)&&Sn(n))}function Sn(t){if("number"!==typeof t&&t&&!t.ua){var e=t.src;if(e&&e[ln])gn(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Nn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Rn(e))?(gn(n,t),0==n.b&&(n.src=null,e[bn]=null)):vn(t)}}}function Nn(t){return t in wn?wn[t]:wn[t]="on"+t}function kn(t,e,n,r){var i=!0;if((t=Rn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=Dn(o,r),i=i&&!1!==o)}return i}function Dn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&Sn(t),n.call(r,e)}function On(t,e){if(t.ua)return!0;if(!sn){if(!e)t:{e=["window","event"];for(var n=f,r=0;r<e.length;r++)if(n=n[e[r]],null==n){e=null;break t}e=n}if(r=e,e=new hn(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=kn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=kn(r[i],t,!1,e),n=n&&o}return n}return Dn(t,new hn(e,this))}function Rn(t){return t=t[bn],t instanceof yn?t:null}var Cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ln(t){return g(t)?t:(t[Cn]||(t[Cn]=function(e){return t.handleEvent(e)}),t[Cn])}function Pn(){tn.call(this),this.u=new yn(this),this.Yb=this,this.eb=null}function xn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function Mn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function Un(t,e,n,r){if(e=t.u.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&gn(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Vn(t,e,n){if(g(t))n&&(t=T(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=T(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function jn(t){var e=null;return new De((function(n,r){e=Vn((function(){n(void 0)}),t),-1==e&&r(Error("Failed to schedule timer."))})).o((function(t){throw f.clearTimeout(e),t}))}function Fn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"===typeof t)return t.split("");if(y(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function qn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(y(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Bn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(y(t)||"string"===typeof t)W(t,e,void 0);else for(var n=qn(t),r=Fn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}function Gn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Gn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function zn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Hn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Hn(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Hn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}N(Pn,tn),Pn.prototype[ln]=!0,Pn.prototype.addEventListener=function(t,e,n,r){_n(this,t,e,n,r)},Pn.prototype.removeEventListener=function(t,e,n,r){An(this,t,e,n,r)},Pn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"===typeof t)t=new cn(t,n);else if(t instanceof cn)t.target=t.target||n;else{var i=t;t=new cn(r,n),_t(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Un(s,r,!0,t)&&i}if(s=t.b=n,i=Un(s,r,!0,t)&&i,i=Un(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)s=t.b=e[o],i=Un(s,r,!1,t)&&i;return i},Pn.prototype.Ba=function(){if(Pn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)vn(n[r]);delete e.a[t],e.b--}}this.eb=null},e=Gn.prototype,e.V=function(){zn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return zn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return Hn(this.b,t)?this.b[t]:e},e.set=function(t,e){Hn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Wn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kn(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Xn?(this.h=void 0!==e?e:t.h,Yn(this,t.f),this.i=t.i,this.b=t.b,Qn(this,t.l),this.c=t.c,Jn(this,yr(t.a)),this.g=t.g):t&&(n=String(t).match(Wn))?(this.h=!!e,Yn(this,n[1]||"",!0),this.i=nr(n[2]||""),this.b=nr(n[3]||"",!0),Qn(this,n[4]),this.c=nr(n[5]||"",!0),Jn(this,n[6]||"",!0),this.g=nr(n[7]||"")):(this.h=!!e,this.a=new hr(null,this.h))}function Yn(t,e,n){t.f=n?nr(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Qn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Jn(t,e,n){e instanceof hr?(t.a=e,mr(t.a,t.h)):(n||(e=rr(e,ur)),t.a=new hr(e,t.h))}function $n(t,e,n){t.a.set(e,n)}function Zn(t,e){return t.a.get(e)}function tr(t){return t instanceof Xn?new Xn(t):new Xn(t,void 0)}function er(t,e){var n=new Xn(null,void 0);return Yn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function nr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rr(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ir),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ir(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}Xn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(rr(e,or,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(rr(e,or,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.l,null!=n&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(rr(n,"/"==n.charAt(0)?ar:sr,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",rr(n,cr)),t.join("")},Xn.prototype.resolve=function(t){var e=new Xn(this),n=!!t.f;n?Yn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Qn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(lt(i,"./")||lt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Jn(e,yr(t.a)):n=!!t.g,n&&(e.g=t.g),e};var or=/[#\/\?@]/g,sr=/[#\?:]/g,ar=/[#\?]/g,ur=/[#\?@]/g,cr=/#/g;function hr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function fr(t){t.a||(t.a=new Gn,t.b=0,t.c&&Kn(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function lr(t){var e=qn(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new hr(null,void 0);t=Fn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?vr(n,i,o):n.add(i,o)}return n}function pr(t,e){fr(t),e=gr(t,e),Hn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Hn(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&zn(t)))}function dr(t,e){return fr(t),e=gr(t,e),Hn(t.a.b,e)}function vr(t,e,n){pr(t,e),0<n.length&&(t.c=null,t.a.set(gr(t,e),nt(n)),t.b+=n.length)}function yr(t){var e=new hr;return e.c=t.c,t.a&&(e.a=new Gn(t.a),e.b=t.b),e}function gr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function mr(t,e){e&&!t.f&&(fr(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(pr(this,e),vr(this,n,t))}),t)),t.f=e}function br(t){var e=[];return _r(new wr,t,e),e.join("")}function wr(){}function _r(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),_r(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&(o=e[r],"function"!=typeof o&&(n.push(i),Tr(r,n),n.push(":"),_r(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Tr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}e=hr.prototype,e.add=function(t,e){fr(this),this.c=null,t=gr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){fr(this),this.a.forEach((function(n,r){W(n,(function(n){t.call(e,n,r,this)}),this)}),this)},e.X=function(){fr(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.V=function(t){fr(this);var e=[];if("string"===typeof t)dr(this,t)&&(e=et(e,this.a.get(gr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=et(e,t[n])}return e},e.set=function(t,e){return fr(this),this.c=null,t=gr(this,t),dr(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t?(t=this.V(t),0<t.length?String(t[0]):e):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Er=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Tr(t,e){e.push('"',t.replace(Er,(function(t){var e=Ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Ir[t]=e),e})),'"')}function Ar(){var t=Yr();return te&&!!ce&&11==ce||/Edge\/\d+/.test(t)}function Sr(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Nr(t,e){e=e||f.window;var n="about:blank";t&&(n=Mt(Vt(t))),e.location.href=n}function kr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<kr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function Dr(){var t=Yr();return t=Wr(t)!=Hr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null,!(t&&30>t)&&(!te||!ce||9<ce)}function Or(t){return t=(t||Yr()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Rr(t){t=t||f.window;try{t.close()}catch(e){}}function Cr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Yr().toLowerCase(),r&&(e.target=r,lt(n,"crios/")&&(e.target="_blank")),Wr(Yr())==zr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof xt?n:Vt("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((yt("iPhone")&&!yt("iPod")&&!yt("iPad")||yt("iPad")||yt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(s=we(document,"A"),It(s,"HTMLAnchorElement"),e instanceof xt||e instanceof xt||(e="object"==typeof e&&e.ra?e.qa():String(e),Ut.test(e)||(e="about:invalid#zClosurez"),e=new xt(Ft,e)),s.href=Mt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Mt(e),s&&(ne&&lt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=zt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Yt(t)+'">'),r=s.document)&&(r.write(Bt(t)),r.close())):(s=r.open(Mt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}function Lr(t){return new De((function(e){function n(){jn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}return n()}))}var Pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xr=/^[^@]+@[^@]+$/;function Mr(){var t=null;return new De((function(e){"complete"==f.document.readyState?e():(t=function(){e()},Tn(window,"load",t))})).o((function(e){throw An(window,"load",t),e}))}function Ur(){return Vr(void 0)?Mr().then((function(){return new De((function(t,e){var n=f.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ue(Error("Cordova must run in an Android or iOS file scheme."))}function Vr(t){return t=t||Yr(),!("file:"!==ti()&&"ionic:"!==ti()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function jr(){var t=f.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Fr(){return"undefined"!==typeof f.WorkerGlobalScope&&"function"===typeof f.importScripts}function qr(){return r.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.INTERNAL.hasOwnProperty("node")?"Node":Fr()?"Worker":"Browser"}function Br(){var t=qr();return"ReactNative"===t||"Node"===t}function Gr(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}var zr="Firefox",Hr="Chrome";function Wr(t){var e=t.toLowerCase();return lt(e,"opera/")||lt(e,"opr/")||lt(e,"opios/")?"Opera":lt(e,"iemobile")?"IEMobile":lt(e,"msie")||lt(e,"trident/")?"IE":lt(e,"edge/")?"Edge":lt(e,"firefox/")?zr:lt(e,"silk/")?"Silk":lt(e,"blackberry")?"Blackberry":lt(e,"webos")?"Webos":!lt(e,"safari/")||lt(e,"chrome/")||lt(e,"crios/")||lt(e,"android")?!lt(e,"chrome/")&&!lt(e,"crios/")||lt(e,"edge/")?lt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Hr:"Safari"}var Kr={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Xr(t,e){e=e||[];var n,r=[],i={};for(n in Kr)i[Kr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=qr(),"Browser"===r?(i=Yr(),r=Wr(i)):"Worker"===r&&(i=Yr(),r=Wr(i)+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Yr(){return f.navigator&&f.navigator.userAgent||""}function Qr(t,e){t=t.split("."),e=e||f;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Jr(){try{var t=f.localStorage,e=oi();if(t)return t.setItem(e,"1"),t.removeItem(e),!Ar()||!!f.indexedDB}catch(n){return Fr()&&!!f.indexedDB}return!1}function $r(){return(Zr()||"chrome-extension:"===ti()||Vr())&&!Br()&&Jr()&&!Fr()}function Zr(){return"http:"===ti()||"https:"===ti()}function ti(){return f.location&&f.location.protocol||null}function ei(t){return t=t||Yr(),!Or(t)&&Wr(t)!=zr}function ni(t){return"undefined"===typeof t?null:br(t)}function ri(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function ii(t){if(null!==t)return JSON.parse(t)}function oi(t){return t||Math.floor(1e9*Math.random()).toString()}function si(t){return t=t||Yr(),"Safari"!=Wr(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function ai(){var t=f.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function ui(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Yr(),e=qr(),this.b=Or(t)||"ReactNative"===e}function ci(){var t=f.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function hi(){var t=f.document,e=null;return ci()||!t?Me():new De((function(n){e=function(){ci()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}function fi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function li(){return!(!Qr("fireauth.oauthhelper",f)&&!Qr("fireauth.iframe",f))}function pi(){var t=f.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function di(){var t=f.navigator;return t&&t.serviceWorker?Me().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Me(null)}ui.prototype.get=function(){var t=f.navigator;return!t||"boolean"!==typeof t.onLine||!Zr()&&"chrome-extension:"!==ti()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var vi,yi={};function gi(t){yi[t]||(yi[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var mi={};Object.defineProperty(mi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(mi,"abcd",{configurable:!0,enumerable:!0,value:2}),vi=2==mi.abcd}catch(Bp){vi=!1}function bi(t,e,n){vi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function wi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&bi(t,n,e[n])}function _i(t){var e={};return wi(e,t),e}function Ii(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Ei(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Ti(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)bi(e,n,Ti(t[n]));return e}function Ai(t){var e=t&&(t[Oi]?"phone":null);if(!(e&&t&&t[Di]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");bi(this,"uid",t[Di]),bi(this,"displayName",t[Ni]||null);var n=null;t[ki]&&(n=new Date(t[ki]).toUTCString()),bi(this,"enrollmentTime",n),bi(this,"factorId",e)}function Si(t){try{var e=new Ri(t)}catch(n){e=null}return e}Ai.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Ni="displayName",ki="enrolledAt",Di="mfaEnrollmentId",Oi="phoneInfo";function Ri(t){Ai.call(this,t),bi(this,"phoneNumber",t[Oi])}function Ci(t){var e={},n=t[Mi],r=t[Vi],i=t[ji];if(t=Si(t[Ui]),!i||i!=Pi&&i!=xi&&!n||i==xi&&!r||i==Li&&!t)throw Error("Invalid checkActionCode response!");i==xi?(e[qi]=n||null,e[Gi]=n||null,e[Fi]=r):(e[qi]=r||null,e[Gi]=r||null,e[Fi]=n||null),e[Bi]=t||null,bi(this,Hi,i),bi(this,zi,Ti(e))}N(Ri,Ai),Ri.prototype.v=function(){var t=Ri.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var Li="REVERT_SECOND_FACTOR_ADDITION",Pi="EMAIL_SIGNIN",xi="VERIFY_AND_CHANGE_EMAIL",Mi="email",Ui="mfaInfo",Vi="newEmail",ji="requestType",Fi="email",qi="fromEmail",Bi="multiFactorInfo",Gi="previousEmail",zi="data",Hi="operation";function Wi(t){t=tr(t);var e=Zn(t,Ki)||null,n=Zn(t,Xi)||null,r=Zn(t,Ji)||null;if(r=r&&Zi[r]||null,!e||!n||!r)throw new k("argument-error",Ki+", "+Xi+"and "+Ji+" are required in a valid action code URL.");wi(this,{apiKey:e,operation:r,code:n,continueUrl:Zn(t,Yi)||null,languageCode:Zn(t,Qi)||null,tenantId:Zn(t,$i)||null})}var Ki="apiKey",Xi="oobCode",Yi="continueUrl",Qi="languageCode",Ji="mode",$i="tenantId",Zi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Li,signIn:Pi,verifyAndChangeEmail:xi,verifyEmail:"VERIFY_EMAIL"};function to(t){try{return new Wi(t)}catch(e){return null}}function eo(t){var e=t[so];if("undefined"===typeof e)throw new k("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new k("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[no];if(n&&"object"===typeof n){e=n[co];var r=n[ao];if(n=n[uo],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new k("argument-error",ao+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new k("argument-error",uo+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new k("argument-error",co+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new k("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new k("argument-error",no+" property must be a non null object when specified.");if(this.f=null,(e=t[oo])&&"object"===typeof e){if(e=e[ho],"string"===typeof e&&e.length)this.f=e;else if("undefined"!==typeof e)throw new k("argument-error",ho+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new k("argument-error",oo+" property must be a non null object when specified.");if(e=t[io],"undefined"!==typeof e&&"boolean"!==typeof e)throw new k("argument-error",io+" property must be a boolean when specified.");if(this.c=!!e,t=t[ro],"undefined"!==typeof t&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new k("argument-error",ro+" property must be a non empty string when specified.");this.i=t||null}var no="android",ro="dynamicLinkDomain",io="handleCodeInApp",oo="iOS",so="url",ao="installApp",uo="minimumVersion",co="packageName",ho="bundleId";function fo(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}function lo(t){return Y(t,(function(t){return t=t.toString(16),1<t.length?t:"0"+t})).join("")}var po=null;function vo(t){var e="";return yo(t,(function(t){e+=String.fromCharCode(t)})),e}function yo(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=po[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}go();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}function go(){if(!po){po={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===po[o]&&(po[o]=i)}}}function mo(t){var e=wo(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,S(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function bo(t){try{return new mo(t)}catch(e){return null}}function wo(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(vo(t))}catch(r){}return null}mo.prototype.S=function(){return this.f},mo.prototype.i=function(){return this.b},mo.prototype.toString=function(){return this.g};var _o="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Io=["client_id","response_type","scope","redirect_uri","state"],Eo={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Io},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Io},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Io},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:_o},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function To(t){for(var e in Eo)if(Eo[e].ea==t)return Eo[e];return null}function Ao(t){var e={};e["facebook.com"]=Oo,e["google.com"]=Co,e["github.com"]=Ro,e["twitter.com"]=Lo;var n=t&&t[No];try{if(n)return e[n]?new e[n](t):new Do(t);if("undefined"!==typeof t[So])return new ko(t)}catch(r){}return null}var So="idToken",No="providerId";function ko(t){var e=t[No];if(!e&&t[So]){var n=bo(t[So]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),bi(this,"providerId",e),bi(this,"isNewUser",n)}function Do(t){ko.call(this,t),t=ii(t.rawUserInfo||"{}"),bi(this,"profile",Ti(t||{}))}function Oo(t){if(Do.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ro(t){if(Do.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");bi(this,"username",this.profile&&this.profile.login||null)}function Co(t){if(Do.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Lo(t){if(Do.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");bi(this,"username",t.screenName||null)}function Po(t){var e=tr(t),n=Zn(e,"link"),r=Zn(tr(n),"link");return e=Zn(e,"deep_link_id"),Zn(tr(e),"link")||e||r||n||t}function xo(t,e){if(!t&&!e)throw new k("internal-error","Internal assert: no raw session string available");if(t&&e)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Mo:Uo}N(Do,ko),N(Oo,Do),N(Ro,Do),N(Co,Do),N(Lo,Do);var Mo="enroll",Uo="signin";function Vo(){}function jo(t,e){return t.then((function(t){if(t[Ca]){var n=bo(t[Ca]);if(!n||e!=n.h)throw new k("user-mismatch");return t}throw new k("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==R+"user-not-found"?new k("user-mismatch"):t}))}function Fo(t,e){if(!e)throw new k("internal-error","failed to construct a credential");this.a=e,bi(this,"providerId",t),bi(this,"signInMethod",t)}function qo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Bo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Fo(t.providerId,t.pendingToken)}catch(e){}return null}function Go(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&bi(this,"idToken",e.idToken),e.accessToken&&bi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&bi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");bi(this,"accessToken",e.oauthToken),bi(this,"secret",e.oauthTokenSecret)}bi(this,"providerId",t),bi(this,"signInMethod",n)}function zo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:lr(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Ho(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Go(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Wo(t,e){this.Oc=e||[],wi(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(To(t)||{}).Ha||null,this.kb=null}function Ko(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');Wo.call(this,t,[])}function Xo(t){Wo.call(this,t,Io),this.a=[]}function Yo(){Xo.call(this,"facebook.com")}function Qo(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new Yo).credential({accessToken:e})}function Jo(){Xo.call(this,"github.com")}function $o(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new Jo).credential({accessToken:e})}function Zo(){Xo.call(this,"google.com"),this.Aa("profile")}function ts(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new Zo).credential({idToken:n,accessToken:e})}function es(){Wo.call(this,"twitter.com",_o)}function ns(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Go("twitter.com",n,"twitter.com")}function rs(t,e,n){this.a=t,this.f=e,bi(this,"providerId","password"),bi(this,"signInMethod",n===os.EMAIL_LINK_SIGN_IN_METHOD?os.EMAIL_LINK_SIGN_IN_METHOD:os.EMAIL_PASSWORD_SIGN_IN_METHOD)}function is(t){return t&&t.email&&t.password?new rs(t.email,t.password,t.signInMethod):null}function os(){wi(this,{providerId:"password",isOAuthProvider:!1})}function ss(t,e){if(e=as(e),!e)throw new k("argument-error","Invalid email link!");return new rs(t,e.code,os.EMAIL_LINK_SIGN_IN_METHOD)}function as(t){return t=Po(t),(t=to(t))&&t.operation===Pi?t:null}function us(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new k("internal-error");this.a=t,bi(this,"providerId","phone"),this.ea="phone",bi(this,"signInMethod","phone")}function cs(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new us(e)}return null}function hs(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function fs(t){try{this.a=t||r.auth()}catch(e){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}wi(this,{providerId:"phone",isOAuthProvider:!1})}function ls(t,e){if(!t)throw new k("missing-verification-id");if(!e)throw new k("missing-verification-code");return new us({bb:t,ab:e})}function ps(t){if(t.temporaryProof&&t.phoneNumber)return new us({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return ts(o,n);case"facebook.com":return Qo(n);case"github.com":return $o(n);case"twitter.com":return ns(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new Fo(e,s):new Go(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Xo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function ds(t){if(!t.isOAuthProvider)throw new k("invalid-oauth-provider")}function vs(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function ys(t){return t=t||{},t.type?new vs(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&D(t.error),t.postBody,t.tenantId):null}function gs(){this.b=null,this.a=[]}xo.prototype.Fa=function(){return this.a?Me(this.a):Me(this.b)},xo.prototype.v=function(){return this.type==Mo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Vo.prototype.ia=function(){},Vo.prototype.b=function(){},Vo.prototype.c=function(){},Vo.prototype.v=function(){},Fo.prototype.ia=function(t){return su(t,qo(this))},Fo.prototype.b=function(t,e){var n=qo(this);return n.idToken=e,au(t,n)},Fo.prototype.c=function(t,e){return jo(uu(t,qo(this)),e)},Fo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Go.prototype.ia=function(t){return su(t,zo(this))},Go.prototype.b=function(t,e){var n=zo(this);return n.idToken=e,au(t,n)},Go.prototype.c=function(t,e){var n=zo(this);return jo(uu(t,n),e)},Go.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Wo.prototype.Ia=function(t){return this.Fb=bt(t),this},N(Ko,Wo),N(Xo,Wo),Xo.prototype.Aa=function(t){return $(this.a,t)||this.a.push(t),this},Xo.prototype.Nb=function(){return nt(this.a)},Xo.prototype.credential=function(t,e){var n;if(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null},!n.idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new Go(this.providerId,n,this.providerId)},N(Yo,Xo),bi(Yo,"PROVIDER_ID","facebook.com"),bi(Yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),N(Jo,Xo),bi(Jo,"PROVIDER_ID","github.com"),bi(Jo,"GITHUB_SIGN_IN_METHOD","github.com"),N(Zo,Xo),bi(Zo,"PROVIDER_ID","google.com"),bi(Zo,"GOOGLE_SIGN_IN_METHOD","google.com"),N(es,Wo),bi(es,"PROVIDER_ID","twitter.com"),bi(es,"TWITTER_SIGN_IN_METHOD","twitter.com"),rs.prototype.ia=function(t){return this.signInMethod==os.EMAIL_LINK_SIGN_IN_METHOD?Gu(t,yu,{email:this.a,oobCode:this.f}):Gu(t,Vu,{email:this.a,password:this.f})},rs.prototype.b=function(t,e){return this.signInMethod==os.EMAIL_LINK_SIGN_IN_METHOD?Gu(t,gu,{idToken:e,email:this.a,oobCode:this.f}):Gu(t,Ou,{idToken:e,email:this.a,password:this.f})},rs.prototype.c=function(t,e){return jo(this.ia(t),e)},rs.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},wi(os,{PROVIDER_ID:"password"}),wi(os,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),wi(os,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),us.prototype.ia=function(t){return t.cb(hs(this))},us.prototype.b=function(t,e){var n=hs(this);return n.idToken=e,Gu(t,Fu,n)},us.prototype.c=function(t,e){var n=hs(this);return n.operation="REAUTH",t=Gu(t,qu,n),jo(t,e)},us.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},fs.prototype.cb=function(t,e){var n=this.a.b;return Me(e.verify()).then((function(r){if("string"!==typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i,o=m(t)?t.session:null,s=m(t)?t.phoneNumber:t;return i=o&&o.type==Mo?o.Fa().then((function(t){return Za(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r}})})):o&&o.type==Uo?o.Fa().then((function(e){return eu(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):$a(n,{phoneNumber:s,recaptchaToken:r}),i.then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},wi(fs,{PROVIDER_ID:"phone"}),wi(fs,{PHONE_SIGN_IN_METHOD:"phone"}),vs.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},vs.prototype.S=function(){return this.h},vs.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var ms,bs=null;function ws(t){var e=bs;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},t=Qr("universalLinks.subscribe",f),"function"===typeof t&&t(null,e.b))}function _s(t){var e="unauthorized-domain",n=void 0,r=tr(t);t=r.b,r=r.f,"chrome-extension"==r?n=Xt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Xt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",k.call(this,e,n)}function Is(t,e,n){k.call(this,t,n),t=e||{},t.Gb&&bi(this,"email",t.Gb),t.da&&bi(this,"phoneNumber",t.da),t.credential&&bi(this,"credential",t.credential),t.Wb&&bi(this,"tenantId",t.Wb)}function Es(t){if(t.code){var e=t.code||"";0==e.indexOf(R)&&(e=e.substring(R.length));var n={credential:ps(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new k(e,t.message||void 0);return new Is(e,n,t.message)}return null}function Ts(){}function As(t){return t.c||(t.c=t.b())}function Ss(){}function Ns(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ks(){}function Ds(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=T(this.oc,this),this.a.onerror=T(this.Pb,this),this.a.onprogress=T(this.pc,this),this.a.ontimeout=T(this.tc,this)}function Os(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Rs(t,e,n){this.reset(t,e,n,void 0,void 0)}N(_s,k),N(Is,k),Is.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&_t(t,e),t},Is.prototype.toJSON=function(){return this.v()},Ts.prototype.c=null,N(Ss,Ts),Ss.prototype.a=function(){var t=Ns(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ss.prototype.b=function(){var t={};return Ns(this)&&(t[0]=!0,t[1]=!0),t},ms=new Ss,N(ks,Ts),ks.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ds;throw Error("Unsupported browser")},ks.prototype.b=function(){return{}},e=Ds.prototype,e.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Os(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText="",Os(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,Os(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Rs.prototype.a=null;function Cs(t){this.f=t,this.b=this.c=this.a=null}function Ls(t,e){this.name=t,this.value=e}Rs.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||S(),delete this.a},Ls.prototype.toString=function(){return this.name};var Ps=new Ls("SEVERE",1e3),xs=new Ls("WARNING",900),Ms=new Ls("CONFIG",700),Us=new Ls("FINE",500);function Vs(t){return t.c?t.c:t.a?Vs(t.a):(V("Root logger has no level set."),null)}Cs.prototype.log=function(t,e,n){if(t.value>=Vs(this).value)for(g(e)&&(e=e()),t=new Rs(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var js={},Fs=null;function qs(t){var e;if(Fs||(Fs=new Cs(""),js[""]=Fs,Fs.c=Ms),!(e=js[t])){e=new Cs(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=qs(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,js[t]=e}return e}function Bs(t,e){t&&t.log(Us,e,void 0)}function Gs(t){this.f=t}function zs(t){Pn.call(this),this.s=t,this.readyState=Hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=qs("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}N(Gs,Ts),Gs.prototype.a=function(){return new zs(this.f)},Gs.prototype.b=function(t){return function(){return t}}({}),N(zs,Pn);var Hs=0;function Ws(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function Ks(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Xs(t)}function Xs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ys(t){Pn.call(this),this.headers=new Gn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=Qs,this.w=this.R=!1}e=zs.prototype,e.open=function(t,e){if(this.readyState!=Hs)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Xs(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ks(this,!1)),this.readyState=Hs},e.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Xs(this)),this.a&&(this.readyState=3,Xs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):"undefined"!==typeof f.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Ws(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Ks(this,!0):Xs(this),3==this.readyState&&Ws(this)}},e.rc=function(t){this.a&&(this.response=this.responseText=t,Ks(this,!0))},e.qc=function(t){this.a&&(this.response=t,Ks(this,!0))},e.Sa=function(t){var e=this.h;e&&e.log(xs,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Ks(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(xs,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(xs,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},N(Ys,Pn);var Qs="";Ys.prototype.b=qs("goog.net.XhrIo");var Js=/^https?$/i,$s=["POST","PUT"];function Zs(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():ms.a(),t.B=t.D?As(t.D):As(ms),t.a.onreadystatechange=T(t.Sb,t);try{Bs(t.b,ha(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return Bs(t.b,ha(t,"Error opening Xhr: "+s.message)),void na(t,s)}e=r||"";var o=new Gn(t.headers);i&&Bn(i,(function(t,e){o.set(e,t)})),i=J(o.X()),r=f.FormData&&e instanceof f.FormData,!$($s,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{sa(t),0<t.g&&(t.w=ta(t.a),Bs(t.b,ha(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=T(t.Ka,t)):t.s=Vn(t.Ka,t.g,t)),Bs(t.b,ha(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){Bs(t.b,ha(t,"Send error: "+s.message)),na(t,s)}}function ta(t){return te&&fe(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function ea(t){return"content-type"==t.toLowerCase()}function na(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ra(t),oa(t)}function ra(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ia(t){if(t.c&&"undefined"!=typeof h)if(t.B[1]&&4==aa(t)&&2==ua(t))Bs(t.b,ha(t,"Local request error detected and ignored"));else if(t.i&&4==aa(t))Vn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==aa(t)){Bs(t.b,ha(t,"Request complete")),t.c=!1;try{var e,n=ua(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Wn)[1]||null;if(!o&&f.self&&f.self.location){var s=f.self.location.protocol;o=s.substr(0,s.length-1)}i=!Js.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var a=2<aa(t)?t.a.statusText:""}catch(u){Bs(t.b,"Can not get status: "+u.message),a=""}t.h=a+" ["+ua(t)+"]",ra(t)}}finally{oa(t)}}}function oa(t,e){if(t.a){sa(t);var n=t.a,r=t.B[0]?d:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Ps,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function sa(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(f.clearTimeout(t.s),t.s=null)}function aa(t){return t.a?t.a.readyState:0}function ua(t){try{return 2<aa(t)?t.a.status:-1}catch(e){return-1}}function ca(t){try{return t.a?t.a.responseText:""}catch(e){return Bs(t.b,"Can not get responseText: "+e.message),""}}function ha(t,e){return e+" ["+t.P+" "+t.l+" "+ua(t)+"]"}function fa(t){var e=Ta;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function la(t,e,n){t.a=!0,t.c=n,t.f=!e,ga(t)}function pa(t){if(t.a){if(!t.u)throw new ma(t);t.u=!1}}function da(t,e){va(t,null,e,void 0)}function va(t,e,n,r){t.g.push([e,n,r]),t.a&&ga(t)}function ya(t){return Q(t.g,(function(t){return g(t[1])}))}function ga(t){if(t.h&&t.a&&ya(t)){var e=t.h,n=_a[e];n&&(f.clearTimeout(n.a),delete _a[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(x(e)||"function"===typeof f.Promise&&e instanceof f.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,ya(t)||(n=!0)}}t.c=e,r&&(a=T(t.m,t,!0),r=T(t.m,t,!1),e instanceof fa?(va(e,a,r),e.B=!0):e.then(a,r)),n&&(e=new wa(e),_a[e.a]=e,t.h=e.a)}function ma(){M.call(this)}function ba(){M.call(this)}function wa(t){this.a=f.setTimeout(T(this.c,this),0),this.b=t}e=Ys.prototype,e.Ka=function(){"undefined"!=typeof h&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Bs(this.b,ha(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(Bs(this.b,ha(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oa(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),oa(this,!0)),Ys.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?ia(this):this.Hc())},e.Hc=function(){ia(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Qs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Ps,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Bs(this.b,"Can not get response: "+e.message),null}},fa.prototype.cancel=function(t){if(this.a)this.c instanceof fa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new ba(this),pa(this),la(this,!1,t))}},fa.prototype.m=function(t,e){this.i=!1,la(this,t,e)},fa.prototype.then=function(t,e,n){var r,i,o=new De((function(t,e){r=t,i=e}));return va(this,r,(function(t){t instanceof ba?o.cancel():i(t)})),o.then(t,e,n)},fa.prototype.$goog_Thenable=!0,N(ma,M),ma.prototype.message="Deferred has already fired",ma.prototype.name="AlreadyCalledError",N(ba,M),ba.prototype.message="Deferred was canceled",ba.prototype.name="CanceledError",wa.prototype.c=function(){throw delete _a[this.a],this.b};var _a={};function Ia(t){var e={},n=e.document||document,r=Dt(t).toString(),i=we(document,"SCRIPT"),o={Tb:i,Ka:void 0},s=new fa(o),a=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(a=window.setTimeout((function(){Aa(i,!0);var t=new ka(Na,"Timeout reached for loading script "+r);pa(s),la(s,!1,t)}),u),o.Ka=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Aa(i,e.ud||!1,a),pa(s),la(s,!0,null))},i.onerror=function(){Aa(i,!0,a);var t=new ka(Sa,"Error while loading script "+r);pa(s),la(s,!1,t)},o=e.attributes||{},_t(o,{type:"text/javascript",charset:"UTF-8"}),de(i,o),Kt(i,t),Ea(n).appendChild(i),s}function Ea(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function Ta(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Aa(t,!0,this.Ka)}}function Aa(t,e,n){null!=n&&f.clearTimeout(n),t.onload=d,t.onerror=d,t.onreadystatechange=d,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Sa=0,Na=1;function ka(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function Da(t){this.f=t}function Oa(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||La,this.g=bt(t.secureTokenHeaders||Pa),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||xa,this.a=bt(t.firebaseHeaders||Ma),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==qr(),n=f.XMLHttpRequest||n&&r.INTERNAL.node&&r.INTERNAL.node.XMLHttpRequest,!n&&!Fr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Fr()?this.f=new Gs(self):Br()?this.f=new Da(n):this.f=new ks,this.b=null}N(ka,M),N(Da,Ts),Da.prototype.a=function(){return new this.f},Da.prototype.b=function(){return{}};var Ra,Ca="idToken",La=new ui(3e4,6e4),Pa={"Content-Type":"application/x-www-form-urlencoded"},xa=new ui(3e4,6e4),Ma={"Content-Type":"application/json"};function Ua(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Va(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ja(t,e,n,r,i,o,s){Dr()||Fr()?t=T(t.w,t):(Ra||(Ra=new De((function(t,e){Ba(t,e)}))),t=T(t.s,t)),t(e,n,r,i,o,s)}Oa.prototype.S=function(){return this.b},Oa.prototype.w=function(t,e,n,r,i,o){if(Fr()&&("undefined"===typeof f.fetch||"undefined"===typeof f.Headers||"undefined"===typeof f.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new Ys(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}xn(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(ca(this))||null}catch(n){t=null}e&&e(t)})),Mn(s,"ready",(function(){a&&clearTimeout(a),rn(this)})),Mn(s,"timeout",(function(){a&&clearTimeout(a),rn(this),e&&e(null)})),Zs(s,t,n,r,i)};var Fa=new Et(St,"https://apis.google.com/js/client.js?onload=%{onload}"),qa="__fcb"+Math.floor(1e6*Math.random()).toString();function Ba(t,e){if(((window.gapi||{}).client||{}).request)t();else{f[qa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=Ot(Fa,{onload:qa});da(Ia(n),(function(){e(Error("CORS_UNSUPPORTED"))}))}}function Ga(t,e){return new De((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ja(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Hu(t)):t.access_token&&t.refresh_token?n(t):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",lr(e).toString(),t.g,t.m.get()):r(new k("internal-error"))}))}function za(t,e,n,r,i,o,s){var a=tr(e+n);$n(a,"key",t.c),s&&$n(a,"cb",S().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&$n(a,c,i[c]);return new De((function(e,n){ja(t,a.toString(),(function(t){t?t.error?n(Hu(t,o||{})):e(t):n(new k("network-request-failed"))}),r,u?void 0:br(ri(i)),t.a,t.i.get())}))}function Ha(t){if(t=t.email,"string"!==typeof t||!xr.test(t))throw new k("invalid-email")}function Wa(t){"email"in t&&Ha(t)}function Ka(t,e){return Gu(t,pu,{identifier:e,continueUri:Zr()?Sr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}function Xa(t){return Gu(t,Au,{}).then((function(t){return t.authorizedDomains||[]}))}function Ya(t){if(!t[Ca]){if(t.mfaPendingCredential)throw new k("multi-factor-auth-required",null,bt(t));throw new k("internal-error")}}function Qa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new k("internal-error")}else{if(!t.sessionInfo)throw new k("missing-verification-id");if(!t.code)throw new k("missing-verification-code")}}Oa.prototype.s=function(t,e,n,r,i){var o=this;Ra.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Oa.prototype.vb=function(){return Gu(this,Ru,{})},Oa.prototype.xb=function(t,e){return Gu(this,Du,{idToken:t,email:e})},Oa.prototype.yb=function(t,e){return Gu(this,Ou,{idToken:t,password:e})};var Ja={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function $a(t,e){return Gu(t,ku,e)}function Za(t,e){return Gu(t,Cu,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}function tu(t){if(!t.phoneVerificationInfo)throw new k("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new k("missing-verification-code")}function eu(t,e){return Gu(t,Lu,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}function nu(t,e,n){return Gu(t,vu,{idToken:e,deleteProvider:n})}function ru(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new k("internal-error")}function iu(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(t=new hr(t.postBody),dr(t,"nonce")&&(e.nonce=t.get("nonce")))),e}function ou(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Es(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Es(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Es(t)):t.errorMessage&&(e=zu(t.errorMessage)),e)throw e;Ya(t)}function su(t,e){return e.returnIdpCredential=!0,Gu(t,Pu,e)}function au(t,e){return e.returnIdpCredential=!0,Gu(t,Mu,e)}function uu(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Gu(t,xu,e)}function cu(t){if(!t.oobCode)throw new k("invalid-action-code")}e=Oa.prototype,e.zb=function(t,e){var n={idToken:t},r=[];return gt(Ja,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Gu(this,Du,n)},e.rb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},_t(t,e),Gu(this,Tu,t)},e.sb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},_t(t,e),Gu(this,_u,t)},e.qb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},_t(t,e),Gu(this,Iu,t)},e.Ab=function(t,e,n){return t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},_t(t,n),Gu(this,Eu,t)},e.cb=function(t){return Gu(this,ju,t)},e.jb=function(t,e){return Gu(this,Nu,{oobCode:t,newPassword:e})},e.Pa=function(t){return Gu(this,fu,{oobCode:t})},e.fb=function(t){return Gu(this,hu,{oobCode:t})};var hu={endpoint:"setAccountInfo",A:cu,Y:"email",C:!0},fu={endpoint:"resetPassword",A:cu,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new k("internal-error")},C:!0},lu={endpoint:"signupNewUser",A:function(t){if(Ha(t),!t.password)throw new k("weak-password")},G:Ya,U:!0,C:!0},pu={endpoint:"createAuthUri",C:!0},du={endpoint:"deleteAccount",M:["idToken"]},vu={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=v(t.deleteProvider))throw new k("internal-error")}},yu={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Ha,G:Ya,U:!0,C:!0},gu={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Ha,G:Ya,U:!0},mu={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:tu,G:Ya,C:!0,La:!0},bu={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:tu,G:Ya,C:!0,La:!0},wu={endpoint:"getAccountInfo"},_u={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new k("internal-error");Ha(t)},Y:"email",C:!0},Iu={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new k("internal-error")},Y:"email",C:!0},Eu={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new k("internal-error")},Y:"email",C:!0},Tu={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new k("internal-error");Ha(t)},Y:"email",C:!0},Au={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Su={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new k("internal-error")}},Nu={endpoint:"resetPassword",A:cu,Y:"email",C:!0},ku={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Du={endpoint:"setAccountInfo",M:["idToken"],A:Wa,U:!0},Ou={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(Wa(t),!t.password)throw new k("weak-password")},G:Ya,U:!0},Ru={endpoint:"signupNewUser",G:Ya,U:!0,C:!0},Cu={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new k("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new k("internal-error")},C:!0,La:!0},Lu={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new k("internal-error")},C:!0,La:!0},Pu={endpoint:"verifyAssertion",A:ru,Wa:iu,G:ou,U:!0,C:!0},xu={endpoint:"verifyAssertion",A:ru,Wa:iu,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new k("user-not-found");if(t.errorMessage)throw zu(t.errorMessage);Ya(t)},U:!0,C:!0},Mu={endpoint:"verifyAssertion",A:function(t){if(ru(t),!t.idToken)throw new k("internal-error")},Wa:iu,G:ou,U:!0},Uu={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new k("invalid-custom-token")},G:Ya,U:!0,C:!0},Vu={endpoint:"verifyPassword",A:function(t){if(Ha(t),!t.password)throw new k("wrong-password")},G:Ya,U:!0,C:!0},ju={endpoint:"verifyPhoneNumber",A:Qa,G:Ya,C:!0},Fu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new k("internal-error");Qa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Es(t);Ya(t)}},qu={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Qa,G:Ya,C:!0},Bu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ca]^!!t.refreshToken)throw new k("internal-error")},C:!0,La:!0};function Gu(t,e,n){if(!Ei(n,e.M))return Ue(new k("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Me(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),za(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new k("internal-error");return r[e.Y]}))}function zu(t){return Hu({error:{errors:[{message:t}],code:400,message:t}})}function Hu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},_t(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],e);return!e&&t&&(e=ni(t)),new k("internal-error",e)}function Wu(t){this.b=t,this.a=null,this.nb=Ku(this)}function Ku(t){return tc().then((function(){return new De((function(e,n){Qr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Qr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),$u.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}function Xu(t,e){return t.nb.then((function(){return new De((function(n){t.a.send(e.type,e,n,Qr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}function Yu(t,e){t.nb.then((function(){t.a.register("authEvent",e,Qr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}var Qu=new Et(St,"https://apis.google.com/js/api.js?onload=%{onload}"),Ju=new ui(3e4,6e4),$u=new ui(5e3,15e3),Zu=null;function tc(){return Zu||(Zu=new De((function(t,e){function n(){ai(),Qr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){ai(),e(Error("Network Error"))},timeout:Ju.get()})}if(Qr("gapi.iframes.Iframe"))t();else if(Qr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[r]=function(){Qr("gapi.load")?n():e(Error("Network Error"))},r=Ot(Qu,{onload:r}),Me(Ia(r)).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw Zu=null,t})))}function ec(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=er(this.i,"/__/auth/iframe"),$n(this.a,"apiKey",this.g),$n(this.a,"appName",this.h),this.b=null,this.c=[]}function nc(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function rc(t){try{return r.app(t).auth().Ea()}catch(e){return[]}}function ic(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function oc(t){var e=Sr();return Xa(t).then((function(t){t:{var n=tr(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=tr(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:Pr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new _s(Sr())}))}function sc(t){return t.l||(t.l=Mr().then((function(){if(!t.s){var e=t.c,n=t.h,r=rc(t.b),i=new ec(t.u,t.f,t.b);i.f=e,i.b=n,i.c=nt(r||[]),t.s=i.toString()}t.i=new Wu(t.s),cc(t)}))),t.l}function ac(t){return t.m||(t.w=t.c?Xr(t.c,rc(t.b)):null,t.m=new Oa(t.f,P(t.h),t.w)),t.m}function uc(t,e,n,r,i,o,s,a,u,c,h){return t=new nc(t,e,n,r,i),t.l=o,t.g=s,t.i=a,t.b=bt(u||null),t.f=c,t.ub(h).toString()}function cc(t){if(!t.i)throw Error("IfcHandler must be initialized!");Yu(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ys(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return n={},n.status=r?"ACK":"ERROR",Me(n)}return n.status="ERROR",Me(n)}))}function hc(t){var e={type:"webStorageSupport"};return sc(t).then((function(){return Xu(t.i,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))}function fc(t){if(this.a=t||r.INTERNAL.reactNative&&r.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function lc(t){this.b=t,this.a={},this.f=T(this.c,this)}ec.prototype.toString=function(){return this.f?$n(this.a,"v",this.f):pr(this.a.a,"v"),this.b?$n(this.a,"eid",this.b):pr(this.a.a,"eid"),this.c.length?$n(this.a,"fw",this.c.join(",")):pr(this.a.a,"fw"),this.a.toString()},nc.prototype.ub=function(t){return this.h=t,this},nc.prototype.toString=function(){var t=er(this.s,"/__/auth/handler");if($n(t,"apiKey",this.m),$n(t,"appName",this.c),$n(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=r.app(this.c).auth().ja()}catch(u){n=null}for(var i in e.kb=n,$n(t,"providerId",this.a.providerId),e=this.a,n=ri(e.Fb),n)n[i]=n[i].toString();i=e.Oc,n=bt(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),mt(n)||$n(t,"customParameters",ni(n))}if("function"===typeof this.a.Nb&&(e=this.a.Nb(),e.length&&$n(t,"scopes",e.join(","))),this.l?$n(t,"redirectUrl",this.l):pr(t.a,"redirectUrl"),this.g?$n(t,"eventId",this.g):pr(t.a,"eventId"),this.i?$n(t,"v",this.i):pr(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Zn(t,a)&&$n(t,a,this.b[a]);return this.h?$n(t,"tid",this.h):pr(t.a,"tid"),this.f?$n(t,"eid",this.f):pr(t.a,"eid"),a=rc(this.c),a.length&&$n(t,"fw",a.join(",")),t.toString()},e=ic.prototype,e.Lb=function(t,e,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){hc(o).then((function(n){n||(t&&Rr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return Lr(t)})).then((function(){if(!s)return jn(n).then((function(){e(r)}))}))},e.Ub=function(){var t=Yr();return!ei(t)&&!si(t)},e.Qb=function(){return!1},e.Jb=function(t,e,n,r,i,o,s,a){if(!t)return Ue(new k("popup-blocked"));if(s&&!ei())return this.ka().o((function(e){Rr(t),i(e)})),r(),Me();this.a||(this.a=oc(ac(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw Rr(t),i(e),e}));return r(),e})).then((function(){if(ds(n),!s){var r=uc(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a);Nr(r,t)}})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},e.Kb=function(t,e,n,r){this.a||(this.a=oc(ac(this)));var i=this;return this.a.then((function(){ds(e);var o=uc(i.u,i.f,i.b,t,e,Sr(),n,i.c,void 0,i.h,r);Nr(o)})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},e.ka=function(){var t=this;return sc(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new k("network-request-failed")}))},e.Xb=function(){return!0},e.Ca=function(t){this.g.push(t)},e.Qa=function(t){tt(this.g,(function(e){return e==t}))},e=fc.prototype,e.get=function(t){return Me(this.a.getItem(t)).then((function(t){return t&&ii(t)}))},e.set=function(t,e){return Me(this.a.setItem(t,ni(e)))},e.T=function(t){return Me(this.a.removeItem(t))},e.ba=function(){},e.ha=function(){};var pc,dc=[];function vc(){var t=Fr()?self:null;if(W(dc,(function(n){n.b==t&&(e=n)})),!e){var e=new lc(t);dc.push(e)}return e}function yc(t,e,n){mt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function gc(t){this.a=t}function mc(t){this.c=t,this.b=!1,this.a=[]}function bc(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ue(Error("connection_unavailable"));var h=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new De((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(e){return wc(t,c),e})).o((function(e){throw wc(t,c),e}))}function wc(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),tt(t.a,(function(t){return t==e}))}}function _c(){if(!Ac())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=f.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;Fr()&&self?(this.l=vc(),yc(this.l,"keyChanged",(function(e,n){return Oc(t).then((function(e){return 0<e.length&&W(t.a,(function(t){t(e)})),{keyProcessed:$(e,n.key)}}))})),yc(this.l,"ping",(function(){return Me(["keyChanged"])}))):di().then((function(e){(t.h=e)&&(t.g=new mc(new gc(e)),bc(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Ic(t){return new De((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}function Ec(t){return new De((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?e(r):Ic(t).then((function(){return Ec(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Tc(t){return t.m||(t.m=Ec(t)),t.m}function Ac(){try{return!!f.indexedDB}catch(Bp){return!1}}function Sc(t){return t.objectStore("firebaseLocalStorage")}function Nc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function kc(t){return new De((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Dc(t,e){return t.g&&t.h&&pi()===t.h?bc(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Me()}function Oc(t){return Tc(t).then((function(t){var e=Sc(Nc(t,!1));return e.getAll?kc(e.getAll()):new De((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e["continue"]()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=kr(t.c,n),t.c=n}return r}))}function Rc(t){function e(){t.f=setTimeout((function(){t.i=Oc(t).then((function(e){0<e.length&&W(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Cc(t),e()}function Cc(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Lc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Me().then((function(){if(Ac()){var t=oi(),r="__sak"+t;return pc||(pc=new _c),n=pc,n.set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){W(e.a,(function(e){e(t)}))})),t}))}function Pc(){this.a={},this.type="inMemory"}function xc(){if(!Uc()){if("Node"==qr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Mc()||r.INTERNAL.node.localStorage,this.type="localStorage"}function Mc(){try{var t=f.localStorage,e=oi();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Uc(){var t="Node"==qr();if(t=Mc()||t&&r.INTERNAL.node&&r.INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function Vc(){this.type="nullStorage"}function jc(){if(!qc()){if("Node"==qr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Fc()||r.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fc(){try{var t=f.sessionStorage,e=oi();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qc(){var t="Node"==qr();if(t=Fc()||t&&r.INTERNAL.node&&r.INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function Bc(){var t={};t.Browser=Hc,t.Node=Wc,t.ReactNative=Kc,t.Worker=Xc,this.a=t[qr()]}lc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];W(r,(function(e){i.push(Me().then((function(){return e(t.origin,t.data.data)})))})),Fe(i).then((function(r){var i=[];W(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),W(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},gc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},mc.prototype.close=function(){for(;0<this.a.length;)wc(this,this.a[0]);this.b=!0},e=_c.prototype,e.set=function(t,e){var n,r=!1,i=this;return Tc(this).then((function(e){return n=e,e=Sc(Nc(n,!0)),kc(e.get(t))})).then((function(o){var s=Sc(Nc(n,!0));return o?(o.value=e,kc(s.put(o))):(i.b++,r=!0,o={},o.fbase_key=t,o.value=e,kc(s.add(o)))})).then((function(){return i.c[t]=e,Dc(i,t)})).ma((function(){r&&i.b--}))},e.get=function(t){return Tc(this).then((function(e){return kc(Sc(Nc(e,!1)).get(t))})).then((function(t){return t&&t.value}))},e.T=function(t){var e=!1,n=this;return Tc(this).then((function(r){return e=!0,n.b++,kc(Sc(Nc(r,!0))["delete"](t))})).then((function(){return delete n.c[t],Dc(n,t)})).ma((function(){e&&n.b--}))},e.ba=function(t){0==this.a.length&&Rc(this),this.a.push(t)},e.ha=function(t){tt(this.a,(function(e){return e==t})),0==this.a.length&&Cc(this)},e=Lc.prototype,e.get=function(t){return this.b.then((function(e){return e.get(t)}))},e.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},e.T=function(t){return this.b.then((function(e){return e.T(t)}))},e.ba=function(t){this.a.push(t)},e.ha=function(t){tt(this.a,(function(e){return e==t}))},e=Pc.prototype,e.get=function(t){return Me(this.a[t])},e.set=function(t,e){return this.a[t]=e,Me()},e.T=function(t){return delete this.a[t],Me()},e.ba=function(){},e.ha=function(){},e=xc.prototype,e.get=function(t){var e=this;return Me().then((function(){var n=e.a.getItem(t);return ii(n)}))},e.set=function(t,e){var n=this;return Me().then((function(){var r=ni(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return Me().then((function(){e.a.removeItem(t)}))},e.ba=function(t){f.window&&_n(f.window,"storage",t)},e.ha=function(t){f.window&&An(f.window,"storage",t)},e=Vc.prototype,e.get=function(){return Me(null)},e.set=function(){return Me()},e.T=function(){return Me()},e.ba=function(){},e.ha=function(){},e=jc.prototype,e.get=function(t){var e=this;return Me().then((function(){var n=e.a.getItem(t);return ii(n)}))},e.set=function(t,e){var n=this;return Me().then((function(){var r=ni(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return Me().then((function(){e.a.removeItem(t)}))},e.ba=function(){},e.ha=function(){};var Gc,zc,Hc={F:xc,$a:jc},Wc={F:xc,$a:jc},Kc={F:fc,$a:Vc},Xc={F:xc,$a:Vc},Yc={od:"local",NONE:"none",qd:"session"};function Qc(t){var e=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");t:{for(r in Yc)if(Yc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(qr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ac()&&"none"!==t)throw n;break;default:if(!Jr()&&"none"!==t)throw n}}function Jc(){var t=!(si(Yr())||!jr()),e=ei(),n=Jr();this.m=t,this.h=e,this.l=n,this.a={},Gc||(Gc=new Bc),t=Gc;try{this.g=!Ar()&&li()||!f.indexedDB?new t.a.F:new Lc(Fr()?new Pc:new t.a.F)}catch(r){this.g=new Pc,this.h=!0}try{this.i=new t.a.$a}catch(r){this.i=new Pc}this.u=new Pc,this.f=T(this.Vb,this),this.b={}}function $c(){return zc||(zc=new Jc),zc}function Zc(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function th(t,e){return"firebase:"+t.name+(e?":"+e:"")}function eh(t,e,n){var r=th(e,n),i=Zc(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=ii(f.localStorage.getItem(r))}catch(a){}if(s&&!o)return f.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&f.localStorage.removeItem(r)}))}function nh(t,e,n){return n=th(e,n),"local"==e.F&&(t.b[n]=null),Zc(t,e.F).T(n)}function rh(t){ih(t),t.c=setInterval((function(){for(var e in t.a){var n=f.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new hn({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}function ih(t){t.c&&(clearInterval(t.c),t.c=null)}function oh(t){this.a=t,this.b=$c()}e=Jc.prototype,e.get=function(t,e){return Zc(this,t.F).get(th(t,e))},e.set=function(t,e,n){var r=th(t,n),i=this,o=Zc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},e.addListener=function(t,e,n){t=th(t,e),this.l&&(this.b[t]=f.localStorage.getItem(t)),mt(this.a)&&(Zc(this,"local").ba(this.f),this.h||(Ar()||!li())&&f.indexedDB||!this.l||rh(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=th(t,e),this.a[t]&&(tt(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),mt(this.a)&&(Zc(this,"local").ha(this.f),ih(this))},e.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=f.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?Zc(this,"local").ha(this.f):ih(this),this.m)if(n=f.localStorage.getItem(e),r=t.a.newValue,r!==n)null!==r?f.localStorage.setItem(e,r):f.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===f.localStorage.getItem(e)||(o.b[e]=f.localStorage.getItem(e),o.ib(e))},te&&ce&&10==ce&&f.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else W(t,T(this.ib,this))},e.ib=function(t){this.a[t]&&W(this.a[t],(function(t){t()}))};var sh,ah={name:"authEvent",F:"local"};function uh(t){return t.b.get(ah,t.a).then((function(t){return ys(t)}))}function ch(){this.a=$c()}function hh(){this.b=-1}function fh(t,e){this.b=lh,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=f.Int32Array?new Int32Array(64):Array(64),void 0===sh&&(sh=f.Int32Array?new Int32Array(bh):bh),this.reset()}N(fh,hh);for(var lh=64,ph=lh-1,dh=[],vh=0;vh<ph;vh++)dh[vh]=0;var yh=et(128,dh);function gh(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var l=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=c&h^~c&f,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,s=s+(0|sh[e])|0,s=o+(s+(0|n[e])|0)|0,o=f,f=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+l|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function mh(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gh(t),i=0);else{if(!y(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gh(t),i=0)}}t.c=i,t.g+=n}fh.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):nt(this.h)};var bh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wh(){fh.call(this,8,_h)}N(wh,fh);var _h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ih(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new ch,this.g=new oh(this.h),this.f=null,this.b=[],this.a=this.c=null}function Eh(t){return new k("invalid-cordova-configuration",t)}function Th(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function Ah(t){var e=new wh;mh(e,t),t=[];var n=8*e.g;56>e.c?mh(e,yh,56-e.c):mh(e,yh,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gh(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return lo(t)}function Sh(t,e,n,r,i){var o=Th(),s=new vs(e,r,null,o,new k("no-auth-event"),null,i),a=Qr("BuildInfo.packageName",f);if("string"!==typeof a)throw new k("invalid-cordova-configuration");var u=Qr("BuildInfo.displayName",f),c={};if(Yr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!Yr().toLowerCase().match(/android/))return Ue(new k("operation-not-supported-in-this-environment"));c.apn=a}u&&(c.appDisplayName=u),o=Ah(o),c.sessionId=o;var h=uc(t.u,t.i,t.l,e,n,null,r,t.m,c,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(ah,s.v(),e)})).then((function(){var e=Qr("cordova.plugins.browsertab.isAvailable",f);if("function"!==typeof e)throw new k("invalid-cordova-configuration");var n=null;e((function(e){if(e){if(n=Qr("cordova.plugins.browsertab.openUrl",f),"function"!==typeof n)throw new k("invalid-cordova-configuration");n(h)}else{if(n=Qr("cordova.InAppBrowser.open",f),"function"!==typeof n)throw new k("invalid-cordova-configuration");e=Yr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}function Nh(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function kh(t){return t.f||(t.f=t.ka().then((function(){return new De((function(e){function n(r){return e(r),t.Qa(n),!1}t.Ca(n),Oh(t)}))}))),t.f}function Dh(t){var e=null;return uh(t.g).then((function(n){return e=n,n=t.g,nh(n.b,ah,n.a)})).then((function(){return e}))}function Oh(t){function e(e){r=!0,i&&i.cancel(),Dh(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;i=Po(e.url),-1!=i.indexOf("/__/auth/callback")&&(o=tr(i),o=ii(Zn(o,"firebaseError")||null),o=(o="object"===typeof o?D(o):null)?new vs(r.c,r.b,null,null,o,null,r.S()):new vs(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Nh(t,i)}))}var n=new vs("unknown",null,null,null,new k("no-auth-event")),r=!1,i=jn(500).then((function(){return Dh(t).then((function(){r||Nh(t,n)}))})),o=f.handleOpenURL;f.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Qr("BuildInfo.packageName",f).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},bs||(bs=new gs),ws(e)}function Rh(t){this.a=t,this.b=$c()}e=Ih.prototype,e.ka=function(){return this.Ga?this.Ga:this.Ga=Ur().then((function(){if("function"!==typeof Qr("universalLinks.subscribe",f))throw Eh("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Qr("BuildInfo.packageName",f))throw Eh("cordova-plugin-buildinfo is not installed");if("function"!==typeof Qr("cordova.plugins.browsertab.openUrl",f))throw Eh("cordova-plugin-browsertab is not installed");if("function"!==typeof Qr("cordova.InAppBrowser.open",f))throw Eh("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},e.Lb=function(t,e){return e(new k("operation-not-supported-in-this-environment")),Me()},e.Jb=function(){return Ue(new k("operation-not-supported-in-this-environment"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(t,e,n,r){if(this.c)return Ue(new k("redirect-operation-pending"));var i=this,o=f.document,s=null,a=null,u=null,c=null;return this.c=Me().then((function(){return ds(e),kh(i)})).then((function(){return Sh(i,t,e,n,r)})).then((function(){return new De((function(t,e){a=function(){var e=Qr("cordova.plugins.browsertab.close",f);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(a),u=function(){s||(s=jn(2e3).then((function(){e(new k("redirect-cancelled-by-user"))})))},c=function(){ci()&&u()},o.addEventListener("resume",u,!1),Yr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return Dh(i).then((function(){throw t}))}))})).ma((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&i.Qa(a),i.c=null}))},e.Ca=function(t){this.b.push(t),kh(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new vs("unknown",null,null,null,new k("no-auth-event")),t(e))}))},e.Qa=function(t){tt(this.b,(function(e){return e==t}))};var Ch={name:"pendingRedirect",F:"session"};function Lh(t){return t.b.set(Ch,"pending",t.a)}function Ph(t){return nh(t.b,Ch,t.a)}function xh(t){return t.b.get(Ch,t.a).then((function(t){return"pending"==t}))}function Mh(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=T(this.s,this),this.b=new Qh,this.B=new of,this.g=new Rh(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Uh(this.D,this.u,this.m,O)}function Uh(t,e,n,i){var o=r.SDK_VERSION||null;return Vr()?new Ih(t,e,n,o,i):new ic(t,e,n,o,i)}function Vh(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function jh(t){t.a.Ub()&&Vh(t).o((function(e){var n=new vs("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Hh(e)&&t.s(n)})),t.a.Qb()||Jh(t.b)}function Fh(t,e){$(t.h,e)||t.h.push(e),t.f||xh(t.g).then((function(e){e?Ph(t.g).then((function(){Vh(t).o((function(e){var n=new vs("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Hh(e)&&t.s(n)}))})):jh(t)})).o((function(){jh(t)}))}function qh(t,e){tt(t.h,(function(t){return t==e}))}Mh.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Uh(this.D,this.u,this.m),this.i={}},Mh.prototype.s=function(t){if(!t)throw new k("invalid-auth-event");if(6e5<=S()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=S())),e=!0;break}}return Jh(this.b),e};var Bh=new ui(2e3,1e4),Gh=new ui(3e4,6e4);function zh(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function Hh(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Wh(t,e,n,r,i){var o;return Lh(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Hh(e))throw new k("operation-not-supported-in-this-environment");return o=e,Ph(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new De((function(){})):Ph(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Kh(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),Bh.get())}Mh.prototype.pa=function(){return this.b.pa()};var Xh={};function Yh(t,e,n){var r=e+":"+n;return Xh[r]||(Xh[r]=new Mh(t,e,n)),Xh[r]}function Qh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Jh(t){t.g||(t.g=!0,nf(t,!1,null,null))}function $h(t){t.g&&!t.i&&nf(t,!1,null,null)}function Zh(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){nf(t,a,e,null)})).o((function(e){nf(t,a,null,e)}))}function tf(t,e){if(t.b=function(){return Ue(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function ef(t,e){if(t.b=function(){return Me(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function nf(t,e,n,r){e?r?tf(t,r):ef(t,n):ef(t,{user:null}),t.f=[],t.c=[]}function rf(t){var e=new k("timeout");t.a&&t.a.cancel(),t.a=jn(Gh.get()).then((function(){t.b||(t.g=!0,nf(t,!0,null,e))}))}function of(){}function sf(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}function af(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function uf(t,e){this.a=e,bi(this,"verificationId",t)}function cf(t,e,n,r){return new fs(t).cb(e,n).then((function(t){return new uf(t,r)}))}function hf(t){var e=wo(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");wi(this,{token:t,expirationTime:fi(1e3*e.exp),authTime:fi(1e3*e.auth_time),issuedAtTime:fi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function ff(t,e,n){var r=e&&e[pf];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=bt(e),this.g=n,this.c=new xo(null,r),this.b=[];var i=this;W(e[lf]||[],(function(t){(t=Si(t))&&i.b.push(t)})),bi(this,"auth",this.a),bi(this,"session",this.c),bi(this,"hints",this.b)}Qh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Qh.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(nf(this,!0,null,t.a),Me()):e.Da(n,r)?Zh(this,t,e):Ue(new k("invalid-auth-event")):(nf(this,!1,null,null),Me())}else Ue(new k("invalid-auth-event"))},Qh.prototype.pa=function(){var t=this;return new De((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),rf(t))}))},of.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Me()):e.Da(n,r)?sf(t,e):Ue(new k("invalid-auth-event"))}else Ue(new k("invalid-auth-event"))},uf.prototype.confirm=function(t){return t=ls(this.verificationId,t),this.a(t)};var lf="mfaInfo",pf="mfaPendingCredential";function df(t,e,n,r){k.call(this,"multi-factor-auth-required",r,e),this.b=new ff(t,e,n),bi(this,"resolver",this.b)}function vf(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new df(e,t.serverResponse,n,t.message)}catch(r){}return null}function yf(){}function gf(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),_t(n,{phoneVerificationInfo:hs(t.a)}),Gu(e,mu,n)}))}function mf(t,e,n){return n.Fa().then((function(n){return n={mfaPendingCredential:n},_t(n,{phoneVerificationInfo:hs(t.a)}),Gu(e,bu,n)}))}function bf(t){bi(this,"factorId",t.ea),this.a=t}function wf(t){if(bf.call(this,t),this.a.ea!=fs.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function _f(t,e){for(var n in cn.call(this,t),e)this[n]=e[n]}function If(t,e){this.a=t,this.b=[],this.c=T(this.wc,this),_n(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&W(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Di]=t.uid),t.displayName&&(r[Ni]=t.displayName),t.enrollmentTime&&(r[ki]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Oi]=t.phoneNumber);try{e=new Ri(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),Tf(this,n)}function Ef(t){var e=[];return W(t.mfaInfo||[],(function(t){(t=Si(t))&&e.push(t)})),e}function Tf(t,e){t.b=e,bi(t,"enrolledFactors",e)}function Af(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Sf(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function Nf(t,e){t.stop(),t.b=jn(Sf(t,e)).then((function(){return hi()})).then((function(){return t.h()})).then((function(){Nf(t,!0)})).o((function(e){t.i(e)&&Nf(t,!1)}))}function kf(t){this.c=t,this.b=this.a=null}function Df(t){return t.b&&1e3*t.b.c||0}function Of(t,e){var n=e.refreshToken;t.b=bo(e[Ca]||""),t.a=n}function Rf(t,e){t.b=e.b,t.a=e.a}function Cf(t,e){return Ga(t.c,e).then((function(e){return t.b=bo(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Lf(t,e){this.a=t||null,this.b=e||null,wi(this,{lastSignInTime:fi(e||null),creationTime:fi(t||null)})}function Pf(t){return new Lf(t.a,t.b)}function xf(t,e,n,r,i,o){wi(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Mf(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=r.SDK_VERSION?Xr(r.SDK_VERSION):null,this.a=new Oa(this.l,P(O),t),this.b=new kf(this.a),zf(this,e[Ca]),Of(this.b,e),bi(this,"refreshToken",this.b.a),Xf(this,n||{}),Pn.call(this),this.P=!1,this.s&&$r()&&(this.i=Yh(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=qf(this),this.Z=T(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){Vf(i,t.c)},this.$=null,this.O=new If(this,n),bi(this,"multiFactor",this.O)}function Uf(t,e){t.aa&&An(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&_n(e,"languageCodeChanged",t.za)}function Vf(t,e){t.W=e,Va(t.a,r.SDK_VERSION?Xr(r.SDK_VERSION,t.W):null)}function jf(t,e){t.$&&An(t.$,"frameworkChanged",t.ya),(t.$=e)&&_n(e,"frameworkChanged",t.ya)}function Ff(t){try{return r.app(t.m).auth()}catch(e){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function qf(t){return new Af((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=Df(t.b)-S()-3e5;return 0<e?e:0}))}function Bf(t){t.D||t.B.b||(t.B.start(),An(t,"tokenChanged",t.Z),_n(t,"tokenChanged",t.Z))}function Gf(t){An(t,"tokenChanged",t.Z),t.B.stop()}function zf(t,e){t.xa=e,bi(t,"_lat",e)}function Hf(t,e){tt(t.R,(function(t){return t==e}))}function Wf(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Fe(e).then((function(){return t}))}function Kf(t){t.i&&!t.P&&(t.P=!0,Fh(t.i,t))}function Xf(t,e){wi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Lf(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Yf(){}function Qf(t){return Me().then((function(){if(t.D)throw new k("app-deleted")}))}function Jf(t){return Y(t.providerData,(function(t){return t.providerId}))}function $f(t,e){e&&(Zf(t,e.providerId),t.providerData.push(e))}function Zf(t,e){tt(t.providerData,(function(t){return t.providerId==e}))}function tl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&bi(t,e,n)}function el(t,e){t!=e&&(wi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?bi(t,"metadata",Pf(e.metadata)):bi(t,"metadata",new Lf),W(e.providerData,(function(e){$f(t,e)})),Rf(t.b,e.b),bi(t,"refreshToken",t.b.a),Tf(t.O,e.O.b))}function nl(t){return t.I().then((function(e){var n=t.isAnonymous;return il(t,e).then((function(){return n||tl(t,"isAnonymous",!1),e}))}))}function rl(t,e){e[Ca]&&t.xa!=e[Ca]&&(Of(t.b,e),t.dispatchEvent(new _f("tokenChanged")),zf(t,e[Ca]),tl(t,"refreshToken",t.b.a))}function il(t,e){return Gu(t.a,wu,{idToken:e}).then(T(t.Ic,t))}function ol(t){return(t=t.providerUserInfo)&&t.length?Y(t,(function(t){return new xf(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}function sl(t,e){return nl(t).then((function(){if($(Jf(t),e))return Wf(t).then((function(){throw new k("provider-already-linked")}))}))}function al(t,e,n){var r=ps(e);return e=Ao(e),_i({user:t,credential:r,additionalUserInfo:e,operationType:n})}function ul(t,e){return rl(t,e),t.reload().then((function(){return t}))}function cl(t,e,n,i,o){if(!$r())return Ue(new k("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ue(t.h);var s=To(n.providerId),a=oi(t.uid+":::"),u=null;(!ei()||jr())&&t.s&&n.isOAuthProvider&&(u=uc(t.s,t.l,t.m,e,n,null,a,r.SDK_VERSION||null,null,null,t.tenantId));var c=Cr(u,s&&s.ta,s&&s.sa);return i=i().then((function(){if(fl(t),!o)return t.I().then((function(){}))})).then((function(){return zh(t.i,c,e,n,a,!!u,t.tenantId)})).then((function(){return new De((function(n,r){t.la(e,null,new k("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=a,t.c=Kh(t.i,t,e,c,a)}))})).then((function(t){return c&&Rr(c),t?_i(t):null})).o((function(t){throw c&&Rr(c),t})),ll(t,i,o)}function hl(t,e,n,r,i){if(!$r())return Ue(new k("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ue(t.h);var o=null,s=oi(t.uid+":::");return r=r().then((function(){if(fl(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,Wf(t)})).then((function(e){return t.ga&&(e=t.ga,e=e.b.set(ml,t.v(),e.a)),e})).then((function(){return Wh(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return bl(t.ga);throw o})).then((function(){if(o)throw o})),ll(t,r,i)}function fl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function ll(t,e,n){var r=pl(t,e,n);return t.N.push(r),r.ma((function(){Z(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=vf(e.v(),Ff(t),T(t.hc,t))),n||e}))}function pl(t,e,n){return t.h&&!n?(e.cancel(),Ue(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new _f("userInvalidated")),t.h=e),e}))}function dl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ca]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new Mf(e,n,t);return t.providerData&&W(t.providerData,(function(t){t&&$f(r,_i(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function vl(t,e,n,r){var i=new Mf(t,e);return n&&(i.ga=n),r&&Vf(i,r),i.reload().then((function(){return i}))}function yl(t,e,n,r){var i=t.b,o={};return o[Ca]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Mf(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&Vf(e,r),el(e,t),e}function gl(t){this.a=t,this.b=$c()}ff.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=bt(e.f);return delete n[lf],delete n[pf],_t(n,t),e.g(n)}))},N(df,k),yf.prototype.ob=function(t,e,n){return e.type==Mo?gf(this,t,e,n):mf(this,t,e)},N(bf,yf),N(wf,bf),N(_f,cn),e=If.prototype,e.wc=function(t){Tf(this,Ef(t.ed))},e.Ob=function(){return this.a.I().then((function(t){return new xo(t,null)}))},e.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return rl(n.a,t),n.a.reload()}))},e.$c=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Gu(r,Bu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=X(e.b,(function(t){return t.uid!=n}));return Tf(e,r),rl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},e.v=function(){return{multiFactor:{enrolledFactors:Y(this.b,(function(t){return t.v()}))}}},Af.prototype.start=function(){this.a=this.c,Nf(this,!0)},Af.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},kf.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Df(this)}},kf.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ue(new k("user-token-expired")):t||!this.b||S()>Df(this)-3e4?this.a?Cf(this,{grant_type:"refresh_token",refresh_token:this.a}):Me(null):Me({accessToken:this.b.toString(),refreshToken:this.a})},Lf.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},N(Mf,Pn),Mf.prototype.va=function(t){this.oa=t,Ua(this.a,t)},Mf.prototype.ja=function(){return this.oa},Mf.prototype.Ea=function(){return nt(this.W)},Mf.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},bi(Mf.prototype,"providerId","firebase"),e=Mf.prototype,e.reload=function(){var t=this;return ll(this,Qf(this).then((function(){return nl(t).then((function(){return Wf(t)})).then(Yf)})))},e.mc=function(t){return this.I(t).then((function(t){return new hf(t)}))},e.I=function(t){var e=this;return ll(this,Qf(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new k("internal-error");return t.accessToken!=e.xa&&(zf(e,t.accessToken),e.dispatchEvent(new _f("tokenChanged"))),tl(e,"refreshToken",t.refreshToken),t.accessToken})))},e.Ic=function(t){if(t=t.users,!t||!t.length)throw new k("internal-error");t=t[0],Xf(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=ol(t),n=0;n<e.length;n++)$f(this,e[n]);tl(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new _f("userReloaded",{ed:t}))},e.Jc=function(t){return gi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},e.pb=function(t){var e=this,n=null;return ll(this,t.c(this.a,this.uid).then((function(t){return rl(e,t),n=al(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},e.Ac=function(t){return gi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},e.mb=function(t){var e=this,n=null;return ll(this,sl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=al(e,t,"link"),ul(e,t)})).then((function(){return n})))},e.Bc=function(t,e){var n=this;return ll(this,sl(this,"phone").then((function(){return cf(Ff(n),t,e,T(n.mb,n))})))},e.Kc=function(t,e){var n=this;return ll(this,Me().then((function(){return cf(Ff(n),t,e,T(n.pb,n))})),!0)},e.xb=function(t){var e=this;return ll(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return rl(e,t),e.reload()})))},e.cd=function(t){var e=this;return ll(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return rl(e,t),e.reload()})))},e.yb=function(t){var e=this;return ll(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return rl(e,t),e.reload()})))},e.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Qf(this);var e=this;return ll(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return rl(e,t),tl(e,"displayName",t.displayName||null),tl(e,"photoURL",t.photoUrl||null),W(e.providerData,(function(t){"password"===t.providerId&&(bi(t,"displayName",e.displayName),bi(t,"photoURL",e.photoURL))})),Wf(e)})).then(Yf))},e.ad=function(t){var e=this;return ll(this,nl(this).then((function(n){return $(Jf(e),t)?nu(e.a,n,[t]).then((function(t){var n={};return W(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),W(Jf(e),(function(t){n[t]||Zf(e,t)})),n[fs.PROVIDER_ID]||bi(e,"phoneNumber",null),Wf(e)})):Wf(e).then((function(){throw new k("no-such-provider")}))})))},e.delete=function(){var t=this;return ll(this,this.I().then((function(e){return Gu(t.a,du,{idToken:e})})).then((function(){t.dispatchEvent(new _f("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");Uf(t,null),jf(t,null),t.N=[],t.D=!0,Gf(t),bi(t,"refreshToken",null),t.i&&qh(t.i,t)}))},e.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},e.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?T(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?T(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?T(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?T(this.Ib,this):null},e.Cc=function(t){var e=this;return cl(this,"linkViaPopup",t,(function(){return sl(e,t.providerId).then((function(){return Wf(e)}))}),!1)},e.Lc=function(t){return cl(this,"reauthViaPopup",t,(function(){return Me()}),!0)},e.Dc=function(t){var e=this;return hl(this,"linkViaRedirect",t,(function(){return sl(e,t.providerId)}),!1)},e.Mc=function(t){return hl(this,"reauthViaRedirect",t,(function(){return Me()}),!0)},e.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return au(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=al(i,t,"link"),ul(i,t)})).then((function(){return o})),ll(this,n)},e.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,s=Me().then((function(){return jo(uu(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=al(i,t,"reauthenticate"),rl(i,t),i.h=null,i.reload()})).then((function(){return o}));return ll(this,s,!0)},e.qb=function(t){var e=this,n=null;return ll(this,this.I().then((function(e){return n=e,"undefined"===typeof t||mt(t)?{}:fo(new eo(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},e.Ab=function(t,e){var n=this,r=null;return ll(this,this.I().then((function(t){return r=t,"undefined"===typeof e||mt(e)?{}:fo(new eo(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},e.hc=function(t){var e=null,n=this;return t=jo(Me(t),n.uid).then((function(t){return e=al(n,t,"reauthenticate"),rl(n,t),n.h=null,n.reload()})).then((function(){return e})),ll(this,t,!0)},e.toJSON=function(){return this.v()},e.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&_t(t,this.metadata.v()),W(this.providerData,(function(e){t.providerData.push(Ii(e))})),_t(t,this.O.v()),t};var ml={name:"redirectUser",F:"session"};function bl(t){return nh(t.b,ml,t.a)}function wl(t,e){return t.b.get(ml,t.a).then((function(t){return t&&e&&(t.authDomain=e),dl(t||{})}))}function _l(t){this.a=t,this.b=$c(),this.c=null,this.f=El(this),this.b.addListener(Al("local"),this.a,T(this.g,this))}function Il(t,e){var n,r=[];for(n in Yc)Yc[n]!==e&&r.push(nh(t.b,Al(Yc[n]),t.a));return r.push(nh(t.b,Tl,t.a)),je(r)}function El(t){var e=Al("local"),n=Al("session"),r=Al("none");return eh(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Tl,t.a).then((function(t){return t?Al(t):e}))}))}))})).then((function(e){return t.c=e,Il(t,e.F)})).o((function(){t.c||(t.c=e)}))}_l.prototype.g=function(){var t=this,e=Al("local");Ol(this,(function(){return Me().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Il(t,"local").then((function(){t.c=e}))}))}))};var Tl={name:"persistence",F:"session"};function Al(t){return{name:"authUser",F:t}}function Sl(t){return Ol(t,(function(){return t.b.set(Tl,t.c.F,t.a)}))}function Nl(t,e){return Ol(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function kl(t){return Ol(t,(function(){return nh(t.b,t.c,t.a)}))}function Dl(t,e){return Ol(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),dl(t||{})}))}))}function Ol(t,e){return t.f=t.f.then(e,e),t.f}function Rl(t){if(this.l=!1,bi(this,"settings",new af),bi(this,"app",t),!zl(this).options||!zl(this).options.apiKey)throw new k("invalid-api-key");t=r.SDK_VERSION?Xr(r.SDK_VERSION):null,this.b=new Oa(zl(this).options&&zl(this).options.apiKey,P(O),t),this.P=[],this.m=[],this.O=[],this.$b=r.INTERNAL.createSubscribe(T(this.xc,this)),this.W=void 0,this.ac=r.INTERNAL.createSubscribe(T(this.yc,this)),jl(this,null),this.i=new _l(zl(this).options.apiKey+":"+zl(this).name),this.B=new gl(zl(this).options.apiKey+":"+zl(this).name),this.Z=Yl(this,ql(this)),this.h=Yl(this,Bl(this)),this.aa=!1,this.oa=T(this.Xc,this),this.Ma=T(this.ca,this),this.xa=T(this.jc,this),this.ya=T(this.uc,this),this.za=T(this.vc,this),this.a=null,Ml(this),this.INTERNAL={},this.INTERNAL["delete"]=T(this.delete,this),this.INTERNAL.logFramework=T(this.Ec,this),this.s=0,Pn.call(this),Pl(this),this.N=[]}function Cl(t){cn.call(this,"languageCodeChanged"),this.g=t}function Ll(t){cn.call(this,"frameworkChanged"),this.c=t}function Pl(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}function xl(t){return t.Zb||Ue(new k("auth-domain-config-required"))}function Ml(t){var e=zl(t).options.authDomain,n=zl(t).options.apiKey;e&&$r()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Yh(e,n,zl(t).name),Fh(t.a,t),Hl(t)&&Kf(Hl(t)),t.D){Kf(t.D);var r=t.D;r.va(t.ja()),Uf(r,t),r=t.D,Vf(r,t.N),jf(r,t),t.D=null}return t.a}})))}function Ul(t){if(!$r())return Ue(new k("operation-not-supported-in-this-environment"));var e=xl(t).then((function(){return t.a.pa()})).then((function(t){return t?_i(t):null}));return Yl(t,e)}function Vl(t,e){var n={};return n.apiKey=zl(t).options.apiKey,n.authDomain=zl(t).options.authDomain,n.appName=zl(t).name,t.Z.then((function(){return vl(n,e,t.B,t.Ea())})).then((function(e){return Hl(t)&&e.uid==Hl(t).uid?(el(Hl(t),e),t.ca(e)):(jl(t,e),Kf(e),t.ca(e))})).then((function(){Kl(t)}))}function jl(t,e){Hl(t)&&(Hf(Hl(t),t.Ma),An(Hl(t),"tokenChanged",t.xa),An(Hl(t),"userDeleted",t.ya),An(Hl(t),"userInvalidated",t.za),Gf(Hl(t))),e&&(e.R.push(t.Ma),_n(e,"tokenChanged",t.xa),_n(e,"userDeleted",t.ya),_n(e,"userInvalidated",t.za),0<t.s&&Bf(e)),bi(t,"currentUser",e),e&&(e.va(t.ja()),Uf(e,t),Vf(e,t.N),jf(e,t))}function Fl(t){var e=wl(t.B,zl(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),bl(t.B)}));return Yl(t,e)}function ql(t){var e=zl(t).options.authDomain,n=Fl(t).then((function(){return Dl(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Nl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:kl(t.i)}))):null})).then((function(e){jl(t,e||null)}));return Yl(t,n)}function Bl(t){return t.Z.then((function(){return Ul(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Al("local"),e.a,t.oa)}}))}function Gl(t,e){var n=null,r=null;return Yl(t,e.then((function(e){return n=ps(e),r=Ao(e),Vl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=vf(e.v(),t,T(t.ic,t))),n||e})).then((function(){return _i({user:Hl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function zl(t){return t.app}function Hl(t){return t.currentUser}function Wl(t){return Hl(t)&&Hl(t)._lat||null}function Kl(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Wl(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Wl(t))}}function Xl(t,e){t.O.push(e),Yl(t,t.h.then((function(){!t.l&&$(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Wl(t)))})))}function Yl(t,e){return t.P.push(e),e.ma((function(){Z(t.P,e)})),e}function Ql(){}function Jl(){this.a={},this.b=1e12}_l.prototype.tb=function(t){var e=null,n=this;return Qc(t),Ol(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Il(n,t)})).then((function(){if(n.c=Al(t),e)return n.b.set(n.c,e,n.a)})):Me()}))},N(Rl,Pn),N(Cl,cn),N(Ll,cn),e=Rl.prototype,e.tb=function(t){return t=this.i.tb(t),Yl(this,t)},e.va=function(t){this.$===t||this.l||(this.$=t,Ua(this.b,this.$),this.dispatchEvent(new Cl(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var t=f.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.Ec=function(t){this.N.push(t),Va(this.b,r.SDK_VERSION?Xr(r.SDK_VERSION,this.N):null),this.dispatchEvent(new Ll(this.N))},e.Ea=function(){return nt(this.N)},e.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:zl(this).options.apiKey,authDomain:zl(this).options.authDomain,appName:zl(this).name,currentUser:Hl(this)&&Hl(this).v()}},e.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?T(this.gc,this):null},e.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return Gl(i,su(i.b,o))}))},e.Vc=function(t){if(!$r())return Ue(new k("operation-not-supported-in-this-environment"));var e=this,n=To(t.providerId),i=oi(),o=null;(!ei()||jr())&&zl(this).options.authDomain&&t.isOAuthProvider&&(o=uc(zl(this).options.authDomain,zl(this).options.apiKey,zl(this).name,"signInViaPopup",t,null,i,r.SDK_VERSION||null,null,null,this.S()));var s=Cr(o,n&&n.ta,n&&n.sa);return n=xl(this).then((function(n){return zh(n,s,"signInViaPopup",t,i,!!o,e.S())})).then((function(){return new De((function(t,n){e.la("signInViaPopup",null,new k("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=i,e.c=Kh(e.a,e,"signInViaPopup",s,i)}))})).then((function(t){return s&&Rr(s),t?_i(t):null})).o((function(t){throw s&&Rr(s),t})),Yl(this,n)},e.Wc=function(t){if(!$r())return Ue(new k("operation-not-supported-in-this-environment"));var e=this,n=xl(this).then((function(){return Sl(e.i)})).then((function(){return Wh(e.a,"signInViaRedirect",t,void 0,e.S())}));return Yl(this,n)},e.pa=function(){var t=this;return Ul(this).then((function(e){return t.a&&$h(t.a.b),e})).o((function(e){throw t.a&&$h(t.a.b),e}))},e.bd=function(t){if(!t)return Ue(new k("null-user"));if(this.R!=t.tenantId)return Ue(new k("tenant-id-mismatch"));var e=this,n={};n.apiKey=zl(this).options.apiKey,n.authDomain=zl(this).options.authDomain,n.appName=zl(this).name;var r=yl(t,n,e.B,e.Ea());return Yl(this,this.h.then((function(){if(zl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Hl(e)&&t.uid==Hl(e).uid?(el(Hl(e),t),e.ca(t)):(jl(e,r),Kf(r),e.ca(r))})).then((function(){Kl(e)})))},e.wb=function(){var t=this,e=this.h.then((function(){return t.a&&$h(t.a.b),Hl(t)?(jl(t,null),kl(t.i).then((function(){Kl(t)}))):Me()}));return Yl(this,e)},e.Xc=function(){var t=this;return Dl(this.i,zl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Hl(t)&&e){n=Hl(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return el(Hl(t),e),Hl(t).I();(Hl(t)||e)&&(jl(t,e),e&&(Kf(e),e.ga=t.B),t.a&&Fh(t.a,t),Kl(t))}}))},e.ca=function(t){return Nl(this.i,t)},e.jc=function(){Kl(this),this.ca(Hl(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(t){var e=this;return this.h.then((function(){return Gl(e,Me(t))}))},e.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Hl(e))}))},e.yc=function(t){var e=this;Xl(this,(function(){t.next(Hl(e))}))},e.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){"function"===typeof t?t(Hl(r)):"function"===typeof t.next&&t.next(Hl(r))})),this.$b(t,e,n)},e.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof t?t(Hl(r)):"function"===typeof t.next&&t.next(Hl(r))})),this.ac(t,e,n)},e.kc=function(t){var e=this,n=this.h.then((function(){return Hl(e)?Hl(e).I(t).then((function(t){return{accessToken:t}})):null}));return Yl(this,n)},e.Rc=function(t){var e=this;return this.h.then((function(){return Gl(e,Gu(e.b,Uu,{token:t}))})).then((function(t){var n=t.user;return tl(n,"isAnonymous",!1),e.ca(n),t}))},e.Sc=function(t,e){var n=this;return this.h.then((function(){return Gl(n,Gu(n.b,Vu,{email:t,password:e}))}))},e.cc=function(t,e){var n=this;return this.h.then((function(){return Gl(n,Gu(n.b,lu,{email:t,password:e}))}))},e.Ya=function(t){var e=this;return this.h.then((function(){return Gl(e,t.ia(e.b))}))},e.Qc=function(t){return gi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},e.vb=function(){var t=this;return this.h.then((function(){var e=Hl(t);if(e&&e.isAnonymous){var n=_i({providerId:null,isNewUser:!1});return _i({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Gl(t,t.b.vb()).then((function(e){var n=e.user;return tl(n,"isAnonymous",!0),t.ca(n),e}))}))},e.getUid=function(){return Hl(this)&&Hl(this).uid||null},e.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&Hl(this)&&Bf(Hl(this))},e.Nc=function(t){var e=this;W(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&Hl(this)&&Gf(Hl(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),Yl(this,this.h.then((function(){e.l||$(e.m,t)&&t(Wl(e))})))},e.removeAuthTokenListener=function(t){tt(this.m,(function(e){return e==t}))},e.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i,t.b.removeListener(Al("local"),t.a,this.oa)),this.a&&(qh(this.a,this),$h(this.a.b)),Promise.resolve()},e.fc=function(t){return Yl(this,Ka(this.b,t))},e.zc=function(t){return!!as(t)},e.sb=function(t,e){var n=this;return Yl(this,Me().then((function(){var t=new eo(e);if(!t.c)throw new k("argument-error",io+" must be true when sending sign in link to email");return fo(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},e.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},e.jb=function(t,e){return Yl(this,this.b.jb(t,e).then((function(){})))},e.Pa=function(t){return Yl(this,this.b.Pa(t).then((function(t){return new Ci(t)})))},e.fb=function(t){return Yl(this,this.b.fb(t).then((function(){})))},e.rb=function(t,e){var n=this;return Yl(this,Me().then((function(){return"undefined"===typeof e||mt(e)?{}:fo(new eo(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},e.Uc=function(t,e){return Yl(this,cf(this,t,e,T(this.Ya,this)))},e.Tc=function(t,e){var n=this;return Yl(this,Me().then((function(){var r=e||Sr(),i=ss(t,r);if(r=as(r),!r)throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new k("tenant-id-mismatch");return n.Ya(i)})))},Ql.prototype.render=function(){},Ql.prototype.reset=function(){},Ql.prototype.getResponse=function(){},Ql.prototype.execute=function(){};var $l=null;function Zl(t,e){return(e=tp(e))&&t.a[e]||null}function tp(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function ep(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=pe(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():_n(this.f,"click",this.i)}function np(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function rp(){}function ip(){}Jl.prototype.render=function(t,e){return this.a[this.b.toString()]=new ep(t,e),this.b++},Jl.prototype.reset=function(t){var e=Zl(this,t);t=tp(t),e&&t&&(e.delete(),delete this.a[t])},Jl.prototype.getResponse=function(t){return(t=Zl(this,t))?t.getResponse():null},Jl.prototype.execute=function(t){(t=Zl(this,t))&&t.execute()},ep.prototype.getResponse=function(){return np(this),this.b},ep.prototype.execute=function(){np(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=Gr();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},ep.prototype.delete=function(){np(this),this.g=!0,clearTimeout(this.a),this.a=null,An(this.f,"click",this.i)},bi(rp,"FACTOR_ID","phone"),ip.prototype.g=function(){return $l||($l=new Jl),Me($l)},ip.prototype.c=function(){};var op=null;function sp(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ap=new Et(St,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),up=new ui(3e4,6e4);sp.prototype.g=function(t){var e=this;return new De((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),up.get());if(!f.grecaptcha||t!==e.f&&!e.b){f[e.a]=function(){if(f.grecaptcha){e.f=t;var o=f.grecaptcha.render;f.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(f.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete f[e.a]};var o=Ot(ap,{onload:e.a,hl:t||""});Me(Ia(o)).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))}else clearTimeout(i),n(f.grecaptcha)}))},sp.prototype.c=function(){this.b--};var cp=null;function hp(t,e,n,r,i,o,s){if(bi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(op||(op=new ip),s=op):(cp||(cp=new sp),s=cp),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[pp])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[dp],!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!pe(e)||!this.i&&pe(e).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Oa(t,o||null,i||null),this.w=r||function(){return null};var a=this;this.l=[];var u=this.a[fp];this.a[fp]=function(t){if(vp(a,t),"function"===typeof u)u(t);else if("string"===typeof u){var e=Qr(u,f);"function"===typeof e&&e(t)}};var c=this.a[lp];this.a[lp]=function(){if(vp(a,null),"function"===typeof c)c();else if("string"===typeof c){var t=Qr(c,f);"function"===typeof t&&t()}}}var fp="callback",lp="expired-callback",pp="sitekey",dp="size";function vp(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function yp(t,e){tt(t.l,(function(t){return t==e}))}function gp(t,e){return t.h.push(e),e.ma((function(){Z(t.h,e)})),e}function mp(t){if(t.D)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function bp(t,e,n){var i=!1;try{this.b=n||r.app()}catch(a){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ea()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.SDK_VERSION?Xr(r.SDK_VERSION,s):null,hp.call(this,n,t,e,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),s,P(O),i)}function wp(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=_p.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=_p[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new k("argument-error",t+" failed: "+r)}e=hp.prototype,e.Ga=function(){var t=this;return this.f?this.f:this.f=gp(this,Me().then((function(){if(Zr()&&!Fr())return Mr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Gu(t.s,Su,{})})).then((function(e){t.a[pp]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},e.render=function(){mp(this);var t=this;return gp(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=pe(e);e=me("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},e.verify=function(){mp(this);var t=this;return gp(this,this.render().then((function(e){return new De((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(yp(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},e.reset=function(){mp(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){mp(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=pe(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},N(bp,hp);var _p="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ip(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"===typeof t}}}function Ep(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"===typeof t}}}function Tp(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:m}}function Ap(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"===typeof t}}}function Sp(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Np(){return{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}}}function kp(){return{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Rl)}}}function Dp(){return{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof r.app.App)}}}function Op(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Rp(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}}function Cp(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Lp(t,e){return m(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Fa}function Pp(t){return m(t)&&"string"===typeof t.uid}function xp(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}}function Mp(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Up(t,e){for(var n in e){var r=e[n].name;t[r]=Fp(r,t[n],e[n].j)}}function Vp(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:A((function(t){return this[t]}),n),set:A((function(t,e,n,r){wp(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function jp(t,e,n,r){t[e]=Fp(e,n,r)}function Fp(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return wp(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=qp(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function qp(t){return t=t.split("."),t[t.length-1]}Up(Rl.prototype,{fb:{name:"applyActionCode",j:[Ip("code")]},Pa:{name:"checkActionCode",j:[Ip("code")]},jb:{name:"confirmPasswordReset",j:[Ip("code"),Ip("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Ip("email"),Ip("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Ip("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Ip("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Mp(Tp(),Ap(),"nextOrObserver"),Ap("opt_error",!0),Ap("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Mp(Tp(),Ap(),"nextOrObserver"),Ap("opt_error",!0),Ap("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Ip("email"),Mp(Tp("opt_actionCodeSettings",!0),Sp(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Ip("email"),Tp("actionCodeSettings")]},tb:{name:"setPersistence",j:[Ip("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Op()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Op()]},Rc:{name:"signInWithCustomToken",j:[Ip("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Ip("email"),Ip("password")]},Tc:{name:"signInWithEmailLink",j:[Ip("email"),Ip("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Ip("phoneNumber"),xp()]},Vc:{name:"signInWithPopup",j:[Cp()]},Wc:{name:"signInWithRedirect",j:[Cp()]},bd:{name:"updateCurrentUser",j:[Mp(function(t){return{name:"user",J:"an instance of Firebase User",optional:!!t,K:function(t){return!!(t&&t instanceof Mf)}}}(),Sp(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ip(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Ip("code")]}}),Vp(Rl.prototype,{lc:{name:"languageCode",gb:Mp(Ip(),Sp(),"languageCode")},ti:{name:"tenantId",gb:Mp(Ip(),Sp(),"tenantId")}}),Rl.Persistence=Yc,Rl.Persistence.LOCAL="local",Rl.Persistence.SESSION="session",Rl.Persistence.NONE="none",Up(Mf.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Ep("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ep("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Op()]},mb:{name:"linkWithCredential",j:[Op()]},Bc:{name:"linkWithPhoneNumber",j:[Ip("phoneNumber"),xp()]},Cc:{name:"linkWithPopup",j:[Cp()]},Dc:{name:"linkWithRedirect",j:[Cp()]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Op()]},pb:{name:"reauthenticateWithCredential",j:[Op()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Ip("phoneNumber"),xp()]},Lc:{name:"reauthenticateWithPopup",j:[Cp()]},Mc:{name:"reauthenticateWithRedirect",j:[Cp()]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Mp(Tp("opt_actionCodeSettings",!0),Sp(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ip(null,!0)]},ad:{name:"unlink",j:[Ip("provider")]},xb:{name:"updateEmail",j:[Ip("email")]},yb:{name:"updatePassword",j:[Ip("password")]},cd:{name:"updatePhoneNumber",j:[Op("phone")]},zb:{name:"updateProfile",j:[Tp("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Ip("email"),Mp(Tp("opt_actionCodeSettings",!0),Sp(null,!0),"opt_actionCodeSettings",!0)]}}),Up(Jl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Up(Ql.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Up(De.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Vp(af.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Ep("appVerificationDisabledForTesting")}}),Up(uf.prototype,{confirm:{name:"confirm",j:[Ip("verificationCode")]}}),jp(Vo,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[Ho,is,cs,Bo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Mp(Ip(),Tp(),"json")]),jp(os,"credential",(function(t,e){return new rs(t,e)}),[Ip("email"),Ip("password")]),Up(rs.prototype,{v:{name:"toJSON",j:[Ip(null,!0)]}}),Up(Yo.prototype,{Aa:{name:"addScope",j:[Ip("scope")]},Ia:{name:"setCustomParameters",j:[Tp("customOAuthParameters")]}}),jp(Yo,"credential",Qo,[Mp(Ip(),Tp(),"token")]),jp(os,"credentialWithLink",ss,[Ip("email"),Ip("emailLink")]),Up(Jo.prototype,{Aa:{name:"addScope",j:[Ip("scope")]},Ia:{name:"setCustomParameters",j:[Tp("customOAuthParameters")]}}),jp(Jo,"credential",$o,[Mp(Ip(),Tp(),"token")]),Up(Zo.prototype,{Aa:{name:"addScope",j:[Ip("scope")]},Ia:{name:"setCustomParameters",j:[Tp("customOAuthParameters")]}}),jp(Zo,"credential",ts,[Mp(Ip(),Mp(Tp(),Sp()),"idToken"),Mp(Ip(),Sp(),"accessToken",!0)]),Up(es.prototype,{Ia:{name:"setCustomParameters",j:[Tp("customOAuthParameters")]}}),jp(es,"credential",ns,[Mp(Ip(),Tp(),"token"),Ip("secret",!0)]),Up(Xo.prototype,{Aa:{name:"addScope",j:[Ip("scope")]},credential:{name:"credential",j:[Mp(Ip(),Mp(Tp(),Sp()),"optionsOrIdToken"),Mp(Ip(),Sp(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Tp("customOAuthParameters")]}}),Up(Go.prototype,{v:{name:"toJSON",j:[Ip(null,!0)]}}),Up(Fo.prototype,{v:{name:"toJSON",j:[Ip(null,!0)]}}),jp(fs,"credential",ls,[Ip("verificationId"),Ip("verificationCode")]),Up(fs.prototype,{cb:{name:"verifyPhoneNumber",j:[Mp(Ip(),function(t,e){return{name:t||"phoneInfoOptions",J:"valid phone info options",optional:!!e,K:function(t){return!!t&&(t.session&&t.phoneNumber?Lp(t.session,Mo)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?Lp(t.session,Uo)&&Pp(t.multiFactorHint):t.session&&t.multiFactorUid?Lp(t.session,Uo)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}}}(),"phoneInfoOptions"),xp()]}}),Up(us.prototype,{v:{name:"toJSON",j:[Ip(null,!0)]}}),Up(k.prototype,{toJSON:{name:"toJSON",j:[Ip(null,!0)]}}),Up(Is.prototype,{toJSON:{name:"toJSON",j:[Ip(null,!0)]}}),Up(_s.prototype,{toJSON:{name:"toJSON",j:[Ip(null,!0)]}}),Up(df.prototype,{toJSON:{name:"toJSON",j:[Ip(null,!0)]}}),Up(ff.prototype,{Pc:{name:"resolveSignIn",j:[Rp()]}}),Up(If.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[Rp(),Ip("displayName",!0)]},$c:{name:"unenroll",j:[Mp({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Pp},Ip(),"multiFactorInfoIdentifier")]}}),Up(bp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),jp(Wi,"parseLink",to,[Ip("link")]),jp(rp,"assertion",(function(t){return new wf(t)}),[Op("phone")]),function(){if("undefined"===typeof r||!r.INTERNAL||!r.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Pi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Li,VERIFY_AND_CHANGE_EMAIL:xi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Rl,AuthCredential:Vo,Error:k};jp(t,"EmailAuthProvider",os,[]),jp(t,"FacebookAuthProvider",Yo,[]),jp(t,"GithubAuthProvider",Jo,[]),jp(t,"GoogleAuthProvider",Zo,[]),jp(t,"TwitterAuthProvider",es,[]),jp(t,"OAuthProvider",Xo,[Ip("providerId")]),jp(t,"SAMLAuthProvider",Ko,[Ip("providerId")]),jp(t,"PhoneAuthProvider",fs,[kp()]),jp(t,"RecaptchaVerifier",bp,[Mp(Ip(),Np(),"recaptchaContainer"),Tp("recaptchaParameters",!0),Dp()]),jp(t,"ActionCodeURL",Wi,[]),jp(t,"PhoneMultiFactorGenerator",rp,[]),r.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return t=t.getProvider("app").getImmediate(),new Rl(t)},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return t=t.getProvider("auth").getImmediate(),{getUid:T(t.getUid,t),getToken:T(t.kc,t),addAuthTokenListener:T(t.bc,t),removeAuthTokenListener:T(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.registerVersion("@firebase/auth","0.14.9"),r.INTERNAL.extendNamespace({User:Mf})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n("c8ba"))},"4be4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("9ab4"),i=n("cd51"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:s,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(u){if(i)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,c(t))try{this.getOrInitializeService(s)}catch(p){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),u=a[0],h=a[1],f=this.normalizeInstanceIdentifier(u);try{var l=this.getOrInitializeService(f);h.resolve(l)}catch(p){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,u(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}();function u(t){return t===s?void 0:t}function c(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){var e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=h,e.Provider=a},"59ca":function(t,e,n){"use strict";var r=n("c23d");function i(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var o=i(r),s="firebase",a="7.20.0";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
o["default"].registerVersion(s,a,"app"),t.exports=o["default"]},"9ab4":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return f})),n.d(e,"__createBinding",(function(){return l})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return v})),n.d(e,"__spread",(function(){return y})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return b})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return I})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return T})),n.d(e,"__classPrivateFieldGet",(function(){return A})),n.d(e,"__classPrivateFieldSet",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function f(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function l(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{u(i[t](e))}catch(n){f(o[0][3],n)}}function u(t){t.value instanceof m?Promise.resolve(t.value.v).then(c,h):f(o[0][2],t)}function c(t){a("next",t)}function h(t){a("throw",t)}function f(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof d?d(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){e=t[n](e),i(r,o,e.done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function I(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function T(t){return t&&t.__esModule?t:{default:t}}function A(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},abfd:function(t,e,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return f})),n.d(e,"setLogLevel",(function(){return l})),n.d(e,"setUserLogHandler",(function(){return p}));var o,s=[];(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=(i={},i[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),h=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=h,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function l(t){s.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++){var u=i[r];n(u)}}},b22f:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("59ca"),i=(n("2ce1"),n("e89a"),{apiKey:"AIzaSyASpcAwBIg-POSgfmjwd9dwwQFIylgSpWo",authDomain:"moe2world.firebaseapp.com",databaseURL:"https://moe2world.firebaseio.com",projectId:"moe2world",storageBucket:"moe2world.appspot.com",messagingSenderId:"927352095671",appId:"1:927352095671:web:6a325fa8b6c8fe2e1e1e32"});r["initializeApp"](i);var o=r["firestore"](),s=(r["auth"](),o.collection("academy")),a=o.collection("news")},c23d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("9ab4"),s=n("cd51"),a=n("4be4"),u=n("abfd"),c=(r={},r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),h=new s.ErrorFactory("app","Firebase",c),f="@firebase/app",l="0.6.11",p="@firebase/analytics",d="@firebase/auth",v="@firebase/database",y="@firebase/functions",g="@firebase/installations",m="@firebase/messaging",b="@firebase/performance",w="@firebase/remote-config",_="@firebase/storage",I="@firebase/firestore",E="firebase-wrapper",T="[DEFAULT]",A=(i={},i[f]="fire-core",i[p]="fire-analytics",i[d]="fire-auth",i[v]="fire-rtdb",i[y]="fire-fn",i[g]="fire-iid",i[m]="fire-fcm",i[b]="fire-perf",i[w]="fire-rc",i[_]="fire-gcs",i[I]="fire-fst",i["fire-js"]="fire-js",i[E]="fire-js-all",i),S=new u.Logger("@firebase/app"),N=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),h=c.next();!h.done;h=c.next()){var f=h.value;this._addComponent(f)}}catch(l){r={error:l}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=T),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=T),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){S.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},t}();N.prototype.name&&N.prototype.options||N.prototype.delete||console.log("dc");var k="7.20.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(t){var e={},n=new Map,r={__esModule:!0,initializeApp:f,app:c,registerVersion:d,setLogLevel:u.setLogLevel,onLog:v,apps:null,SDK_VERSION:k,INTERNAL:{registerComponent:p,removeApp:i,components:n,useAsService:y}};function i(t){delete e[t]}function c(t){if(t=t||T,!s.contains(e,t))throw h.create("no-app",{appName:t});return e[t]}function f(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var a=i;void 0===a.name&&(a.name=T);var u=a.name;if("string"!==typeof u||!u)throw h.create("bad-app-name",{appName:String(u)});if(s.contains(e,u))throw h.create("duplicate-app",{appName:u});var c=new t(n,a,r);return e[u]=c,c}function l(){return Object.keys(e).map((function(t){return e[t]}))}function p(i){var a,u,f=i.name;if(n.has(f))return S.debug("There were multiple attempts to register component "+f+"."),"PUBLIC"===i.type?r[f]:null;if(n.set(f,i),"PUBLIC"===i.type){var l=function(t){if(void 0===t&&(t=c()),"function"!==typeof t[f])throw h.create("invalid-app-argument",{appName:f});return t[f]()};void 0!==i.serviceProps&&s.deepExtend(l,i.serviceProps),r[f]=l,t.prototype[f]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,f);return n.apply(this,i.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),d=p.next();!d.done;d=p.next()){var v=d.value;e[v]._addComponent(i)}}catch(y){a={error:y}}finally{try{d&&!d.done&&(u=p.return)&&u.call(p)}finally{if(a)throw a.error}}return"PUBLIC"===i.type?r[f]:null}function d(t,e,n){var r,i=null!==(r=A[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void S.warn(u.join(" "))}p(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))}function v(t,e){if(null!==t&&"function"!==typeof t)throw h.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)}function y(t,e){if("serverAuth"===e)return null;var n=e;return n}return r["default"]=r,Object.defineProperty(r,"apps",{get:l}),c["App"]=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(){var t=D(N);function e(e){s.deepExtend(t,e)}return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:O,extendNamespace:e,createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),t}var R=O(),C=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map((function(t){if(L(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new C(t)}),"PRIVATE")),t.registerVersion(f,l,e),t.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(s.isBrowser()&&void 0!==self.firebase){S.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var x=self.firebase.SDK_VERSION;x&&x.indexOf("LITE")>=0&&S.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var M=R.initializeApp;R.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&S.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),M.apply(void 0,t)};var U=R;P(U),e.default=U,e.firebase=U},c7b2:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ErrorCode",(function(){return Er})),n.d(e,"EventType",(function(){return Tr})),n.d(e,"WebChannel",(function(){return Ar})),n.d(e,"XhrIo",(function(){return Sr})),n.d(e,"createWebChannelTransport",(function(){return Ir}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var s,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},u=u||{},c=a||self;function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function l(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function d(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m,b.apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now;function I(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(){this.j=this.j,this.i=this.i}var T=0;E.prototype.j=!1,E.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0!=T))d(this)},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var A=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function N(t){t:{for(var e=Vn,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function k(t){return Array.prototype.concat.apply([],arguments)}function D(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function O(t){return/^[\s\xa0]*$/.test(t)}var R,C=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function L(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var x=c.navigator;if(x){var M=x.userAgent;if(M){R=M;break t}}R=""}function U(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function V(t){var e={};for(var n in t)e[n]=t[n];return e}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t){return q[" "](t),t}function B(t,e){var n=et;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}q[" "]=h;var G,z=L(R,"Opera"),H=L(R,"Trident")||L(R,"MSIE"),W=L(R,"Edge"),K=W||H,X=L(R,"Gecko")&&!(L(R.toLowerCase(),"webkit")&&!L(R,"Edge"))&&!(L(R,"Trident")||L(R,"MSIE"))&&!L(R,"Edge"),Y=L(R.toLowerCase(),"webkit")&&!L(R,"Edge");function Q(){var t=c.document;return t?t.documentMode:void 0}t:{var J="",$=function(){var t=R;return X?/rv:([^\);]+)(\)|;)/.exec(t):W?/Edge\/([\d\.]+)/.exec(t):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Y?/WebKit\/(\S+)/.exec(t):z?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if($&&(J=$?$[1]:""),H){var Z=Q();if(null!=Z&&Z>parseFloat(J)){G=String(Z);break t}}G=J}var tt,et={};function nt(t){return B(t,(function(){for(var e=0,n=C(String(G)).split("."),r=C(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=P(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==s[2].length,0==a[2].length)||P(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(c.document&&H){var rt=Q();tt=rt||(parseInt(G,10)||void 0)}else tt=void 0;var it=tt,ot=!H||9<=Number(it),st=H&&!nt("9"),at=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{c.addEventListener("test",h,e),c.removeEventListener("test",h,e)}catch(n){}return t}();function ut(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ct(t,e){if(ut.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(X){t:{try{q(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ht[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ut.prototype.b=function(){this.defaultPrevented=!0},I(ct,ut);var ht={2:"touch",3:"pen",4:"mouse"};ct.prototype.b=function(){ct.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,st)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ft="closure_listenable_"+(1e6*Math.random()|0),lt=0;function pt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++lt,this.Y=this.Z=!1}function dt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function vt(t){this.src=t,this.a={},this.b=0}function yt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=A(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(dt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function gt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}vt.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var s=gt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):(e=new pt(e,this.src,o,!!r,i),e.Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),bt={};function wt(t,e,n,r,i){if(r&&r.once)return Et(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)wt(t,e[o],n,r,i);return null}return n=Rt(n),t&&t[ft]?t.va(e,n,p(r)?!!r.capture:!!r,i):_t(t,e,n,!1,r,i)}function _t(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i;if(s&&!ot)return null;var a=Dt(t);if(a||(t[mt]=a=new vt(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=It(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)at||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(St(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function It(){var t=kt,e=ot?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function Et(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Et(t,e[o],n,r,i);return null}return n=Rt(n),t&&t[ft]?t.wa(e,n,p(r)?!!r.capture:!!r,i):_t(t,e,n,!0,r,i)}function Tt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Tt(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=Rt(n),t&&t[ft]?(t=t.c,e=String(e).toString(),e in t.a&&(o=t.a[e],n=gt(o,n,r,i),-1<n&&(dt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Dt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=gt(e,n,r,i)),(n=-1<t?e[t]:null)&&At(n))}function At(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ft])yt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(St(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Dt(e))?(yt(n,t),0==n.b&&(n.src=null,e[mt]=null)):dt(t)}}}function St(t){return t in bt?bt[t]:bt[t]="on"+t}function Nt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&At(t),n.call(r,e)}function kt(t,e){if(t.Y)return!0;if(!ot){if(!e)t:{e=["window","event"];for(var n=c,r=0;r<e.length;r++)if(n=n[e[r]],null==n){e=null;break t}e=n}return e=new ct(e,this),Nt(t,e)}return Nt(t,new ct(e,this))}function Dt(t){return t=t[mt],t instanceof vt?t:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(t){return"function"==f(t)?t:(t[Ot]||(t[Ot]=function(e){return t.handleEvent(e)}),t[Ot])}function Ct(){E.call(this),this.c=new vt(this),this.J=this,this.C=null}function Lt(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&yt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}I(Ct,E),Ct.prototype[ft]=!0,s=Ct.prototype,s.addEventListener=function(t,e,n,r){wt(this,t,e,n,r)},s.removeEventListener=function(t,e,n,r){Tt(this,t,e,n,r)},s.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"===typeof t)t=new ut(t,n);else if(t instanceof ut)t.target=t.target||n;else{var i=t;t=new ut(r,n),F(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Lt(s,r,!0,t)&&i}if(s=t.a=n,i=Lt(s,r,!0,t)&&i,i=Lt(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)s=t.a=e[o],i=Lt(s,r,!1,t)&&i;return i},s.G=function(){if(Ct.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)dt(n[r]);delete e.a[t],e.b--}}this.C=null},s.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},s.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Pt=c.JSON.stringify;function xt(){this.b=this.a=null}var Mt,Ut=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new jt}),(function(t){t.reset()}),100);function Vt(){var t=zt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function jt(){this.next=this.b=this.a=null}function Ft(t){c.setTimeout((function(){throw t}),0)}function qt(t,e){Mt||Bt(),Gt||(Mt(),Gt=!0),zt.add(t,e)}function Bt(){var t=c.Promise.resolve(void 0);Mt=function(){t.then(Ht)}}xt.prototype.add=function(t,e){var n=Ut.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},jt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},jt.prototype.reset=function(){this.next=this.b=this.a=null};var Gt=!1,zt=new xt;function Ht(){for(var t;t=Vt();){try{t.a.call(t.b)}catch(n){Ft(n)}var e=Ut;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Gt=!1}function Wt(t,e){Ct.call(this),this.b=t||1,this.a=e||c,this.f=b(this.Ya,this),this.g=_()}function Kt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Xt(t,e,n){if("function"==f(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:c.setTimeout(t,e||0)}function Yt(t){t.a=Xt((function(){t.a=null,t.c&&(t.c=!1,Yt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}I(Wt,Ct),s=Wt.prototype,s.aa=!1,s.M=null,s.Ya=function(){if(this.aa){var t=_()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Kt(this),this.start()))}},s.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_())},s.G=function(){Wt.S.G.call(this),Kt(this),delete this.a};var Qt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return i(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Yt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(c.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(E);function Jt(t){E.call(this),this.b=t,this.a={}}I(Jt,E);var $t=[];function Zt(t,e,n,r){Array.isArray(n)||(n&&($t[0]=n.toString()),n=$t);for(var i=0;i<n.length;i++){var o=wt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function te(t){U(t.a,(function(t,e){this.a.hasOwnProperty(e)&&At(t)}),t),t.a={}}function ee(){this.a=!0}function ne(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}function re(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}function ie(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+se(t,n)+(r?" "+r:"")}))}function oe(t,e){t.info((function(){return"TIMEOUT: "+e}))}function se(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Pt(n)}catch(a){return e}}Jt.prototype.G=function(){Jt.S.G.call(this),te(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ee.prototype.info=function(){};var ae=null;function ue(){return ae=ae||new Ct}function ce(t){ut.call(this,"serverreachability",t)}function he(t){var e=ue();e.dispatchEvent(new ce(e,t))}function fe(t){ut.call(this,"statevent",t)}function le(t){var e=ue();e.dispatchEvent(new fe(e,t))}function pe(t){ut.call(this,"timingevent",t)}function de(t,e){if("function"!=f(t))throw Error("Fn must not be null and must be a function");return c.setTimeout((function(){t()}),e)}I(ce,ut),I(fe,ut),I(pe,ut);var ve={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ye={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ge(){}function me(t){var e;return(e=t.a)||(e=t.a={}),e}function be(){}ge.prototype.a=null;var we,_e={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Ie(){ut.call(this,"d")}function Ee(){ut.call(this,"c")}function Te(){}function Ae(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Jt(this),this.P=Se,t=K?125:void 0,this.R=new Wt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}I(Ie,ut),I(Ee,ut),I(Te,ge),we=new Te;var Se=45e3,Ne={},ke={};function De(t,e,n){t.H=1,t.i=Ze(Ke(e)),t.j=n,t.I=!0,Oe(t,null)}function Oe(t,e){t.u=_(),Le(t),t.l=Ke(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),vn(n.b,"t",r),t.D=0,t.a=dr(t.g,t.g.C?e:null),0<t.O&&(t.F=new Qt(b(t.Ca,t,t.a),t.O)),Zt(t.J,t.a,"readystatechange",t.Wa),e=t.B?V(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),he(1),ne(t.c,t.m,t.l,t.f,t.T,t.j)}function Re(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ce(t,n);if(i==ke){4==e&&(t.h=4,le(14),r=!1),ie(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ne){t.h=4,le(15),ie(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ie(t.c,t.f,i,null),Ve(t,i)}4==e&&0==n.length&&(t.h=1,le(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,e=t.g,e.a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),sr(e),e.F=!0)):(ie(t.c,t.f,n,"[Invalid Chunked Response]"),Ue(t),Me(t))}function Ce(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ke:(n=Number(e.substring(n,r)),isNaN(n)?Ne:(r+=1,r+n>e.length?ke:(e=e.substr(r,n),t.D=r+n,e)))}function Le(t){t.U=_()+t.P,Pe(t,t.P)}function Pe(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=de(b(t.Ua,t),e)}function xe(t){t.o&&(c.clearTimeout(t.o),t.o=null)}function Me(t){0==t.g.v||t.A||cr(t.g,t)}function Ue(t){xe(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Kt(t.R),te(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ve(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||En(n.b,t)))if(n.I=t.N,!t.C&&En(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ur(n),Qn(n)}or(n),le(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=de(b(n.Ra,n),6e3));if(1>=In(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else fr(n,11)}else if((t.C||n.a==t)&&ur(n),!O(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"===typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var f=u.b;!f.a&&(L(h,"spdy")||L(h,"quic")||L(h,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(Tn(f,f.b),f.b=null))}if(u.A){var l=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(u.na=l,$e(u.B,u.A,l))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=_()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),u=n;var p=t;if(u.la=pr(u,u.C?u.ga:null,u.fa),p.C){An(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(xe(d),Le(d)),u.a=p}else ir(u);0<n.g.length&&Zn(n)}else"stop"!=i[0]&&"close"!=i[0]||fr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?fr(n,7):Yn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);he(4)}catch(y){}}function je(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Fe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"===typeof t)S(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(l(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=je(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function qe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof qe)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Be(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ge(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Ge(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}s=Ae.prototype,s.setTimeout=function(t){this.P=t},s.Wa=function(t){t=t.target;var e=this.F;e&&3==zn(t)?e.f():this.Ca(t)},s.Ca=function(t){try{if(t==this.a)t:{var e=zn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!K&&!this.a.$())){this.A||4!=e||7==n||he(8==n||0>=r?3:2),xe(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,re(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,le(12),Ue(this),Me(this);break t}ie(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ve(this,u)}this.I?(Re(this,e,o),K&&this.b&&3==e&&(Zt(this.J,this.R,"tick",this.Va),this.R.start())):(ie(this.c,this.f,o,null),Ve(this,o)),4==e&&Ue(this),this.b&&!this.A&&(4==e?cr(this.g,this):(this.b=!1,Le(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,le(12)):(this.h=0,le(13)),Ue(this),Me(this)}}}catch(c){}},s.Va=function(){if(this.a){var t=zn(this.a),e=this.a.$();this.D<e.length&&(xe(this),Re(this,t,e),this.b&&4!=t&&Le(this))}},s.cancel=function(){this.A=!0,Ue(this)},s.Ua=function(){this.o=null;var t=_();0<=t-this.U?(oe(this.c,this.l),2!=this.H&&(he(3),le(17)),Ue(this),this.h=2,Me(this)):Pe(this,this.U-t)},s=qe.prototype,s.K=function(){Be(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},s.L=function(){return Be(this),this.a.concat()},s.get=function(t,e){return Ge(this.b,t)?this.b[t]:e},s.set=function(t,e){Ge(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},s.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ze=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function He(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function We(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof We){this.a=void 0!==e?e:t.a,Xe(this,t.f),this.j=t.j,Ye(this,t.c),Qe(this,t.h),this.g=t.g,e=t.b;var n=new fn;n.c=e.c,e.a&&(n.a=new qe(e.a),n.b=e.b),Je(this,n),this.i=t.i}else t&&(n=String(t).match(ze))?(this.a=!!e,Xe(this,n[1]||"",!0),this.j=nn(n[2]||""),Ye(this,n[3]||"",!0),Qe(this,n[4]),this.g=nn(n[5]||"",!0),Je(this,n[6]||"",!0),this.i=nn(n[7]||"")):(this.a=!!e,this.b=new fn(null,this.a))}function Ke(t){return new We(t)}function Xe(t,e,n){t.f=n?nn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ye(t,e,n){t.c=n?nn(e,!0):e}function Qe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Je(t,e,n){e instanceof fn?(t.b=e,gn(t.b,t.a)):(n||(e=rn(e,cn)),t.b=new fn(e,t.a))}function $e(t,e,n){t.b.set(e,n)}function Ze(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),t}function tn(t){return t instanceof We?Ke(t):new We(t,void 0)}function en(t,e,n,r){var i=new We(null,void 0);return t&&Xe(i,t),e&&Ye(i,e),n&&Qe(i,n),r&&(i.g=r),i}function nn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,on),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function on(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}We.prototype.toString=function(){var t=[],e=this.f;e&&t.push(rn(e,sn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(rn(e,sn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,null!=n&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(rn(n,"/"==n.charAt(0)?un:an,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",rn(n,hn)),t.join("")};var sn=/[#\/\?@]/g,an=/[#\?:]/g,un=/[#\?]/g,cn=/[#\?@]/g,hn=/#/g;function fn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ln(t){t.a||(t.a=new qe,t.b=0,t.c&&He(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function pn(t,e){ln(t),e=yn(t,e),Ge(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Ge(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Be(t)))}function dn(t,e){return ln(t),e=yn(t,e),Ge(t.a.b,e)}function vn(t,e,n){pn(t,e),0<n.length&&(t.c=null,t.a.set(yn(t,e),D(n)),t.b+=n.length)}function yn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function gn(t,e){e&&!t.f&&(ln(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(pn(this,e),vn(this,n,t))}),t)),t.f=e}function mn(t,e){this.b=t,this.a=e}function bn(t){this.g=t||wn,c.PerformanceNavigationTiming?(t=c.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(c.ia&&c.ia.ya&&c.ia.ya()&&c.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}s=fn.prototype,s.add=function(t,e){ln(this),this.c=null,t=yn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},s.forEach=function(t,e){ln(this),this.a.forEach((function(n,r){S(n,(function(n){t.call(e,n,r,this)}),this)}),this)},s.L=function(){ln(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},s.K=function(t){ln(this);var e=[];if("string"===typeof t)dn(this,t)&&(e=k(e,this.a.get(yn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},s.set=function(t,e){return ln(this),this.c=null,t=yn(this,t),dn(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},s.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e},s.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var wn=10;function _n(t){return!!t.b||!!t.a&&t.a.size>=t.f}function In(t){return t.b?1:t.a?t.a.size:0}function En(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Tn(t,e){t.a?t.a.add(e):t.b=e}function An(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Sn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=o(t.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return D(t.c)}function Nn(){}function kn(){this.a=new Nn}function Dn(t,e,n){var r=n||"";try{Fe(t,(function(t,n){var i=t;p(t)&&(i=Pt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function On(t,e){var n=new ee;if(c.Image){var r=new Image;r.onload=w(Rn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=w(Rn,n,r,"TestLoadImage: error",!1,e),r.onabort=w(Rn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=w(Rn,n,r,"TestLoadImage: timeout",!1,e),c.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}function Rn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}bn.prototype.cancel=function(){var t,e;if(this.c=Sn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=o(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Nn.prototype.stringify=function(t){return c.JSON.stringify(t,void 0)},Nn.prototype.parse=function(t){return c.JSON.parse(t,void 0)};var Cn=c.JSON.parse;function Ln(t){Ct.call(this),this.headers=new qe,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Pn,this.D=this.F=!1}I(Ln,Ct);var Pn="",xn=/^https?$/i,Mn=["POST","PUT"];function Un(t){return H&&nt(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function Vn(t){return"content-type"==t.toLowerCase()}function jn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Fn(t),Bn(t)}function Fn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function qn(t){if(t.b&&"undefined"!=typeof u&&(!t.s[1]||4!=zn(t)||2!=t.X()))if(t.l&&4==zn(t))Xt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==zn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ze)[1]||null;if(!o&&c.self&&c.self.location){var s=c.self.location.protocol;o=s.substr(0,s.length-1)}i=!xn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<zn(t)?t.a.statusText:""}catch(h){a=""}t.f=a+" ["+t.X()+"]",Fn(t)}}finally{Bn(t)}}}function Bn(t,e){if(t.a){Gn(t);var n=t.a,r=t.s[0]?h:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Gn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(c.clearTimeout(t.m),t.m=null)}function zn(t){return t.a?t.a.readyState:0}function Hn(t){var e="";return U(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Wn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Hn(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function Kn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xn(t){this.pa=0,this.g=[],this.c=new ee,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Kn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Kn("baseRetryDelayMs",5e3,t),this.Ma=Kn("retryDelaySeedMs",1e4,t),this.Ja=Kn("forwardChannelMaxRetries",2,t),this.ma=Kn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new bn(t&&t.concurrentRequestLimit),this.ka=new kn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Yn(t){if(Jn(t),3==t.v){var e=t.R++,n=Ke(t.B);$e(n,"SID",t.J),$e(n,"RID",e),$e(n,"TYPE","terminate"),nr(t,n),e=new Ae(t,t.c,e,void 0),e.H=2,e.i=Ze(Ke(n)),n=!1,c.navigator&&c.navigator.sendBeacon&&(n=c.navigator.sendBeacon(e.i.toString(),"")),!n&&c.Image&&((new Image).src=e.i,n=!0),n||(e.a=dr(e.g,null),e.a.ba(e.i)),e.u=_(),Le(e)}lr(t)}function Qn(t){t.a&&(sr(t),t.a.cancel(),t.a=null)}function Jn(t){Qn(t),t.j&&(c.clearTimeout(t.j),t.j=null),ur(t),t.b.cancel(),t.h&&("number"===typeof t.h&&c.clearTimeout(t.h),t.h=null)}function $n(t,e){t.g.push(new mn(t.La++,e)),3==t.v&&Zn(t)}function Zn(t){_n(t.b)||t.h||(t.h=!0,qt(t.Ba,t),t.u=0)}function tr(t,e){return!(In(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja))&&(t.h=de(b(t.Ba,t,e),hr(t,t.u)),t.u++,!0))}function er(t,e){var n;n=e?e.f:t.R++;var r=Ke(t.B);$e(r,"SID",t.J),$e(r,"RID",n),$e(r,"AID",t.P),nr(t,r),t.i&&t.l&&Wn(r,t.i,t.l),n=new Ae(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=rr(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Tn(t.b,n),De(n,r,e)}function nr(t,e){t.f&&Fe({},(function(t,n){$e(e,n,t)}))}function rr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?b(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(c-=o,0>c)o=Math.max(0,i[u].b-100),a=!1;else try{Dn(h,s,"req"+c+"_")}catch(f){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ir(t){t.a||t.j||(t.U=1,qt(t.Aa,t),t.o=0)}function or(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=de(b(t.Aa,t),hr(t,t.o)),t.o++,!0)}function sr(t){null!=t.s&&(c.clearTimeout(t.s),t.s=null)}function ar(t){t.a=new Ae(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ke(t.la);$e(e,"RID","rpc"),$e(e,"SID",t.J),$e(e,"CI",t.H?"0":"1"),$e(e,"AID",t.P),nr(t,e),$e(e,"TYPE","xmlhttp"),t.i&&t.l&&Wn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ze(Ke(e)),n.j=null,n.I=!0,Oe(n,t)}function ur(t){null!=t.m&&(c.clearTimeout(t.m),t.m=null)}function cr(t,e){var n=null;if(t.a==e){ur(t),sr(t),t.a=null;var r=2}else{if(!En(t.b,e))return;n=e.s,An(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=_()-e.u;var i=t.u;r=ue(),r.dispatchEvent(new pe(r,n,e,i)),Zn(t)}else ir(t);else if(i=e.h,3==i||0==i&&0<t.I||!(1==r&&tr(t,e)||2==r&&or(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:fr(t,5);break;case 4:fr(t,10);break;case 3:fr(t,6);break;default:fr(t,2)}}function hr(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function fr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=b(t.Xa,t);n||(n=new We("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||Xe(n,"https"),Ze(n)),On(n.toString(),r)}else le(2);t.v=0,t.f&&t.f.ra(e),lr(t),Jn(t)}function lr(t){t.v=0,t.I=-1,t.f&&(0==Sn(t.b).length&&0==t.g.length||(t.b.c.length=0,D(t.g),t.g.length=0),t.f.qa())}function pr(t,e,n){var r=tn(n);if(""!=r.c)e&&Ye(r,e+"."+r.c),Qe(r,r.h);else{var i=c.location;r=en(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&U(t.W,(function(t,e){$e(r,e,t)})),e=t.A,n=t.na,e&&n&&$e(r,e,n),$e(r,"VER",t.ha),nr(t,r),r}function dr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new Ln(t.Ka),e.F=t.C,e}function vr(){}function yr(){if(H&&!(10<=Number(it)))throw Error("Environmental error: no available transport.")}function gr(t,e){Ct.call(this),this.a=new Xn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!O(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!O(e)&&(this.a.A=e,t=this.b,null!==t&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new wr(this)}function mr(t){Ie.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function br(){Ee.call(this),this.status=1}function wr(t){this.a=t}s=Ln.prototype,s.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?me(this.H):me(we),this.a.onreadystatechange=b(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void jn(this,o)}t=n||"";var i=new qe(this.headers);r&&Fe(r,(function(t,e){i.set(e,t)})),r=N(i.L()),n=c.FormData&&t instanceof c.FormData,!(0<=A(Mn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Gn(this),0<this.o&&((this.D=Un(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.xa,this)):this.m=Xt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){jn(this,o)}},s.xa=function(){"undefined"!=typeof u&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},s.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Bn(this))},s.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Bn(this,!0)),Ln.S.G.call(this)},s.za=function(){this.j||(this.A||this.l||this.g?qn(this):this.Ta())},s.Ta=function(){qn(this)},s.X=function(){try{return 2<zn(this)?this.a.status:-1}catch(t){return-1}},s.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},s.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cn(e)}},s.ua=function(){return this.h},s.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},s=Xn.prototype,s.ha=8,s.v=1,s.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ae(this,this.c,t,void 0),r=this.l;if(this.O&&(r?(r=V(r),F(r,this.O)):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(o="__data__"in o.a&&(o=o.a.__data__,"string"===typeof o)?o.length:void 0,void 0===o)break;if(e+=o,4096<e){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=rr(this,n,e),i=Ke(this.B),$e(i,"RID",t),$e(i,"CVER",22),this.A&&$e(i,"X-HTTP-Session-Id",this.A),nr(this,i),this.i&&r&&Wn(i,this.i,r),Tn(this.b,n),this.Ga&&$e(i,"TYPE","init"),this.da?($e(i,"$req",e),$e(i,"SID","null"),n.V=!0,De(n,i,null)):De(n,i,e),this.v=2}}else 3==this.v&&(t?er(this,t):0==this.g.length||_n(this.b)||er(this))},s.Aa=function(){if(this.j=null,ar(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=de(b(this.Sa,this),t)}},s.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Qn(this),ar(this))},s.Ra=function(){null!=this.m&&(this.m=null,Qn(this),or(this),le(19))},s.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),le(2)):(this.c.info("Failed to ping google.com"),le(1))},s=vr.prototype,s.ta=function(){},s.sa=function(){},s.ra=function(){},s.qa=function(){},s.Ha=function(){},yr.prototype.a=function(t,e){return new gr(t,e)},I(gr,Ct),s=gr.prototype,s.addEventListener=function(t,e,n,r){gr.S.addEventListener.call(this,t,e,n,r)},s.removeEventListener=function(t,e,n,r){gr.S.removeEventListener.call(this,t,e,n,r)},s.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;le(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=pr(t,null,t.fa),Zn(t)},s.close=function(){Yn(this.a)},s.Pa=function(t){if("string"===typeof t){var e={};e.__data__=t,$n(this.a,e)}else this.g?(e={},e.__data__=Pt(t),$n(this.a,e)):$n(this.a,t)},s.G=function(){this.a.f=null,delete this.f,Yn(this.a),delete this.a,gr.S.G.call(this)},I(mr,Ie),I(br,Ee),I(wr,vr),wr.prototype.ta=function(){this.a.dispatchEvent("a")},wr.prototype.sa=function(t){this.a.dispatchEvent(new mr(t))},wr.prototype.ra=function(t){this.a.dispatchEvent(new br(t))},wr.prototype.qa=function(){this.a.dispatchEvent("b")},yr.prototype.createWebChannel=yr.prototype.a,gr.prototype.send=gr.prototype.Pa,gr.prototype.open=gr.prototype.Oa,gr.prototype.close=gr.prototype.close,ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,ye.COMPLETE="complete",be.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",Ct.prototype.listen=Ct.prototype.va,Ln.prototype.listenOnce=Ln.prototype.wa,Ln.prototype.getLastError=Ln.prototype.Qa,Ln.prototype.getLastErrorCode=Ln.prototype.ua,Ln.prototype.getStatus=Ln.prototype.X,Ln.prototype.getResponseJson=Ln.prototype.Na,Ln.prototype.getResponseText=Ln.prototype.$,Ln.prototype.send=Ln.prototype.ba;var _r={createWebChannelTransport:function(){return new yr},ErrorCode:ve,EventType:ye,WebChannel:be,XhrIo:Ln},Ir=_r.createWebChannelTransport,Er=_r.ErrorCode,Tr=_r.EventType,Ar=_r.WebChannel,Sr=_r.XhrIo;e["default"]=_r}.call(this,n("c8ba"))},cd51:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("9ab4"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u=function(t){var e=[],n=0,r=0;while(n<t.length){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=t[n++];var s=t[n++],a=t[n++],u=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,f=(3&o)<<4|a>>4,l=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(l=64)),r.push(n[h],n[f],n[l],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length,a=s?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var h=i<t.length,f=h?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==f)throw Error();var l=o<<2|a>>4;if(r.push(l),64!==c){var p=a<<4&240|c>>2;if(r.push(p),64!==f){var d=c<<6&192|f;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){var e=a(t);return c.encodeByteArray(e,!0)},f=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function l(t){return p(void 0,t)}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=p(t[r],e[r]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function y(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function g(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function m(){return"object"===typeof self&&self.self===self}function b(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function _(){return v().indexOf("Electron/")>=0}function I(){var t=v();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E(){return v().indexOf("MSAppHost/")>=0}function T(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function A(){return!g()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"indexedDB"in self&&null!=indexedDB}function N(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function k(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D="FirebaseError",O=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=D,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,R.prototype.create),i}return r.__extends(e,t),e}(Error),R=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?C(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new O(i,a),c=0,h=Object.keys(r);c<h.length;c++){var f=h[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},t}();function C(t,e){return t.replace(L,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var L=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(t){return JSON.parse(t)}function x(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=P(f(o[0])||""),n=P(f(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(s){}return{header:e,claims:n,data:r,signature:i}},U=function(t){var e=M(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?r=e["nbf"]:e.hasOwnProperty("iat")&&(r=e["iat"]),i=e.hasOwnProperty("exp")?e["exp"]:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},V=function(t){var e=M(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e["iat"]:null},j=function(t){var e=M(t),n=e.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},F=function(t){var e=M(t).claims;return"object"===typeof e&&!0===e["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function q(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function G(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function z(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],s=o[0],a=o[1];n(s,a)}return e.length?"&"+e.join("&"):""}function W(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+f+s+n[r]&4294967295;f=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<e){if(0===o)while(r<=n)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){while(r<e)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<e)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function X(t,e){var n=new Y(t,e);return n.subscribe.bind(n)}var Y=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=J(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=$),void 0===r.error&&(r.error=$),void 0===r.complete&&(r.complete=$);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Q(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}}function J(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}function $(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function tt(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument ",i}function et(t,e,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(tt(t,e,r)+"must be a valid firebase namespace.")}function nt(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(tt(t,e,r)+"must be a valid function.")}function rt(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(tt(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ot=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},st=1e3,at=2,ut=144e5,ct=.5;function ht(t,e,n){void 0===e&&(e=st),void 0===n&&(n=at);var r=e*Math.pow(n,t),i=Math.round(ct*r*(Math.random()-.5)*2);return Math.min(ut,r+i)}e.CONSTANTS=i,e.Deferred=d,e.ErrorFactory=R,e.FirebaseError=O,e.MAX_VALUE_MILLIS=ut,e.RANDOM_FACTOR=ct,e.Sha1=K,e.areCookiesEnabled=k,e.assert=o,e.assertionError=s,e.async=Q,e.base64=c,e.base64Decode=f,e.base64Encode=h,e.calculateBackoffMillis=ht,e.contains=q,e.createSubscribe=X,e.decode=M,e.deepCopy=l,e.deepExtend=p,e.errorPrefix=tt,e.getUA=v,e.isAdmin=F,e.isBrowser=m,e.isBrowserExtension=b,e.isElectron=_,e.isEmpty=G,e.isIE=I,e.isIndexedDBAvailable=S,e.isMobileCordova=y,e.isNode=g,e.isNodeSdk=T,e.isReactNative=w,e.isSafari=A,e.isUWP=E,e.isValidFormat=j,e.isValidTimestamp=U,e.issuedAtTime=V,e.jsonEval=P,e.map=z,e.querystring=H,e.querystringDecode=W,e.safeGet=B,e.stringLength=ot,e.stringToByteArray=it,e.stringify=x,e.validateArgCount=Z,e.validateCallback=nt,e.validateContextObject=rt,e.validateIndexedDBOpenable=N,e.validateNamespace=et}).call(this,n("c8ba"))},e89a:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("9ab4"),i=n("c23d"),o=n("abfd"),s=n("cd51"),a=n("c7b2"),u=n("4be4");function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var h=c(i),f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},l=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),p=new o.Logger("@firebase/firestore");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(){return p.logLevel}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(p.logLevel<=o.LogLevel.DEBUG){var i=e.map(m);p.debug.apply(p,r.__spreadArrays(["Firestore (7.20.0): "+t],i))}}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(p.logLevel<=o.LogLevel.ERROR){var i=e.map(m);p.error.apply(p,r.__spreadArrays(["Firestore (7.20.0): "+t],i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(p.logLevel<=o.LogLevel.WARN){var i=e.map(m);p.warn.apply(p,r.__spreadArrays(["Firestore (7.20.0): "+t],i))}}function m(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.20.0) INTERNAL ASSERTION FAILED: "+t;throw y(e),new Error(e)}function w(t,e){t||b()}function _(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function E(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function T(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&b(),void 0===n?n=t.length-e:n>t.length-e&&b(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return t=void 0===t?1:t,this.o(this.segments,this.offset+t,this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.P=function(t){if(t.indexOf("//")>=0)throw new l(f.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.g=function(){return new e([])},e}(A),N=/^[_a-zA-Z][_a-zA-Z0-9]*$/,k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return N.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new l(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new l(f.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new l(f.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new l(f.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.g=function(){return new e([])},e}(A),D=function(){function t(t){this.path=t}return t.D=function(e){return new t(S.P(e))},t.C=function(e){return new t(S.P(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===S.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return S.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new S(e.slice()))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(t,e){if(0!==e.length)throw new l(f.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+X(e.length,"argument")+".")}function R(t,e,n){if(e.length!==n)throw new l(f.INVALID_ARGUMENT,"Function "+t+"() requires "+X(n,"argument")+", but was called with "+X(e.length,"argument")+".")}function C(t,e,n){if(e.length<n)throw new l(f.INVALID_ARGUMENT,"Function "+t+"() requires at least "+X(n,"argument")+", but was called with "+X(e.length,"argument")+".")}function L(t,e,n,r){if(e.length<n||e.length>r)throw new l(f.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+X(e.length,"argument")+".")}function P(t,e,n,r){F(t,e,K(n)+" argument",r)}function x(t,e,n,r){void 0!==r&&P(t,e,n,r)}function M(t,e,n,r){F(t,e,n+" option",r)}function U(t,e,n,r){void 0!==r&&M(t,e,n,r)}function V(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(B(u))}var c=B(r);throw new l(f.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function j(t,e,n,r){if(!e.some((function(t){return t===r})))throw new l(f.INVALID_ARGUMENT,"Invalid value "+B(r)+" provided to function "+t+"() for its "+K(n)+" argument. Acceptable values: "+e.join(", "));return r}function F(t,e,n,r){if(!("object"===e?q(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=B(r);throw new l(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function q(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":b()}function G(t,e,n){if(void 0===n)throw new l(f.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+K(e)+" argument, but it was undefined.")}function z(t,e,n){E(e,(function(e,r){if(n.indexOf(e)<0)throw new l(f.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function H(t,e,n,r){var i=B(r);return new l(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+K(n)+" argument to be a "+e+", but it was: "+i)}function W(t,e,n){if(n<=0)throw new l(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+K(e)+" argument to be a positive number, but it was: "+n+".")}function K(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function X(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Y(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function J(t,e){return t<e?-1:t>e?1:0}function $(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Z(t){return t+"\0"}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.M,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return J(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();tt.B=new tt("");var et=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(tt.fromBase64String(e))}catch(e){throw new l(f.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(tt.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(){if("undefined"==typeof Uint8Array)throw new l(f.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rt(){if("undefined"==typeof atob)throw new l(f.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.fromBase64String=function(t){R("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,t),rt();try{return new e(tt.fromBase64String(t))}catch(t){throw new l(f.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(R("Blob.fromUint8Array",arguments,1),nt(),!(t instanceof Uint8Array))throw H("Blob.fromUint8Array","Uint8Array",1,t);return new e(tt.fromUint8Array(t))},e.prototype.toBase64=function(){return R("Blob.toBase64",arguments,0),rt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return R("Blob.toUint8Array",arguments,0),nt(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(et),ot=function(t,e,n,r,i){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},st=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"W",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return J(this.projectId,t.projectId)||J(this.database,t.database)},t}(),at=function(){function t(t,e){this.j=t,this.K=e,this.G={}}return t.prototype.get=function(t){var e=this.j(t),n=this.G[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.K(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.j(t),r=this.G[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.K(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.G[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.j(t),n=this.G[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.K(n[r][0],t))return 1===n.length?delete this.G[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){E(this.G,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.m=function(){return T(this.G)},t}(),ut=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new l(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new l(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new l(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new l(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.H=function(t){return this.seconds===t.seconds?J(this.nanoseconds,t.nanoseconds):J(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ct=function(){function t(t){this.timestamp=t}return t.Y=function(e){return new t(e)},t.min=function(){return new t(new ut(0,0))},t.prototype.L=function(t){return this.timestamp.H(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.J=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.X=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return null==t}function ft(t){return-0===t&&1/t==-1/0}function lt(t){return"number"==typeof t&&Number.isInteger(t)&&!ft(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Z=null};function dt(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new pt(t,e,n,r,i,o,s)}function vt(t){var e=_(t);if(null===e.Z){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.R()+t.op.toString()+oe(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),ht(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ur(e.startAt)),e.endAt&&(n+="|ub:",n+=ur(e.endAt)),e.Z=n}return e.Z}function yt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!pr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ee(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hr(t.startAt,e.startAt)&&hr(t.endAt,e.endAt)}function gt(t){return D.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,bt,wt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ct.min()),void 0===o&&(o=ct.min()),void 0===s&&(s=tt.B),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.nt=function(e){return new t(this.target,this.targetId,this.tt,e,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.st=function(e,n){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.it=function(e){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,e,this.resumeToken)},t}(),_t=function(t){this.count=t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){switch(t){case f.OK:return b();case f.CANCELLED:case f.UNKNOWN:case f.DEADLINE_EXCEEDED:case f.RESOURCE_EXHAUSTED:case f.INTERNAL:case f.UNAVAILABLE:case f.UNAUTHENTICATED:return!1;case f.INVALID_ARGUMENT:case f.NOT_FOUND:case f.ALREADY_EXISTS:case f.PERMISSION_DENIED:case f.FAILED_PRECONDITION:case f.ABORTED:case f.OUT_OF_RANGE:case f.UNIMPLEMENTED:case f.DATA_LOSS:return!0;default:return b()}}function Et(t){if(void 0===t)return y("GRPC error has no .code"),f.UNKNOWN;switch(t){case mt.OK:return f.OK;case mt.CANCELLED:return f.CANCELLED;case mt.UNKNOWN:return f.UNKNOWN;case mt.DEADLINE_EXCEEDED:return f.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return f.RESOURCE_EXHAUSTED;case mt.INTERNAL:return f.INTERNAL;case mt.UNAVAILABLE:return f.UNAVAILABLE;case mt.UNAUTHENTICATED:return f.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return f.INVALID_ARGUMENT;case mt.NOT_FOUND:return f.NOT_FOUND;case mt.ALREADY_EXISTS:return f.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return f.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return f.FAILED_PRECONDITION;case mt.ABORTED:return f.ABORTED;case mt.OUT_OF_RANGE:return f.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return f.UNIMPLEMENTED;case mt.DATA_LOSS:return f.DATA_LOSS;default:return b()}}(bt=mt||(mt={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tt=function(){function t(t,e){this.i=t,this.root=e||St.EMPTY}return t.prototype.rt=function(e,n){return new t(this.i,this.root.rt(e,n,this.i).copy(null,null,St.ot,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,St.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.at=function(){return this.root.at()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.lt=function(){return new At(this.root,null,this.i,!1)},t.prototype._t=function(t){return new At(this.root,t,this.i,!1)},t.prototype.ft=function(){return new At(this.root,null,this.i,!0)},t.prototype.dt=function(t){return new At(this.root,t,this.i,!0)},t}(),At=function(){function t(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}return t.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.m();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.m();)this.Tt.push(t),t=t.left;return e},t.prototype.It=function(){return this.Tt.length>0},t.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),St=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.at=function(){return this.min().key},t.prototype.ct=function(){return this.right.m()?this.key:this.right.ct()},t.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.gt()||e.left.left.gt()||(e=e.yt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Rt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.gt()||i.left.left.gt()||(i=i.yt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.gt()&&(i=i.Vt()),i.right.m()||i.right.gt()||i.right.left.gt()||(i=i.bt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Rt()},t.prototype.gt=function(){return this.color},t.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.vt()),t.left.gt()&&t.left.left.gt()&&(t=t.Vt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},t.prototype.yt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Vt())).vt()).St()),t},t.prototype.bt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.Vt()).St()),t},t.prototype.vt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},t.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw b();if(this.right.gt())throw b();var t=this.left.Ct();if(t!==this.right.Ct())throw b();return t+(this.gt()?0:1)},t}();St.EMPTY=null,St.RED=!0,St.ot=!1,St.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw b()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.rt=function(t,e,n){return new St(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.at=function(){return null},t.prototype.ct=function(){return null},t.prototype.gt=function(){return!1},t.prototype.Dt=function(){return!0},t.prototype.Ct=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Nt=function(){function t(t){this.i=t,this.data=new Tt(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.at()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},t.prototype.$t=function(t){var e=this.data._t(t);return e.It()?e.Et().key:null},t.prototype.lt=function(){return new kt(this.data.lt())},t.prototype._t=function(t){return new kt(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.xt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.lt(),r=e.data.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),kt=function(){function t(t){this.kt=t}return t.prototype.Et=function(){return this.kt.Et().key},t.prototype.It=function(){return this.kt.It()},t}(),Dt=new Tt(D.i);function Ot(){return Dt}function Rt(){return Ot()}var Ct=new Tt(D.i);function Lt(){return Ct}var Pt=new Tt(D.i),xt=new Nt(D.i);function Mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=xt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ut=new Nt(J);function Vt(){return Ut}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt=function(){function t(t){this.i=t?function(e,n){return t(e,n)||D.i(e.key,n.key)}:function(t,e){return D.i(t.key,e.key)},this.Mt=Lt(),this.Ot=new Tt(this.i)}return t.Lt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Mt.get(t)},t.prototype.get=function(t){return this.Mt.get(t)},t.prototype.first=function(){return this.Ot.at()},t.prototype.last=function(){return this.Ot.ct()},t.prototype.m=function(){return this.Ot.m()},t.prototype.indexOf=function(t){var e=this.Mt.get(t);return e?this.Ot.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ot.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ot.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Mt.rt(t.key,t),e.Ot.rt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Mt.remove(t),this.Ot.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ot.lt(),r=e.Ot.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Mt=e,r.Ot=n,r},t}(),Ft=function(){function t(){this.Bt=new Tt(D.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);n?0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):b():this.Bt=this.Bt.rt(e,t)},t.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},t}(),qt=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=s,this.jt=a}return t.Kt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,jt.Lt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&Kn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Bt=function(){function t(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Yt=i}return t.Jt=function(e,n){var r=new Map;return r.set(e,Gt.Xt(e,n)),new t(ct.min(),r,Vt(),Ot(),Mt())},t}(),Gt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}return t.Xt=function(e,n){return new t(tt.B,n,Mt(),Mt(),Mt())},t}(),zt=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},Ht=function(t,e){this.targetId=t,this.re=e},Wt=function(t,e,n,r){void 0===n&&(n=tt.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Kt=function(){function t(){this.oe=0,this.ae=Qt(),this.ce=tt.B,this.ue=!1,this.he=!0}return Object.defineProperty(t.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.fe=function(t){t.O()>0&&(this.he=!0,this.ce=t)},t.prototype.de=function(){var t=Mt(),e=Mt(),n=Mt();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:b()}})),new Gt(this.ce,this.ue,t,e,n)},t.prototype.we=function(){this.he=!1,this.ae=Qt()},t.prototype.me=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},t.prototype.Te=function(t){this.he=!0,this.ae=this.ae.remove(t)},t.prototype.Ee=function(){this.oe+=1},t.prototype.Ie=function(){this.oe-=1},t.prototype.Ae=function(){this.he=!0,this.ue=!0},t}(),Xt=function(){function t(t){this.Re=t,this.Pe=new Map,this.ge=Ot(),this.ye=Yt(),this.Ve=new Nt(J)}return t.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof On?this.be(r,t.ie):t.ie instanceof Rn&&this.ve(r,t.key,t.ie)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.ve(s,t.key,t.ie)}},t.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.Ie(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.Ie(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.Fe(n),r.fe(t.resumeToken));break;default:b()}}))},t.prototype.De=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.re.count,r=this.xe(e);if(r){var i=r.target;if(gt(i))if(0===n){var o=new D(i.path);this.ve(e,o,new Rn(o,ct.min()))}else w(1===n);else this.ke(e)!==n&&(this.Fe(e),this.Ve=this.Ve.add(e))}},t.prototype.Me=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.xe(i);if(o){if(r.Zt&&gt(o.target)){var s=new D(o.target.path);null!==e.ge.get(s)||e.Oe(i,s)||e.ve(i,s,new Rn(s,t))}r._e&&(n.set(i,r.de()),r.we())}}));var r=Mt();this.ye.forEach((function(t,n){var i=!0;n.Ft((function(t){var n=e.xe(t);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Bt(t,n,this.Ve,this.ge,r);return this.ge=Ot(),this.ye=Yt(),this.Ve=new Nt(J),i},t.prototype.be=function(t,e){if(this.Ne(t)){var n=this.Oe(t,e.key)?2:0;this.Ce(t).me(e.key,n),this.ge=this.ge.rt(e.key,e),this.ye=this.ye.rt(e.key,this.Le(e.key).add(t))}},t.prototype.ve=function(t,e,n){if(this.Ne(t)){var r=this.Ce(t);this.Oe(t,e)?r.me(e,1):r.Te(e),this.ye=this.ye.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.ke=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},t.prototype.Ee=function(t){this.Ce(t).Ee()},t.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new Kt,this.Pe.set(t,e)),e},t.prototype.Le=function(t){var e=this.ye.get(t);return e||(e=new Nt(J),this.ye=this.ye.rt(t,e)),e},t.prototype.Ne=function(t){var e=null!==this.xe(t);return e||v("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.xe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},t.prototype.Fe=function(t){var e=this;this.Pe.set(t,new Kt),this.Re.Be(t).forEach((function(n){e.ve(t,n,null)}))},t.prototype.Oe=function(t,e){return this.Re.Be(t).has(e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return new Tt(D.i)}function Qt(){return new Tt(D.i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $t(t){var e=se(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function te(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jt(t)?4:10:b()}function ee(t,e){var n=te(t);if(n!==te(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $t(t).isEqual($t(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=se(t.timestampValue),r=se(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ue(t.bytesValue).isEqual(ue(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ae(t.geoPointValue.latitude)===ae(e.geoPointValue.latitude)&&ae(t.geoPointValue.longitude)===ae(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ae(t.integerValue)===ae(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ae(t.doubleValue),r=ae(e.doubleValue);return n===r?ft(n)===ft(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return $(t.arrayValue.values||[],e.arrayValue.values||[],ee);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(I(n)!==I(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ee(n[i],r[i])))return!1;return!0}(t,e);default:return b()}}function ne(t,e){return void 0!==(t.values||[]).find((function(t){return ee(t,e)}))}function re(t,e){var n=te(t),r=te(e);if(n!==r)return J(n,r);switch(n){case 0:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ae(t.integerValue||t.doubleValue),r=ae(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ie(t.timestampValue,e.timestampValue);case 4:return ie($t(t),$t(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ue(t),r=ue(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=J(n[i],r[i]);if(0!==o)return o}return J(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=J(ae(t.latitude),ae(e.latitude));return 0!==n?n:J(ae(t.longitude),ae(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=re(n[i],r[i]);if(o)return o}return J(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=J(r[s],o[s]);if(0!==a)return a;var u=re(n[r[s]],i[o[s]]);if(0!==u)return u}return J(r.length,o.length)}(t.mapValue,e.mapValue);default:throw b()}}function ie(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);var n=se(t),r=se(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function oe(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=se(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ue(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,D.C(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=t(s)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):b();var n,r}(t)}function se(t){if(w(!!t),"string"==typeof t){var e=0,n=Zt.exec(t);if(w(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ae(t.seconds),nanos:ae(t.nanos)}}function ae(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ue(t){return"string"==typeof t?tt.fromBase64String(t):tt.fromUint8Array(t)}function ce(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function he(t){return!!t&&"integerValue"in t}function fe(t){return!!t&&"arrayValue"in t}function le(t){return!!t&&"nullValue"in t}function pe(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function de(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve={asc:"ASCENDING",desc:"DESCENDING"},ye={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ge=function(t,e){this.U=t,this.Ue=e};function me(t){return{integerValue:""+t}}function be(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ft(e)?"-0":e}}function we(t,e){return lt(e)?me(e):be(t,e)}function _e(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ie(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function Ee(t,e){return _e(t,e.X())}function Te(t){return w(!!t),ct.Y(function(t){var e=se(t);return new ut(e.seconds,e.nanos)}(t))}function Ae(t,e){return function(t){return new S(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Se(t){var e=S.P(t);return w(Ke(e)),e}function Ne(t,e){return Ae(t.U,e.path)}function ke(t,e){var n=Se(e);return w(n.get(1)===t.U.projectId),w(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new D(Ce(n))}function De(t,e){return Ae(t.U,e)}function Oe(t){var e=Se(t);return 4===e.length?S.g():Ce(e)}function Re(t){return new S(["projects",t.U.projectId,"databases",t.U.database]).R()}function Ce(t){return w(t.length>4&&"documents"===t.get(4)),t.u(5)}function Le(t,e,n){return{name:Ne(t,e),fields:n.proto.mapValue.fields}}function Pe(t,e){var n;if(e instanceof mn)n={update:Le(t,e.key,e.value)};else if(e instanceof Tn)n={delete:Ne(t,e.key)};else if(e instanceof bn)n={update:Le(t,e.key,e.data),updateMask:We(e.Qe)};else if(e instanceof _n)n={transform:{document:Ne(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof $e)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ze)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof en)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof rn)return{fieldPath:e.field.R(),increment:n.We};throw b()}(0,t)}))}};else{if(!(e instanceof An))return b();n={verify:Ne(t,e.key)}}return e.Ke.je||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ee(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:b()}(t,e.Ke)),n}function xe(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?hn.updateTime(Te(t.updateTime)):void 0!==t.exists?hn.exists(t.exists):hn.Ge()}(e.currentDocument):hn.Ge();if(e.update){e.update.name;var r=ke(t,e.update.name),i=new Sn({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new an(e.map((function(t){return k.S(t)})))}(e.updateMask);return new bn(r,i,o,n)}return new mn(r,i,n)}if(e.delete){var s=ke(t,e.delete);return new Tn(s,n)}if(e.transform){var a=ke(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)w("REQUEST_TIME"===e.setToServerValue),n=new $e;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Ze(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new en(i)}else"increment"in e?n=new rn(t,e.increment):b();var o=k.S(e.fieldPath);return new un(o,n)}(t,e)}));return w(!0===n.exists),new _n(a,u)}if(e.verify){var c=ke(t,e.verify);return new An(c,n)}return b()}function Me(t,e){return{documents:[De(t,e.path)]}}function Ue(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=De(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=De(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(pe(t.value))return{unaryFilter:{field:Be(t.field),op:"IS_NAN"}};if(le(t.value))return{unaryFilter:{field:Be(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(pe(t.value))return{unaryFilter:{field:Be(t.field),op:"IS_NOT_NAN"}};if(le(t.value))return{unaryFilter:{field:Be(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Be(t.field),op:qe(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Be(t.field),direction:Fe(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Ue||ht(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ve(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ve(e.endAt)),n}function Ve(t){return{before:t.before,values:t.position}}function je(t){var e=!!t.before,n=t.values||[];return new ar(n,e)}function Fe(t){return ve[t]}function qe(t){return ye[t]}function Be(t){return{fieldPath:t.R()}}function Ge(t){return k.S(t.fieldPath)}function ze(t){return $n.create(Ge(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return b()}}(t.fieldFilter.op),t.fieldFilter.value)}function He(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ge(t.unaryFilter.field);return $n.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ge(t.unaryFilter.field);return $n.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ge(t.unaryFilter.field);return $n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ge(t.unaryFilter.field);return $n.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return b()}}function We(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function Ke(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe=function(){this.ze=void 0};function Ye(t,e,n){return t instanceof $e?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ze?tn(t,e):t instanceof en?nn(t,e):function(t,e){var n=Je(t,e),r=on(n)+on(t.We);return he(n)&&he(t.We)?me(r):be(t.serializer,r)}(t,e)}function Qe(t,e,n){return t instanceof Ze?tn(t,e):t instanceof en?nn(t,e):n}function Je(t,e){return t instanceof rn?he(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var $e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Xe),Ze=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Xe);function tn(t,e){for(var n=sn(e),r=function(t){n.some((function(e){return ee(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var en=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Xe);function nn(t,e){for(var n=sn(e),r=function(t){n=n.filter((function(e){return!ee(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var rn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return r.__extends(e,t),e}(Xe);function on(t){return ae(t.integerValue||t.doubleValue)}function sn(t){return fe(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an=function(){function t(t){this.fields=t,t.sort(k.i)}return t.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return $(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),un=function(t,e){this.field=t,this.transform=e},cn=function(t,e){this.version=t,this.transformResults=e},hn=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Ge=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function fn(t,e){return void 0!==t.updateTime?e instanceof On&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof On}var ln=function(){};function pn(t,e,n){return t instanceof mn?function(t,e,n){return new On(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof bn?function(t,e,n){if(!fn(t.Ke,e))return new Cn(t.key,n.version);var r=wn(t,e);return new On(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof _n?function(t,e,n){if(w(null!=n.transformResults),!fn(t.Ke,e))return new Cn(t.key,n.version);var r=In(t,e),i=function(t,e,n){var r=[];w(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof On&&(a=e.field(o.field)),r.push(Qe(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=En(t,r.data(),i);return new On(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Rn(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function dn(t,e,n,r){return t instanceof mn?function(t,e){if(!fn(t.Ke,e))return e;var n=gn(e);return new On(t.key,n,t.value,{Ye:!0})}(t,e):t instanceof bn?function(t,e){if(!fn(t.Ke,e))return e;var n=gn(e),r=wn(t,e);return new On(t.key,n,r,{Ye:!0})}(t,e):t instanceof _n?function(t,e,n,r){if(!fn(t.Ke,e))return e;var i=In(t,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof On&&(c=n.field(a.field)),null===c&&r instanceof On&&(c=r.field(a.field)),i.push(Ye(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=En(t,i.data(),o);return new On(t.key,i.version,s,{Ye:!0})}(t,e,r,n):function(t,e){return fn(t.Ke,e)?new Rn(t.key,ct.min()):e}(t,e)}function vn(t,e){return t instanceof _n?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof On?e.field(o.field):void 0,a=Je(o.transform,s||null);null!=a&&(n=null==n?(new Nn).set(o.field,a):n.set(o.field,a))}return n?n.Je():null}(t,e):null}function yn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ke.isEqual(e.Ke)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||$(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ze&&e instanceof Ze||t instanceof en&&e instanceof en?$(t.elements,e.elements,ee):t instanceof rn&&e instanceof rn?ee(t.We,e.We):t instanceof $e&&e instanceof $e}(t.transform,e.transform)}(t,e)})))}function gn(t){return t instanceof On?t.version:ct.min()}var mn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ke=r,i.type=0,i}return r.__extends(e,t),e}(ln),bn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Qe=r,o.Ke=i,o.type=1,o}return r.__extends(e,t),e}(ln);function wn(t,e){return function(t,e){var n=new Nn(e);return t.Qe.fields.forEach((function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Je()}(t,e instanceof On?e.data():Sn.empty())}var _n=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ke=hn.exists(!0),r}return r.__extends(e,t),e}(ln);function In(t,e){return e}function En(t,e,n){for(var r=new Nn(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Je()}var Tn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ke=n,r.type=3,r}return r.__extends(e,t),e}(ln),An=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ke=n,r.type=4,r}return r.__extends(e,t),e}(ln),Sn=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!de(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return ee(this.proto,t.proto)},t}(),Nn=function(){function t(t){void 0===t&&(t=Sn.empty()),this.Xe=t,this.Ze=new Map}return t.prototype.set=function(t,e){return this.tn(t,e),this},t.prototype.delete=function(t){return this.tn(t,null),this},t.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===te(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Je=function(){var t=this.en(k.g(),this.Ze);return null!=t?new Sn(t):this.Xe},t.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),o=de(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.en(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function kn(t){var e=[];return E(t.fields||{},(function(t,n){var r=new k([t]);if(de(n)){var i=kn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new an(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Dn=function(t,e){this.key=t,this.version=e},On=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).nn=r,o.Ye=!!i.Ye,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.nn.field(t)},e.prototype.data=function(){return this.nn},e.prototype.sn=function(){return this.nn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ye===t.Ye&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Dn),Rn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Dn),Cn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Dn);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,e){if(!(t instanceof e))throw e.name===t.constructor.name?new l(f.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass '"+e.name+"' from a different Firestore SDK?"):new l(f.INVALID_ARGUMENT,"Expected type '"+e.name+"', but was '"+t.constructor.name+"'");return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.on=o,this.startAt=s,this.endAt=a,this.an=null,this.cn=null,this.startAt,this.endAt};function xn(t,e,n,r,i,o,s,a){return new Pn(t,e,n,r,i,o,s,a)}function Mn(t){return new Pn(t)}function Un(t){return!ht(t.limit)&&"F"===t.on}function Vn(t){return!ht(t.limit)&&"L"===t.on}function jn(t){return t.rn.length>0?t.rn[0].field:null}function Fn(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.un())return r.field}return null}function qn(t){return null!==t.collectionGroup}function Bn(t){var e=Ln(t,Pn);if(null===e.an){e.an=[];var n=Fn(e),r=jn(e);if(null!==n&&null===r)n.p()||e.an.push(new fr(n)),e.an.push(new fr(k.v(),"asc"));else{for(var i=!1,o=0,s=e.rn;o<s.length;o++){var a=s[o];e.an.push(a),a.field.p()&&(i=!0)}if(!i){var u=e.rn.length>0?e.rn[e.rn.length-1].dir:"asc";e.an.push(new fr(k.v(),u))}}}return e.an}function Gn(t){var e=Ln(t,Pn);if(!e.cn)if("F"===e.on)e.cn=dt(e.path,e.collectionGroup,Bn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Bn(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new fr(o.field,s))}var a=e.endAt?new ar(e.endAt.position,!e.endAt.before):null,u=e.startAt?new ar(e.startAt.position,!e.startAt.before):null;e.cn=dt(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.cn}function zn(t,e,n){return new Pn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hn(t,e){return new Pn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,e,t.endAt)}function Wn(t,e){return new Pn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,t.startAt,e)}function Kn(t,e){return yt(Gn(t),Gn(e))&&t.on===e.on}function Xn(t){return vt(Gn(t))+"|lt:"+t.on}function Yn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+oe(e.value);var e})).join(", ")+"]"),ht(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ur(t.startAt)),t.endAt&&(e+=", endAt: "+ur(t.endAt)),"Target("+e+")"}(Gn(t))+"; limitType="+t.on+")"}function Qn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):D.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!cr(t.startAt,Bn(t),e))&&(!t.endAt||!cr(t.endAt,Bn(t),e))}(t,e)}function Jn(t){return function(e,n){for(var r=!1,i=0,o=Bn(t);i<o.length;i++){var s=o[i],a=lr(s,e,n);if(0!==a)return a;r=r||s.field.p()}return 0}}var $n=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.hn(t,n,r):new Zn(t,n,r);if(le(r)){if("=="!==n&&"!="!==n)throw new l(f.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(pe(r)){if("=="!==n&&"!="!==n)throw new l(f.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new rr(t,r):"in"===n?new ir(t,r):"not-in"===n?new or(t,r):"array-contains-any"===n?new sr(t,r):new e(t,n,r)},e.hn=function(t,e,n){return"in"===e?new tr(t,n):new er(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.ln(re(e,this.value)):null!==e&&te(this.value)===te(e)&&this.ln(re(e,this.value))},e.prototype.ln=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return b()}},e.prototype.un=function(){return["<","<=",">",">=","!="].indexOf(this.op)>=0},e}((function(){})),Zn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=D.C(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=D.i(t.key,this.key);return this.ln(e)},e}($n),tr=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=nr("in",n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}($n),er=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=nr("not-in",n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}($n);function nr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return D.C(t.referenceValue)}))}var rr=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return fe(e)&&ne(e.arrayValue,this.value)},e}($n),ir=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ne(this.value.arrayValue,e)},e}($n),or=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&!ne(this.value.arrayValue,e)},e}($n),sr=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!fe(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ne(e.value.arrayValue,t)}))},e}($n),ar=function(t,e){this.position=t,this.before=e};function ur(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return oe(t)})).join(",")}function cr(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.p()?D.i(D.C(s.referenceValue),n.key):re(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function hr(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ee(t.position[n],e.position[n]))return!1;return!0}var fr=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function lr(t,e,n){var r=t.field.p()?D.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?re(r,i):b()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return b()}}function pr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},vr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this._n=t,this.fn=e,this.dn=n,this.wn=r,this.mn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return t.prototype.reset=function(){this.Tn=0},t.prototype.An=function(){this.Tn=this.mn},t.prototype.Rn=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Pn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&v("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this._n.gn(this.fn,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.wn,this.Tn<this.dn&&(this.Tn=this.dn),this.Tn>this.mn&&(this.Tn=this.mn)},t.prototype.yn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},t.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.Tn},t}(),yr=function(){function t(t){var e=this;this.pn=null,this.bn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.Sn=!1,t((function(t){e.vn=!0,e.result=t,e.pn&&e.pn(t)}),(function(t){e.vn=!0,e.error=t,e.bn&&e.bn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Sn&&b(),this.Sn=!0,this.vn?this.error?this.Dn(n,this.error):this.Cn(e,this.result):new t((function(t,i){r.pn=function(n){r.Cn(e,n).next(t,i)},r.bn=function(e){r.Dn(n,e).next(t,i)}}))},t.prototype.Nn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Cn=function(e,n){return e?this.Fn((function(){return e(n)})):t.resolve(n)},t.prototype.Dn=function(e,n){return e?this.Fn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.xn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),gr=function(){function e(t,n,r){this.name=t,this.version=n,this.kn=r,12.2===e.Mn(s.getUA())&&y("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return v("SimpleDb","Removing database:",t),Er(window.indexedDB.deleteDatabase(t)).Nn()},e.On=function(){if("undefined"==typeof indexedDB)return!1;if(e.Ln())return!0;var t=s.getUA(),n=e.Mn(t),r=0<n&&n<10,i=e.Bn(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Ln=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://course-ec-api.hexschool.io/api/",VUE_APP_UUID:"0ace4b59-2bf0-443c-968c-4c9a458d1cb9",BASE_URL:""}))||void 0===e?void 0:e.qn)},e.Un=function(t,e){return t.store(e)},e.Mn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Bn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Qn=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(v("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){var n=e.target.result;t(n)},r.onblocked=function(){n(new br("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;"VersionError"===e.name?n(new l(f.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new br(e))},r.onupgradeneeded=function(t){v("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;e.kn.createOrUpgrade(n,r.transaction,t.oldVersion,e.version).next((function(){v("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return e.Wn(t)}),this.db)]}}))}))},e.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u;return r.__generator(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u,c,h;return r.__generator(this,(function(r){switch(r.label){case 0:++o,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,a.Qn()];case 2:return a.db=r.sent(),t=_r.open(a.db,i?"readonly":"readwrite",e),s=n(t).catch((function(e){return t.abort(e),yr.reject(e)})).Nn(),u={},s.catch((function(){})),[4,t.Kn];case 3:return[2,(u.value=(r.sent(),s),u)];case 4:return c=r.sent(),h="FirebaseError"!==c.name&&o<3,v("SimpleDb","Transaction failed with error: %s. Retrying: %s.",c.message,h),a.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),mr=function(){function t(t){this.Gn=t,this.zn=!1,this.Hn=null}return Object.defineProperty(t.prototype,"vn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Gn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.zn=!0},t.prototype.Jn=function(t){this.Hn=t},t.prototype.delete=function(){return Er(this.Gn.delete())},t}(),br=function(t){function e(e){var n=this;return(n=t.call(this,f.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return r.__extends(e,t),e}(l);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t){return"IndexedDbTransactionError"===t.name}var _r=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Xn=new dr,this.transaction.oncomplete=function(){e.Xn.resolve()},this.transaction.onabort=function(){t.error?e.Xn.reject(new br(t.error)):e.Xn.resolve()},this.transaction.onerror=function(t){var n=Ar(t.target.error);e.Xn.reject(new br(n))}}return t.open=function(e,n,r){try{return new t(e.transaction(r,n))}catch(e){throw new br(e)}},Object.defineProperty(t.prototype,"Kn",{get:function(){return this.Xn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Xn.reject(t),this.aborted||(v("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ir(e)},t}(),Ir=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(v("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(v("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Er(n)},t.prototype.add=function(t){return v("SimpleDb","ADD",this.store.name,t,t),Er(this.store.add(t))},t.prototype.get=function(t){var e=this;return Er(this.store.get(t)).next((function(n){return void 0===n&&(n=null),v("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return v("SimpleDb","DELETE",this.store.name,t),Er(this.store.delete(t))},t.prototype.count=function(){return v("SimpleDb","COUNT",this.store.name),Er(this.store.count())},t.prototype.Zn=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ts(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.es=function(t,e){v("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ns=!1;var r=this.cursor(n);return this.ts(r,(function(t,e,n){return n.delete()}))},t.prototype.ss=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ts(r,e)},t.prototype.rs=function(t){var e=this.cursor({});return new yr((function(n,r){e.onerror=function(t){var e=Ar(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ts=function(t,e){var n=[];return new yr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new mr(i),s=e(i.primaryKey,i.value,o);if(s instanceof yr){var a=s.catch((function(t){return o.done(),yr.reject(t)}));n.push(a)}o.vn?r():null===o.Yn?i.continue():i.continue(o.Yn)}else r()}})).next((function(){return yr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ns?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Er(t){return new yr((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Ar(t.target.error);n(e)}}))}var Tr=!1;function Ar(t){var e=gr.Mn(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new l("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Tr||(Tr=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return"undefined"!=typeof window?window:null}function Nr(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr=function(){function t(t,e,n,r,i){this.os=t,this.fn=e,this.cs=n,this.op=r,this.us=i,this.hs=new dr,this.then=this.hs.promise.then.bind(this.hs.promise),this.hs.promise.catch((function(t){}))}return t.ls=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this._s=setTimeout((function(){return e.fs()}),t)},t.prototype.Vn=function(){return this.fs()},t.prototype.cancel=function(t){null!==this._s&&(this.clearTimeout(),this.hs.reject(new l(f.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.fs=function(){var t=this;this.os.ds((function(){return null!==t._s?(t.clearTimeout(),t.op().then((function(e){return t.hs.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this._s&&(this.us(this),clearTimeout(this._s),this._s=null)},t}(),Dr=function(){function t(){var t=this;this.ws=Promise.resolve(),this.Ts=[],this.Es=!1,this.Is=[],this.As=null,this.Rs=!1,this.Ps=[],this.gs=new vr(this,"async_queue_retry"),this.ys=function(){var e=Nr();e&&v("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.gs.yn()};var e=Nr();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(t.prototype,"Vs",{get:function(){return this.Es},enumerable:!1,configurable:!0}),t.prototype.ds=function(t){this.enqueue(t)},t.prototype.ps=function(t){this.bs(),this.vs(t)},t.prototype.Ss=function(){if(!this.Es){this.Es=!0;var t=Nr();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ys)}},t.prototype.enqueue=function(t){return this.bs(),this.Es?new Promise((function(t){})):this.vs(t)},t.prototype.Ds=function(t){var e=this;this.Ts.push(t),this.ds((function(){return e.Cs()}))},t.prototype.Cs=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.gs.reset(),[3,4];case 3:if(!wr(t=n.sent()))throw t;return v("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.gs.Rn((function(){return e.Cs()})),n.label=5;case 5:return[2]}}))}))},t.prototype.vs=function(t){var e=this,n=this.ws.then((function(){return e.Rs=!0,t().catch((function(t){throw e.As=t,e.Rs=!1,y("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Rs=!1,t}))}));return this.ws=n,n},t.prototype.gn=function(t,e,n){var r=this;this.bs(),this.Ps.indexOf(t)>-1&&(e=0);var i=kr.ls(this,t,e,n,(function(t){return r.Ns(t)}));return this.Is.push(i),i},t.prototype.bs=function(){this.As&&b()},t.prototype.Fs=function(){},t.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ws];case 1:e.sent(),e.label=2;case 2:if(t!==this.ws)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.xs=function(t){for(var e=0,n=this.Is;e<n.length;e++)if(n[e].fn===t)return!0;return!1},t.prototype.ks=function(t){var e=this;return this.$s().then((function(){e.Is.sort((function(t,e){return t.cs-e.cs}));for(var n=0,r=e.Is;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i.fn===t)break}return e.$s()}))},t.prototype.Ms=function(t){this.Ps.push(t)},t.prototype.Ns=function(t){var e=this.Is.indexOf(t);this.Is.splice(e,1)},t}();function Or(t,e){if(y("AsyncQueue",e+": "+t),wr(t))return new l(f.UNAVAILABLE,e+": "+t);throw t}var Rr=function(){this.Os=void 0,this.listeners=[]},Cr=function(){this.Ls=new at((function(t){return Xn(t)}),Kn),this.onlineState="Unknown",this.Bs=new Set};function Lr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=_(t),i=e.query,o=!1,(s=n.Ls.get(i))||(o=!0,s=new Rr),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.qs(i)];case 2:return a.Os=r.sent(),[3,4];case 3:return u=r.sent(),c=Or(u,"Initialization of query '"+Yn(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Ls.set(i,s),s.listeners.push(e),e.Us(n.onlineState),s.Os&&e.Qs(s.Os)&&Vr(n),[2]}}))}))}function Pr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){return n=_(t),i=e.query,o=!1,(s=n.Ls.get(i))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.Ls.delete(i),n.Ws(i))]:[2]}))}))}function xr(t,e){for(var n=_(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.Ls.get(a);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Qs(s)&&(r=!0);u.Os=s}}r&&Vr(n)}function Mr(t,e,n){var r=_(t),i=r.Ls.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Ls.delete(e)}function Ur(t,e){var n=_(t);n.onlineState=e;var r=!1;n.Ls.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Us(e)&&(r=!0)})),r&&Vr(n)}function Vr(t){t.Bs.forEach((function(t){t.next()}))}var jr=function(){function t(t,e,n){this.query=t,this.js=e,this.Ks=!1,this.Gs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new qt(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Ks?this.zs(t)&&(this.js.next(t),o=!0):this.Hs(t,this.onlineState)&&(this.Ys(t),o=!0),this.Gs=t,o},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Us=function(t){this.onlineState=t;var e=!1;return this.Gs&&!this.Ks&&this.Hs(this.Gs,t)&&(this.Ys(this.Gs),e=!0),e},t.prototype.Hs=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Js&&n||t.docs.m()&&"Offline"!==e)},t.prototype.zs=function(t){if(t.docChanges.length>0)return!0;var e=this.Gs&&this.Gs.hasPendingWrites!==t.hasPendingWrites;return!(!t.Wt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Ys=function(t){t=qt.Kt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.js.next(t)},t}(),Fr=function(){function t(t){this.uid=t}return t.prototype.Xs=function(){return null!=this.uid},t.prototype.Zs=function(){return this.Xs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr.UNAUTHENTICATED=new Fr(null),Fr.ti=new Fr("google-credentials-uid"),Fr.ei=new Fr("first-party-uid");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ni=function(t){return n.si(t)},this.ii=function(t){return e.ri(t)})}return t.prototype.si=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ii&&this.ii(t),t},t}();function Br(t,e){return"firestore_clients_"+t+"_"+e}function Gr(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Xs()&&(r+="_"+e.uid),r}function zr(t,e){return"firestore_targets_"+t+"_"+e}qr.oi=-1;var Hr=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ai=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new l(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(y("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ai=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new l(r.error.code,r.error.message)),i?new t(e,r.state,o):(y("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Kr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ai=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Vt(),s=0;i&&s<r.activeTargetIds.length;++s)i=lt(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(y("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Xr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ai=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(y("SharedClientState","Failed to parse online state: "+e),null)},t}(),Yr=function(){function t(){this.activeTargetIds=Vt()}return t.prototype.ui=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ci=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Qr=function(){function t(t,e,n,r,i){this.window=t,this._n=e,this.persistenceKey=n,this.li=r,this._i=null,this.fi=null,this.ni=null,this.di=this.wi.bind(this),this.mi=new Tt(J),this.Ti=!1,this.Ei=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ii=Br(this.persistenceKey,this.li),this.Ai=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.mi=this.mi.rt(this.li,new Yr),this.Ri=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.gi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.yi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.di)}return t.On=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,u,c,h,f,l=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this._i.Vi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.li&&(o=this.getItem(Br(this.persistenceKey,i)))&&(s=Kr.ai(i,o))&&(this.mi=this.mi.rt(s.clientId,s));for(this.pi(),(a=this.storage.getItem(this.yi))&&(u=this.bi(a))&&this.vi(u),c=0,h=this.Ei;c<h.length;c++)f=h[c],this.wi(f);return this.Ei=[],this.window.addEventListener("unload",(function(){return l.Si()})),this.Ti=!0,[2]}}))}))},t.prototype.ri=function(t){this.setItem(this.Ai,JSON.stringify(t))},t.prototype.Di=function(){return this.Ci(this.mi)},t.prototype.Ni=function(t){var e=!1;return this.mi.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Fi=function(t){this.$i(t,"pending")},t.prototype.xi=function(t,e,n){this.$i(t,e,n),this.ki(t)},t.prototype.Mi=function(t){var e="not-current";if(this.Ni(t)){var n=this.storage.getItem(zr(this.persistenceKey,t));if(n){var r=Wr.ai(t,n);r&&(e=r.state)}}return this.Oi.ui(t),this.pi(),e},t.prototype.Li=function(t){this.Oi.hi(t),this.pi()},t.prototype.Bi=function(t){return this.Oi.activeTargetIds.has(t)},t.prototype.qi=function(t){this.removeItem(zr(this.persistenceKey,t))},t.prototype.Ui=function(t,e,n){this.Qi(t,e,n)},t.prototype.Wi=function(t,e,n){var r=this;e.forEach((function(t){r.ki(t)})),this.currentUser=t,n.forEach((function(t){r.Fi(t)}))},t.prototype.ji=function(t){this.Ki(t)},t.prototype.Si=function(){this.Ti&&(this.window.removeEventListener("storage",this.di),this.removeItem(this.Ii),this.Ti=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return v("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){v("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){v("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(v("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ii)return void y("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._n.Ds((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,o,s,a;return r.__generator(this,(function(r){if(this.Ti){if(null!==n.key)if(this.Ri.test(n.key)){if(null==n.newValue)return t=this.Gi(n.key),[2,this.zi(t,null)];if(e=this.Hi(n.key,n.newValue))return[2,this.zi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Yi(n.key,n.newValue)))return[2,this.Ji(i)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(o=this.Xi(n.key,n.newValue)))return[2,this.Zi(o)]}else if(n.key===this.yi){if(null!==n.newValue&&(s=this.bi(n.newValue)))return[2,this.vi(s)]}else n.key===this.Ai&&(a=function(t){var e=qr.oi;if(null!=t)try{var n=JSON.parse(t);w("number"==typeof n),e=n}catch(t){y("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==qr.oi&&this.ni(a)}else this.Ei.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oi",{get:function(){return this.mi.get(this.li)},enumerable:!1,configurable:!0}),t.prototype.pi=function(){this.setItem(this.Ii,this.Oi.ci())},t.prototype.$i=function(t,e,n){var r=new Hr(this.currentUser,t,e,n),i=Gr(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ci())},t.prototype.ki=function(t){var e=Gr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ki=function(t){var e={clientId:this.li,onlineState:t};this.storage.setItem(this.yi,JSON.stringify(e))},t.prototype.Qi=function(t,e,n){var r=zr(this.persistenceKey,t),i=new Wr(t,e,n);this.setItem(r,i.ci())},t.prototype.Gi=function(t){var e=this.Ri.exec(t);return e?e[1]:null},t.prototype.Hi=function(t,e){var n=this.Gi(t);return Kr.ai(n,e)},t.prototype.Yi=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Hr.ai(new Fr(i),r,e)},t.prototype.Xi=function(t,e){var n=this.gi.exec(t),r=Number(n[1]);return Wr.ai(r,e)},t.prototype.bi=function(t){return Xr.ai(t)},t.prototype.Ji=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._i.tr(t.batchId,t.state,t.error)]:(v("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Zi=function(t){return this._i.er(t.targetId,t.state,t.error)},t.prototype.zi=function(t,e){var n=this,r=e?this.mi.rt(t,e):this.mi.remove(t),i=this.Ci(this.mi),o=this.Ci(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this._i.nr(s,a).then((function(){n.mi=r}))},t.prototype.vi=function(t){this.mi.get(t.clientId)&&this.fi(t.onlineState)},t.prototype.Ci=function(t){var e=Vt();return t.forEach((function(t,n){e=e.xt(n.activeTargetIds)})),e},t}(),Jr=function(){function t(){this.sr=new Yr,this.ir={},this.fi=null,this.ni=null}return t.prototype.Fi=function(t){},t.prototype.xi=function(t,e,n){},t.prototype.Mi=function(t){return this.sr.ui(t),this.ir[t]||"not-current"},t.prototype.Ui=function(t,e,n){this.ir[t]=e},t.prototype.Li=function(t){this.sr.hi(t)},t.prototype.Bi=function(t){return this.sr.activeTargetIds.has(t)},t.prototype.qi=function(t){delete this.ir[t]},t.prototype.Di=function(){return this.sr.activeTargetIds},t.prototype.Ni=function(t){return this.sr.activeTargetIds.has(t)},t.prototype.start=function(){return this.sr=new Yr,Promise.resolve()},t.prototype.Wi=function(t,e,n){},t.prototype.ji=function(t){},t.prototype.Si=function(){},t.prototype.ri=function(t){},t}(),$r=function(){function t(t,e,n,r){this.batchId=t,this.rr=e,this.baseMutations=n,this.mutations=r}return t.prototype.ar=function(t,e,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=pn(o,e,r[i]))}return e},t.prototype.ur=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=dn(i,e,e,this.rr))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=dn(u,e,o,this.rr))}return e},t.prototype.hr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ur(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Mt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$(this.mutations,t.mutations,(function(t,e){return yn(t,e)}))&&$(this.baseMutations,t.baseMutations,(function(t,e){return yn(t,e)}))},t}(),Zr=function(){function t(t,e,n,r){this.batch=t,this.lr=e,this.cr=n,this._r=r}return t.from=function(e,n,r){w(e.mutations.length===r.length);for(var i=Pt,o=e.mutations,s=0;s<o.length;s++)i=i.rt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ti=function(){function t(){this.dr=new at((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.wr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.mr},set:function(t){this.mr=t},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t,e){this.Er(),this.readTime=e,this.dr.set(t.key,t)},t.prototype.Ir=function(t,e){this.Er(),e&&(this.readTime=e),this.dr.set(t,null)},t.prototype.Ar=function(t,e){this.Er();var n=this.dr.get(e);return void 0!==n?yr.resolve(n):this.Rr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Er(),this.wr=!0,this.gr(t)},t.prototype.Er=function(){},t}(),ei="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ni=function(){function t(){this.yr=[]}return t.prototype.Vr=function(t){this.yr.push(t)},t.prototype.pr=function(){this.yr.forEach((function(t){return t()}))},t}(),ri=function(){function t(t,e,n){this.br=t,this.vr=e,this.Sr=n}return t.prototype.Dr=function(t,e){var n=this;return this.vr.Cr(t,e).next((function(r){return n.Nr(t,e,r)}))},t.prototype.Nr=function(t,e,n){return this.br.Ar(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ur(e,t);return t}))},t.prototype.Fr=function(t,e,n){var r=Rt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ur(t,e);r=r.rt(t,e)})),r},t.prototype.$r=function(t,e){var n=this;return this.br.getEntries(t,e).next((function(e){return n.kr(t,e)}))},t.prototype.kr=function(t,e){var n=this;return this.vr.Mr(t,e).next((function(r){var i=n.Fr(t,e,r),o=Ot();return i.forEach((function(t,e){e||(e=new Rn(t,ct.min())),o=o.rt(t,e)})),o}))},t.prototype.Or=function(t,e,n){return function(t){return D.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Lr(t,e.path):qn(e)?this.Br(t,e,n):this.qr(t,e,n)},t.prototype.Lr=function(t,e){return this.Dr(t,new D(e)).next((function(t){var e=Lt();return t instanceof On&&(e=e.rt(t.key,t)),e}))},t.prototype.Br=function(t,e,n){var r=this,i=e.collectionGroup,o=Lt();return this.Sr.Ur(t,i).next((function(s){return yr.forEach(s,(function(s){var a=function(t,e){return new Pn(e,null,t.rn.slice(),t.filters.slice(),t.limit,t.on,t.startAt,t.endAt)}(e,s.child(i));return r.qr(t,a,n).next((function(t){t.forEach((function(t,e){o=o.rt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.qr=function(t,e,n){var r,i,o=this;return this.br.Or(t,e,n).next((function(n){return r=n,o.vr.Qr(t,e)})).next((function(e){return i=e,o.Wr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),f=dn(u,h,h,o.rr);r=f instanceof On?r.rt(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Qn(e,n)||(r=r.remove(t))})),r}))},t.prototype.Wr=function(t,e,n){for(var r=Mt(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof bn&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.br.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof On&&(c=c.rt(t,e))})),c}))},t}(),ii=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.jr=n,this.Kr=r}return t.Gr=function(e,n){for(var r=Mt(),i=Mt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}();
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=J(n,i);return 0===s?J(r,o):s}var si=function(){function t(t){this.zr=t,this.buffer=new Nt(oi),this.Hr=0}return t.prototype.Yr=function(){return++this.Hr},t.prototype.Jr=function(t){var e=[t,this.Yr()];if(this.buffer.size<this.zr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();oi(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ai={Xr:!1,Zr:0,eo:0,no:0},ui=function(){function t(t,e,n){this.so=t,this.io=e,this.ro=n}return t.oo=function(e){return new t(e,t.ao,t.co)},t}();ui.uo=-1,ui.ho=1048576,ui.lo=41943040,ui.ao=10,ui.co=1e3,ui._o=new ui(ui.lo,ui.ao,ui.co),ui.fo=new ui(ui.uo,0,0);var ci=function(){function t(t,e){this.do=t,this.os=e,this.wo=!1,this.mo=null}return t.prototype.start=function(t){this.do.params.so!==ui.uo&&this.To(t)},t.prototype.stop=function(){this.mo&&(this.mo.cancel(),this.mo=null)},Object.defineProperty(t.prototype,"Ti",{get:function(){return null!==this.mo},enumerable:!1,configurable:!0}),t.prototype.To=function(t){var e=this,n=this.wo?3e5:6e4;v("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.mo=this.os.gn("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.mo=null,this.wo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Eo(this.do)];case 2:return n.sent(),[3,7];case 3:return wr(e=n.sent())?(v("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,So(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.To(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),hi=function(){function t(t,e){this.Io=t,this.params=e}return t.prototype.Ao=function(t,e){return this.Io.Ro(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Po=function(t,e){var n=this;if(0===e)return yr.resolve(qr.oi);var r=new si(e);return this.Io.De(t,(function(t){return r.Jr(t.sequenceNumber)})).next((function(){return n.Io.yo(t,(function(t){return r.Jr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Vo=function(t,e,n){return this.Io.Vo(t,e,n)},t.prototype.po=function(t,e){return this.Io.po(t,e)},t.prototype.bo=function(t,e){var n=this;return this.params.so===ui.uo?(v("LruGarbageCollector","Garbage collection skipped; disabled"),yr.resolve(ai)):this.vo(t).next((function(r){return r<n.params.so?(v("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.so),ai):n.So(t,e)}))},t.prototype.vo=function(t){return this.Io.vo(t)},t.prototype.So=function(t,e){var n,r,i,s,a,u,c,h=this,f=Date.now();return this.Ao(t,this.params.io).next((function(e){return e>h.params.ro?(v("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.ro+" from "+e),r=h.params.ro):r=e,s=Date.now(),h.Po(t,r)})).next((function(r){return n=r,a=Date.now(),h.Vo(t,n,e)})).next((function(e){return i=e,u=Date.now(),h.po(t,n)})).next((function(t){return c=Date.now(),d()<=o.LogLevel.DEBUG&&v("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-f)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),yr.resolve({Xr:!0,Zr:r,eo:i,no:t})}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=pi(e)),e=li(t.get(n),e);return pi(e)}function li(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function pi(t){return t+""}function di(t){var e=t.length;if(w(e>=2),2===e)return w(""===t.charAt(0)&&""===t.charAt(1)),S.g();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&b(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:b()}o=s+2}return new S(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi=function(t){this.Do=t};function yi(t,e){if(e.document)return function(t,e,n){var r=ke(t,e.name),i=Te(e.updateTime),o=new Sn({mapValue:{fields:e.fields}});return new On(r,i,o,{hasCommittedMutations:!!n})}(t.Do,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=D.$(e.noDocument.path),r=_i(e.noDocument.readTime);return new Rn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=D.$(e.unknownDocument.path),o=_i(e.unknownDocument.version);return new Cn(i,o)}return b()}function gi(t,e,n){var r=mi(n),i=e.key.path.h().A();if(e instanceof On){var o=function(t,e){return{name:Ne(t,e.key),fields:e.sn().mapValue.fields,updateTime:_e(t,e.version.X())}}(t.Do,e),s=e.hasCommittedMutations;return new Wi(null,null,o,s,r,i)}if(e instanceof Rn){var a=e.key.path.A(),u=wi(e.version),c=e.hasCommittedMutations;return new Wi(null,new zi(a,u),null,c,r,i)}if(e instanceof Cn){var h=e.key.path.A(),f=wi(e.version);return new Wi(new Hi(h,f),null,null,!0,r,i)}return b()}function mi(t){var e=t.X();return[e.seconds,e.nanoseconds]}function bi(t){var e=new ut(t[0],t[1]);return ct.Y(e)}function wi(t){var e=t.X();return new ji(e.seconds,e.nanoseconds)}function _i(t){var e=new ut(t.seconds,t.nanoseconds);return ct.Y(e)}function Ii(t,e){var n=(e.baseMutations||[]).map((function(e){return xe(t.Do,e)})),r=e.mutations.map((function(e){return xe(t.Do,e)})),i=ut.fromMillis(e.localWriteTimeMs);return new $r(e.batchId,i,n,r)}function Ei(t){var e,n,r=_i(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?_i(t.lastLimboFreeSnapshotVersion):ct.min();return void 0!==t.query.documents?(w(1===(n=t.query).documents.length),e=Gn(Mn(Oe(n.documents[0])))):e=function(t){var e=Oe(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){w(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[He(e)]:void 0!==e.fieldFilter?[ze(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):b():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new fr(Ge(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ht(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=je(n.startAt));var h=null;return n.endAt&&(h=je(n.endAt)),Gn(xn(e,i,a,s,u,"F",c,h))}(t.query),new wt(e,t.targetId,0,t.lastListenSequenceNumber,r,i,tt.fromBase64String(t.resumeToken))}function Ti(t,e){var n,r=wi(e.et),i=wi(e.lastLimboFreeSnapshotVersion);n=gt(e.target)?Me(t.Do,e.target):Ue(t.Do,e.target);var o=e.resumeToken.toBase64();return new Xi(e.targetId,vt(e.target),r,o,e.sequenceNumber,i,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ai=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Sr=n,this.Co=r,this.No={}}return t.Fo=function(e,n,r,i){return w(""!==e.uid),new t(e.Xs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ki(t).ss({index:Bi.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.xo=function(t,e,n,r){var i=this,o=Di(t),s=ki(t);return s.add({}).next((function(a){w("number"==typeof a);for(var u=new $r(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Pe(t.Do,e)})),i=n.mutations.map((function(e){return Pe(t.Do,e)}));return new Bi(e,n.batchId,n.rr.toMillis(),r,i)}(i.serializer,i.userId,u),h=[],f=new Nt((function(t,e){return J(t.R(),e.R())})),l=0,p=r;l<p.length;l++){var d=p[l],v=Gi.key(i.userId,d.key.path,a);f=f.add(d.key.path.h()),h.push(s.put(c)),h.push(o.put(v,Gi.PLACEHOLDER))}return f.forEach((function(e){h.push(i.Sr.ko(t,e))})),t.Vr((function(){i.No[a]=u.keys()})),yr.$n(h).next((function(){return u}))}))},t.prototype.Mo=function(t,e){var n=this;return ki(t).get(e).next((function(t){return t?(w(t.userId===n.userId),Ii(n.serializer,t)):null}))},t.prototype.Oo=function(t,e){var n=this;return this.No[e]?yr.resolve(this.No[e]):this.Mo(t,e).next((function(t){if(t){var r=t.keys();return n.No[e]=r,r}return null}))},t.prototype.Lo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ki(t).ss({index:Bi.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(w(e.batchId>=r),o=Ii(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Bo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ki(t).ss({index:Bi.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ki(t).Zn(Bi.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ii(e.serializer,t)}))}))},t.prototype.Cr=function(t,e){var n=this,r=Gi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Di(t).ss({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=di(u);if(a===n.userId&&e.path.isEqual(h))return ki(t).get(c).next((function(t){if(!t)throw b();w(t.userId===n.userId),o.push(Ii(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.Mr=function(t,e){var n=this,r=new Nt(J),i=[];return e.forEach((function(e){var o=Gi.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Di(t).ss({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=di(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),yr.$n(i).next((function(){return n.Uo(t,r)}))},t.prototype.Qr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Gi.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Nt(J);return Di(t).ss({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=di(u);s===n.userId&&r.T(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Uo(t,a)}))},t.prototype.Uo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ki(t).get(e).next((function(t){if(null===t)throw b();w(t.userId===n.userId),r.push(Ii(n.serializer,t))})))})),yr.$n(i).next((function(){return r}))},t.prototype.Qo=function(t,e){var n=this;return Ni(t.Wo,this.userId,e).next((function(r){return t.Vr((function(){n.jo(e.batchId)})),yr.forEach(r,(function(e){return n.Co.Ko(t,e)}))}))},t.prototype.jo=function(t){delete this.No[t]},t.prototype.Go=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return yr.resolve();var r=IDBKeyRange.lowerBound(Gi.prefixForUser(e.userId)),i=[];return Di(t).ss({range:r},(function(t,n,r){if(t[0]===e.userId){var o=di(t[1]);i.push(o)}else r.done()})).next((function(){w(0===i.length)}))}))},t.prototype.zo=function(t,e){return Si(t,this.userId,e)},t.prototype.Ho=function(t){var e=this;return Oi(t).get(this.userId).next((function(t){return t||new qi(e.userId,-1,"")}))},t}();function Si(t,e,n){var r=Gi.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Di(t).ss({range:o,ns:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Ni(t,e,n){var r=t.store(Bi.store),i=t.store(Gi.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ss({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){w(1===a)})));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=Gi.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return yr.$n(o).next((function(){return c}))}function ki(t){return ho.Un(t,Bi.store)}function Di(t){return ho.Un(t,Gi.store)}function Oi(t){return ho.Un(t,qi.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri=function(){function t(t,e){this.serializer=t,this.Sr=e}return t.prototype.Tr=function(t,e,n){return Li(t).put(Pi(e),n)},t.prototype.Ir=function(t,e){var n=Li(t),r=Pi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Yo(t,r)}))},t.prototype.Ar=function(t,e){var n=this;return Li(t).get(Pi(e)).next((function(t){return n.Jo(t)}))},t.prototype.Xo=function(t,e){var n=this;return Li(t).get(Pi(e)).next((function(t){var e=n.Jo(t);return e?{Zo:e,size:xi(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Rt();return this.ta(t,e,(function(t,e){var i=n.Jo(e);r=r.rt(t,i)})).next((function(){return r}))},t.prototype.ea=function(t,e){var n=this,r=Rt(),i=new Tt(D.i);return this.ta(t,e,(function(t,e){var o=n.Jo(e);o?(r=r.rt(t,o),i=i.rt(t,xi(e))):(r=r.rt(t,null),i=i.rt(t,0))})).next((function(){return{na:r,sa:i}}))},t.prototype.ta=function(t,e,n){if(e.m())return yr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e.lt(),o=i.Et();return Li(t).ss({range:r},(function(t,e,r){for(var s=D.$(t);o&&D.i(o,s)<0;)n(o,null),o=i.Et();o&&o.isEqual(s)&&(n(o,e),o=i.It()?i.Et():null),o?r.Jn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.It()?i.Et():null}))},t.prototype.Or=function(t,e,n){var r=this,i=Lt(),o=e.path.length+1,s={};if(n.isEqual(ct.min())){var a=e.path.A();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.A(),c=mi(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Wi.collectionReadTimeIndex}return Li(t).ss(s,(function(t,n,s){if(t.length===o){var a=yi(r.serializer,n);e.path.T(a.key.path)?a instanceof On&&Qn(e,a)&&(i=i.rt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.ia=function(t,e){var n=this,r=Ot(),i=mi(e),o=Li(t),s=IDBKeyRange.lowerBound(i,!0);return o.ss({index:Wi.readTimeIndex,range:s},(function(t,e){var o=yi(n.serializer,e);r=r.rt(o.key,o),i=e.readTime})).next((function(){return{ra:r,readTime:bi(i)}}))},t.prototype.oa=function(t){var e=Li(t),n=ct.min();return e.ss({index:Wi.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=bi(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.aa=function(e){return new t.ca(this,!!e&&e.ua)},t.prototype.ha=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Ci(t).get(Ki.key).next((function(t){return w(!!t),t}))},t.prototype.Yo=function(t,e){return Ci(t).put(Ki.key,e)},t.prototype.Jo=function(t){if(t){var e=yi(this.serializer,t);return e instanceof Rn&&e.version.isEqual(ct.min())?null:e}return null},t}();function Ci(t){return ho.Un(t,Ki.store)}function Li(t){return ho.Un(t,Wi.store)}function Pi(t){return t.path.A()}function xi(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw b();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri.ca=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).la=e,r.ua=n,r._a=new at((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.gr=function(t){var e=this,n=[],r=0,i=new Nt((function(t,e){return J(t.R(),e.R())}));return this.dr.forEach((function(o,s){var a=e._a.get(o);if(s){var u=gi(e.la.serializer,s,e.readTime);i=i.add(o.path.h());var c=xi(u);r+=c-a,n.push(e.la.Tr(t,o,u))}else if(r-=a,e.ua){var h=gi(e.la.serializer,new Rn(o,ct.min()),e.readTime);n.push(e.la.Tr(t,o,h))}else n.push(e.la.Ir(t,o))})),i.forEach((function(r){n.push(e.la.Sr.ko(t,r))})),n.push(this.la.updateMetadata(t,r)),yr.$n(n)},e.prototype.Rr=function(t,e){var n=this;return this.la.Xo(t,e).next((function(t){return null===t?(n._a.set(e,0),null):(n._a.set(e,t.size),t.Zo)}))},e.prototype.Pr=function(t,e){var n=this;return this.la.ea(t,e).next((function(t){var e=t.na;return t.sa.forEach((function(t,e){n._a.set(t,e)})),e}))},e}(ti);var Mi=function(){function t(){this.fa=new Ui}return t.prototype.ko=function(t,e){return this.fa.add(e),yr.resolve()},t.prototype.Ur=function(t,e){return yr.resolve(this.fa.getEntries(e))},t}(),Ui=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new Nt(S.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Nt(S.i)).A()},t}(),Vi=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;w(n<r&&n>=0&&r<=10);var o=new _r(e);n<1&&r>=1&&(function(t){t.createObjectStore(Fi.store)}(t),function(t){t.createObjectStore(qi.store,{keyPath:qi.keyPath}),t.createObjectStore(Bi.store,{keyPath:Bi.keyPath,autoIncrement:!0}).createIndex(Bi.userMutationsIndex,Bi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Gi.store)}(t),$i(t),function(t){t.createObjectStore(Wi.store)}(t));var s=yr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Yi.store),t.deleteObjectStore(Xi.store),t.deleteObjectStore(Qi.store)}(t),$i(t)),s=s.next((function(){return function(t){var e=t.store(Qi.store),n=new Qi(0,0,ct.min().X(),0);return e.put(Qi.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Bi.store).Zn().next((function(n){t.deleteObjectStore(Bi.store),t.createObjectStore(Bi.store,{keyPath:Bi.keyPath,autoIncrement:!0}).createIndex(Bi.userMutationsIndex,Bi.userMutationsKeyPath,{unique:!0});var r=e.store(Bi.store),i=n.map((function(t){return r.put(t)}));return yr.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Zi.store,{keyPath:Zi.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Ki.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Wi.store);e.createIndex(Wi.readTimeIndex,Wi.readTimeIndexPath,{unique:!1}),e.createIndex(Wi.collectionReadTimeIndex,Wi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Wi.store).ss((function(t,n){e+=xi(n)})).next((function(){var n=new Ki(e);return t.store(Ki.store).put(Ki.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(qi.store),r=t.store(Bi.store);return n.Zn().next((function(n){return yr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Zn(Bi.userMutationsIndex,i).next((function(r){return yr.forEach(r,(function(r){w(r.userId===n.userId);var i=Ii(e.serializer,r);return Ni(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Yi.store),n=t.store(Wi.store);return t.store(Qi.store).get(Qi.key).next((function(t){var r=[];return n.ss((function(n,i){var o=new S(n),s=function(t){return[0,fi(t)]}(o);r.push(e.get(s).next((function(n){return n?yr.resolve():function(n){return e.put(new Yi(0,fi(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return yr.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Ji.store,{keyPath:Ji.keyPath});var n=e.store(Ji.store),r=new Ui,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:fi(i)})}};return e.store(Wi.store).ss({ns:!0},(function(t,e){var n=new S(t);return i(n.h())})).next((function(){return e.store(Gi.store).ss({ns:!0},(function(t,e){t[0];var n=t[1],r=(t[2],di(n));return i(r.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Xi.store);return n.ss((function(t,r){var i=Ei(r),o=Ti(e.serializer,i);return n.put(o)}))},t}(),ji=function(t,e){this.seconds=t,this.nanoseconds=e},Fi=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fi.store="owner",Fi.key="owner";var qi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};qi.store="mutationQueues",qi.keyPath="userId";var Bi=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Bi.store="mutations",Bi.keyPath="batchId",Bi.userMutationsIndex="userMutationsIndex",Bi.userMutationsKeyPath=["userId","batchId"];var Gi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,fi(e)]},t.key=function(t,e,n){return[t,fi(e),n]},t}();Gi.store="documentMutations",Gi.PLACEHOLDER=new Gi;var zi=function(t,e){this.path=t,this.readTime=e},Hi=function(t,e){this.path=t,this.version=e},Wi=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Wi.store="remoteDocuments",Wi.readTimeIndex="readTimeIndex",Wi.readTimeIndexPath="readTime",Wi.collectionReadTimeIndex="collectionReadTimeIndex",Wi.collectionReadTimeIndexPath=["parentPath","readTime"];var Ki=function(t){this.byteSize=t};Ki.store="remoteDocumentGlobal",Ki.key="remoteDocumentGlobalKey";var Xi=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Xi.store="targets",Xi.keyPath="targetId",Xi.queryTargetsIndexName="queryTargetsIndex",Xi.queryTargetsKeyPath=["canonicalId","targetId"];var Yi=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Yi.store="targetDocuments",Yi.keyPath=["targetId","path"],Yi.documentTargetsIndex="documentTargetsIndex",Yi.documentTargetsKeyPath=["path","targetId"];var Qi=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qi.key="targetGlobalKey",Qi.store="targetGlobal";var Ji=function(t,e){this.collectionId=t,this.parent=e};function $i(t){t.createObjectStore(Yi.store,{keyPath:Yi.keyPath}).createIndex(Yi.documentTargetsIndex,Yi.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Xi.store,{keyPath:Xi.keyPath}).createIndex(Xi.queryTargetsIndexName,Xi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Qi.store)}Ji.store="collectionParents",Ji.keyPath=["collectionId","parent"];var Zi=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Zi.store="clientMetadata",Zi.keyPath="clientId";var to=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([qi.store,Bi.store,Gi.store,Wi.store,Xi.store,Fi.store,Qi.store,Yi.store],[Zi.store]),[Ki.store]),[Ji.store]),eo=function(){function t(){this.da=new Ui}return t.prototype.ko=function(t,e){var n=this;if(!this.da.has(e)){var r=e._(),i=e.h();t.Vr((function(){n.da.add(e)}));var o={collectionId:r,parent:fi(i)};return no(t).put(o)}return yr.resolve()},t.prototype.Ur=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Z(e),""],!1,!0);return no(t).Zn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(di(o.parent))}return n}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){return ho.Un(t,Ji.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ro=function(){function t(t){this.wa=t}return t.prototype.next=function(){return this.wa+=2,this.wa},t.ma=function(){return new t(0)},t.Ta=function(){return new t(-1)},t}(),io=function(){function t(t,e){this.Co=t,this.serializer=e}return t.prototype.Ea=function(t){var e=this;return this.Ia(t).next((function(n){var r=new ro(n.highestTargetId);return n.highestTargetId=r.next(),e.Aa(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ra=function(t){return this.Ia(t).next((function(t){return ct.Y(new ut(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Pa=function(t){return this.Ia(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ga=function(t,e,n){var r=this;return this.Ia(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.X()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Aa(t,i)}))},t.prototype.ya=function(t,e){var n=this;return this.Va(t,e).next((function(){return n.Ia(t).next((function(r){return r.targetCount+=1,n.pa(e,r),n.Aa(t,r)}))}))},t.prototype.ba=function(t,e){return this.Va(t,e)},t.prototype.va=function(t,e){var n=this;return this.Sa(t,e.targetId).next((function(){return oo(t).delete(e.targetId)})).next((function(){return n.Ia(t)})).next((function(e){return w(e.targetCount>0),e.targetCount-=1,n.Aa(t,e)}))},t.prototype.Vo=function(t,e,n){var r=this,i=0,o=[];return oo(t).ss((function(s,a){var u=Ei(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.va(t,u)))})).next((function(){return yr.$n(o)})).next((function(){return i}))},t.prototype.De=function(t,e){return oo(t).ss((function(t,n){var r=Ei(n);e(r)}))},t.prototype.Ia=function(t){return so(t).get(Qi.key).next((function(t){return w(null!==t),t}))},t.prototype.Aa=function(t,e){return so(t).put(Qi.key,e)},t.prototype.Va=function(t,e){return oo(t).put(Ti(this.serializer,e))},t.prototype.pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Da=function(t){return this.Ia(t).next((function(t){return t.targetCount}))},t.prototype.Ca=function(t,e){var n=vt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return oo(t).ss({range:r,index:Xi.queryTargetsIndexName},(function(t,n,r){var o=Ei(n);yt(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Na=function(t,e,n){var r=this,i=[],o=ao(t);return e.forEach((function(e){var s=fi(e.path);i.push(o.put(new Yi(n,s))),i.push(r.Co.Fa(t,n,e))})),yr.$n(i)},t.prototype.$a=function(t,e,n){var r=this,i=ao(t);return yr.forEach(e,(function(e){var o=fi(e.path);return yr.$n([i.delete([n,o]),r.Co.xa(t,n,e)])}))},t.prototype.Sa=function(t,e){var n=ao(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ka=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ao(t),i=Mt();return r.ss({range:n,ns:!0},(function(t,e,n){var r=di(t[1]),o=new D(r);i=i.add(o)})).next((function(){return i}))},t.prototype.zo=function(t,e){var n=fi(e.path),r=IDBKeyRange.bound([n],[Z(n)],!1,!0),i=0;return ao(t).ss({index:Yi.documentTargetsIndex,ns:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.qe=function(t,e){return oo(t).get(e).next((function(t){return t?Ei(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t){return ho.Un(t,Xi.store)}function so(t){return ho.Un(t,Qi.store)}function ao(t){return ho.Un(t,Yi.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uo="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",co=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wo=e,r.Ma=n,r}return r.__extends(e,t),e}(ni),ho=function(){function t(e,n,r,i,o,s,a,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._n=o,this.window=s,this.document=a,this.Oa=c,this.La=h,this.Ba=null,this.qa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ua=null,this.inForeground=!1,this.Qa=null,this.Wa=null,this.ja=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!t.On())throw new l(f.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Co=new po(this,i),this.Ga=n+"main",this.serializer=new vi(u),this.za=new gr(this.Ga,10,new Vi(this.serializer)),this.Ha=new io(this.Co,this.serializer),this.Sr=new eo,this.br=new Ri(this.serializer,this.Sr),this.window&&this.window.localStorage?this.Ya=this.window.localStorage:(this.Ya=null,!1===h&&y("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Un=function(t,e){if(t instanceof co)return gr.Un(t.Wo,e);throw b()},t.prototype.start=function(){var t=this;return this.Ja().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new l(f.FAILED_PRECONDITION,uo);return t.Xa(),t.Za(),t.tc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ha.Pa(e)}))})).then((function(e){t.Ba=new qr(e,t.Oa)})).then((function(){t.qa=!0})).catch((function(e){return t.za&&t.za.close(),Promise.reject(e)}))},t.prototype.ec=function(t){var e=this;return this.Ka=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Ti?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.nc=function(t){var e=this;this.za.jn((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.sc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this._n.ds((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ti?[4,this.Ja()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ja=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return lo(e).put(new Zi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ic(e).next((function(e){e||(t.isPrimary=!1,t._n.Ds((function(){return t.Ka(!1)})))}))})).next((function(){return t.rc(e)})).next((function(n){return t.isPrimary&&!n?t.oc(e).next((function(){return!1})):!!n&&t.ac(e).next((function(){return!0}))}))})).catch((function(e){if(wr(e))return v("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return v("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t._n.Ds((function(){return t.Ka(e)})),t.isPrimary=e}))},t.prototype.ic=function(t){var e=this;return fo(t).get(Fi.key).next((function(t){return yr.resolve(e.cc(t))}))},t.prototype.uc=function(t){return lo(t).delete(this.clientId)},t.prototype.hc=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.lc(this.ja,18e5)?[3,2]:(this.ja=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Un(e,Zi.store);return n.Zn().next((function(t){var e=s._c(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return yr.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Ya)for(n=0,i=e;n<i.length;n++)o=i[n],this.Ya.removeItem(this.fc(o.clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.tc=function(){var t=this;this.Wa=this._n.gn("client_metadata_refresh",4e3,(function(){return t.Ja().then((function(){return t.hc()})).then((function(){return t.tc()}))}))},t.prototype.cc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.rc=function(t){var e=this;return this.La?yr.resolve(!0):fo(t).get(Fi.key).next((function(n){if(null!==n&&e.lc(n.leaseTimestampMs,5e3)&&!e.dc(n.ownerId)){if(e.cc(n)&&e.networkEnabled)return!0;if(!e.cc(n)){if(!n.allowTabSynchronization)throw new l(f.FAILED_PRECONDITION,uo);return!1}}return!(!e.networkEnabled||!e.inForeground)||lo(t).Zn().next((function(t){return void 0===e._c(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&v("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Si=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.qa=!1,this.wc(),this.Wa&&(this.Wa.cancel(),this.Wa=null),this.mc(),this.Tc(),[4,this.za.runTransaction("readwrite",[Fi.store,Zi.store],(function(e){var n=new co(e,qr.oi);return t.oc(n).next((function(){return t.uc(n)}))}))];case 1:return e.sent(),this.za.close(),this.Ec(),[2]}}))}))},t.prototype._c=function(t,e){var n=this;return t.filter((function(t){return n.lc(t.updateTimeMs,e)&&!n.dc(t.clientId)}))},t.prototype.Vi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return lo(e).Zn().next((function(e){return t._c(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),t.prototype.Ic=function(t){return Ai.Fo(t,this.serializer,this.Sr,this.Co)},t.prototype.Ac=function(){return this.Ha},t.prototype.Rc=function(){return this.br},t.prototype.Pc=function(){return this.Sr},t.prototype.runTransaction=function(t,e,n){var r=this;v("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.za.runTransaction(o,to,(function(o){return i=new co(o,r.Ba?r.Ba.next():qr.oi),"readwrite-primary"===e?r.ic(i).next((function(t){return!!t||r.rc(i)})).next((function(e){if(!e)throw y("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r._n.Ds((function(){return r.Ka(!1)})),new l(f.FAILED_PRECONDITION,ei);return n(i)})).next((function(t){return r.ac(i).next((function(){return t}))})):r.gc(i).next((function(){return n(i)}))})).then((function(t){return i.pr(),t}))},t.prototype.gc=function(t){var e=this;return fo(t).get(Fi.key).next((function(t){if(null!==t&&e.lc(t.leaseTimestampMs,5e3)&&!e.dc(t.ownerId)&&!e.cc(t)&&!(e.La||e.allowTabSynchronization&&t.allowTabSynchronization))throw new l(f.FAILED_PRECONDITION,uo)}))},t.prototype.ac=function(t){var e=new Fi(this.clientId,this.allowTabSynchronization,Date.now());return fo(t).put(Fi.key,e)},t.On=function(){return gr.On()},t.prototype.oc=function(t){var e=this,n=fo(t);return n.get(Fi.key).next((function(t){return e.cc(t)?(v("IndexedDbPersistence","Releasing primary lease."),n.delete(Fi.key)):yr.resolve()}))},t.prototype.lc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(y("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qa=function(){t._n.ds((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ja()}))},this.document.addEventListener("visibilitychange",this.Qa),this.inForeground="visible"===this.document.visibilityState)},t.prototype.mc=function(){this.Qa&&(this.document.removeEventListener("visibilitychange",this.Qa),this.Qa=null)},t.prototype.Za=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ua=function(){e.wc(),e._n.ds((function(){return e.Si()}))},this.window.addEventListener("unload",this.Ua))},t.prototype.Tc=function(){this.Ua&&(this.window.removeEventListener("unload",this.Ua),this.Ua=null)},t.prototype.dc=function(t){var e;try{var n=null!==(null===(e=this.Ya)||void 0===e?void 0:e.getItem(this.fc(t)));return v("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return y("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wc=function(){if(this.Ya)try{this.Ya.setItem(this.fc(this.clientId),String(Date.now()))}catch(r){y("Failed to set zombie client id.",r)}},t.prototype.Ec=function(){if(this.Ya)try{this.Ya.removeItem(this.fc(this.clientId))}catch(r){}},t.prototype.fc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function fo(t){return ho.Un(t,Fi.store)}function lo(t){return ho.Un(t,Zi.store)}var po=function(){function t(t,e){this.db=t,this.do=new hi(this,e)}return t.prototype.Ro=function(t){var e=this.yc(t);return this.db.Ac().Da(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.yc=function(t){var e=0;return this.yo(t,(function(t){e++})).next((function(){return e}))},t.prototype.De=function(t,e){return this.db.Ac().De(t,e)},t.prototype.yo=function(t,e){return this.Vc(t,(function(t,n){return e(n)}))},t.prototype.Fa=function(t,e,n){return vo(t,n)},t.prototype.xa=function(t,e,n){return vo(t,n)},t.prototype.Vo=function(t,e,n){return this.db.Ac().Vo(t,e,n)},t.prototype.Ko=function(t,e){return vo(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return Oi(t).rs((function(r){return Si(t,r,e).next((function(t){return t&&(n=!0),yr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.po=function(t,e){var n=this,r=this.db.Rc().aa(),i=[],o=0;return this.Vc(t,(function(s,a){if(a<=e){var u=n.bc(t,s).next((function(e){if(!e)return o++,r.Ar(t,s).next((function(){return r.Ir(s),ao(t).delete([0,fi(s.path)])}))}));i.push(u)}})).next((function(){return yr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.nt(t.Ma);return this.db.Ac().ba(t,n)},t.prototype.vc=function(t,e){return vo(t,e)},t.prototype.Vc=function(t,e){var n,r=ao(t),i=qr.oi;return r.ss({index:Yi.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==qr.oi&&e(new D(di(n)),i),i=a,n=s):i=qr.oi})).next((function(){i!==qr.oi&&e(new D(di(n)),i)}))},t.prototype.vo=function(t){return this.db.Rc().ha(t)},t}();function vo(t,e){return ao(t).put(function(t,e){return new Yi(0,fi(t.path),e)}(e,t.Ma))}function yo(t,e){var n=t.projectId;return t.W||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var go=function(){function t(t,e,n){this.persistence=t,this.Sc=e,this.Dc=new Tt(J),this.Cc=new at((function(t){return vt(t)}),yt),this.Nc=ct.min(),this.vr=t.Ic(n),this.Fc=t.Rc(),this.Ha=t.Ac(),this.$c=new ri(this.Fc,this.vr,this.persistence.Pc()),this.Sc.xc(this.$c)}return t.prototype.Eo=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.bo(n,e.Dc)}))},t}();function mo(t,e){var n=_(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Fc.aa({ua:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=yr.resolve();return o.forEach((function(t){s=s.next((function(){return r.Ar(e,t)})).next((function(e){var o=e,s=n._r.get(t);w(null!==s),(!o||o.version.L(s)<0)&&(o=i.ar(t,o,n))&&r.Tr(o,n.lr)}))})),s.next((function(){return t.vr.Qo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.vr.Go(t)})).next((function(){return n.$c.$r(t,r)}))}))}function bo(t){var e=_(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ha.Ra(t)}))}function wo(t,e){var n=_(t),r=e.et,i=n.Dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Fc.aa({ua:!0});i=n.Dc;var s=[];e.Gt.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.Ha.$a(t,e.ne,o).next((function(){return n.Ha.Na(t,e.te,o)})));var u=e.resumeToken;if(u.O()>0){var c=a.st(u,r).nt(t.Ma);i=i.rt(o,c),function(t,e,n){return w(e.resumeToken.O()>0),0===t.resumeToken.O()||e.et.J()-t.et.J()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(a,c,e)&&s.push(n.Ha.ba(t,c))}}}));var a=Ot(),u=Mt();if(e.Ht.forEach((function(t,e){u=u.add(t)})),s.push(o.getEntries(t,u).next((function(i){e.Ht.forEach((function(u,c){var h=i.get(u);c instanceof Rn&&c.version.isEqual(ct.min())?(o.Ir(u,r),a=a.rt(u,c)):null==h||c.version.L(h.version)>0||0===c.version.L(h.version)&&h.hasPendingWrites?(o.Tr(c,r),a=a.rt(u,c)):v("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version),e.Yt.has(u)&&s.push(n.persistence.Co.vc(t,u))}))}))),!r.isEqual(ct.min())){var c=n.Ha.Ra(t).next((function(e){return n.Ha.ga(t,t.Ma,r)}));s.push(c)}return yr.$n(s).next((function(){return o.apply(t)})).next((function(){return n.$c.kr(t,a)}))})).then((function(t){return n.Dc=i,t}))}function _o(t,e){var n=_(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.vr.Lo(t,e)}))}function Io(t,e){var n=_(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ha.Ca(t,e).next((function(i){return i?(r=i,yr.resolve(r)):n.Ha.Ea(t).next((function(i){return r=new wt(e,i,0,t.Ma),n.Ha.ya(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Dc.get(t.targetId);return(null===r||t.et.L(r.et)>0)&&(n.Dc=n.Dc.rt(t.targetId,t),n.Cc.set(e,t.targetId)),t}))}function Eo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:i=_(t),o=i.Dc.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,(function(t){return i.persistence.Co.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!wr(a=r.sent()))throw a;return v("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.Dc=i.Dc.remove(e),i.Cc.delete(o.target),[2]}}))}))}function To(t,e,n){var r=_(t),i=ct.min(),o=Mt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=_(t),i=r.Cc.get(n);return void 0!==i?yr.resolve(r.Dc.get(i)):r.Ha.Ca(e,n)}(r,t,Gn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ha.ka(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Sc.Or(t,e,n?i:ct.min(),n?o:Mt())})).next((function(t){return{documents:t,kc:o}}))}))}function Ao(t,e){var n=_(t),r=_(n.Ha),i=n.Dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function So(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==f.FAILED_PRECONDITION||t.message!==ei)throw t;return v("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No=function(){function t(){this.Mc=new Nt(ko.Oc),this.Lc=new Nt(ko.Bc)}return t.prototype.m=function(){return this.Mc.m()},t.prototype.Fa=function(t,e){var n=new ko(t,e);this.Mc=this.Mc.add(n),this.Lc=this.Lc.add(n)},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Fa(t,e)}))},t.prototype.xa=function(t,e){this.Uc(new ko(t,e))},t.prototype.Qc=function(t,e){var n=this;t.forEach((function(t){return n.xa(t,e)}))},t.prototype.Wc=function(t){var e=this,n=new D(new S([])),r=new ko(n,t),i=new ko(n,t+1),o=[];return this.Lc.Nt([r,i],(function(t){e.Uc(t),o.push(t.key)})),o},t.prototype.jc=function(){var t=this;this.Mc.forEach((function(e){return t.Uc(e)}))},t.prototype.Uc=function(t){this.Mc=this.Mc.delete(t),this.Lc=this.Lc.delete(t)},t.prototype.Kc=function(t){var e=new D(new S([])),n=new ko(e,t),r=new ko(e,t+1),i=Mt();return this.Lc.Nt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.zo=function(t){var e=new ko(t,0),n=this.Mc.$t(e);return null!==n&&t.isEqual(n.key)},t}(),ko=function(){function t(t,e){this.key=t,this.Gc=e}return t.Oc=function(t,e){return D.i(t.key,e.key)||J(t.Gc,e.Gc)},t.Bc=function(t,e){return J(t.Gc,e.Gc)||D.i(t.key,e.key)},t}(),Do=function(t,e){this.user=e,this.type="OAuth",this.zc={},this.zc.Authorization="Bearer "+t},Oo=function(){function t(){this.Hc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.Yc=function(){},t.prototype.Jc=function(t){this.Hc=t,t(Fr.UNAUTHENTICATED)},t.prototype.Xc=function(){this.Hc=null},t}(),Ro=function(){function t(t){var e=this;this.Zc=null,this.currentUser=Fr.UNAUTHENTICATED,this.tu=!1,this.eu=0,this.Hc=null,this.forceRefresh=!1,this.Zc=function(){e.eu++,e.currentUser=e.nu(),e.tu=!0,e.Hc&&e.Hc(e.currentUser)},this.eu=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Zc):(this.Zc(null),t.get().then((function(t){e.auth=t,e.Zc&&e.auth.addAuthTokenListener(e.Zc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.eu,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.eu!==e?(v("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(w("string"==typeof n.accessToken),new Do(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.Yc=function(){this.forceRefresh=!0},t.prototype.Jc=function(t){this.Hc=t,this.tu&&t(this.currentUser)},t.prototype.Xc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Zc),this.Zc=null,this.Hc=null},t.prototype.nu=function(){var t=this.auth&&this.auth.getUid();return w(null===t||"string"==typeof t),new Fr(t)},t}(),Co=function(){function t(t,e){this.su=t,this.iu=e,this.type="FirstParty",this.user=Fr.ei}return Object.defineProperty(t.prototype,"zc",{get:function(){var t={"X-Goog-AuthUser":this.iu},e=this.su.auth.ru([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Lo=function(){function t(t,e){this.su=t,this.iu=e}return t.prototype.getToken=function(){return Promise.resolve(new Co(this.su,this.iu))},t.prototype.Jc=function(t){t(Fr.ei)},t.prototype.Xc=function(){},t.prototype.Yc=function(){},t}(),Po=function(){function t(t,e,n,r,i,o){this._n=t,this.ou=n,this.au=r,this.cu=i,this.listener=o,this.state=0,this.uu=0,this.hu=null,this.stream=null,this.gs=new vr(t,e)}return t.prototype.lu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype._u=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.fu()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.lu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.du=function(){this.state=0,this.gs.reset()},t.prototype.wu=function(){var t=this;this._u()&&null===this.hu&&(this.hu=this._n.gn(this.ou,6e4,(function(){return t.mu()})))},t.prototype.Tu=function(t){this.Eu(),this.stream.send(t)},t.prototype.mu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this._u()?[2,this.close(0)]:[2]}))}))},t.prototype.Eu=function(){this.hu&&(this.hu.cancel(),this.hu=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.Eu(),this.gs.cancel(),this.uu++,3!==t?this.gs.reset():e&&e.code===f.RESOURCE_EXHAUSTED?(y(e.toString()),y("Using maximum backoff delay to prevent overloading the backend."),this.gs.An()):e&&e.code===f.UNAUTHENTICATED&&this.cu.Yc(),null!==this.stream&&(this.Iu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Au(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Iu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Ru(this.uu),n=this.uu;this.cu.getToken().then((function(e){t.uu===n&&t.Pu(e)}),(function(n){e((function(){var e=new l(f.UNKNOWN,"Fetching auth token failed: "+n.message);return t.gu(e)}))}))},t.prototype.Pu=function(t){var e=this,n=this.Ru(this.uu);this.stream=this.yu(t),this.stream.Vu((function(){n((function(){return e.state=2,e.listener.Vu()}))})),this.stream.Au((function(t){n((function(){return e.gu(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.fu=function(){var t=this;this.state=4,this.gs.Rn((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.gu=function(t){return v("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Ru=function(t){var e=this;return function(n){e._n.ds((function(){return e.uu===t?n():(v("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),xo=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return r.__extends(e,t),e.prototype.yu=function(t){return this.au.pu("Listen",t)},e.prototype.onMessage=function(t){this.gs.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:b()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Ue?(w(void 0===e||"string"==typeof e),tt.fromBase64String(e||"")):(w(void 0===e||e instanceof Uint8Array),tt.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?f.UNKNOWN:Et(t.code);return new l(e,t.message||"")}(s);n=new Wt(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var c=ke(t,u.document.name),h=Te(u.document.updateTime),p=new Sn({mapValue:{fields:u.document.fields}}),d=new On(c,h,p,{}),v=u.targetIds||[],y=u.removedTargetIds||[];n=new zt(v,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;var g=e.documentDelete;g.document;var m=ke(t,g.document),_=g.readTime?Te(g.readTime):ct.min(),I=new Rn(m,_),E=g.removedTargetIds||[];n=new zt([],E,I.key,I)}else if("documentRemove"in e){e.documentRemove;var T=e.documentRemove;T.document;var A=ke(t,T.document),S=T.removedTargetIds||[];n=new zt([],S,A,null)}else{if(!("filter"in e))return b();e.filter;var N=e.filter;N.targetId;var k=N.count||0,D=new _t(k),O=N.targetId;n=new Ht(O,D)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ct.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ct.min():e.readTime?Te(e.readTime):ct.min()}(t);return this.listener.bu(e,n)},e.prototype.vu=function(t){var e={};e.database=Re(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=gt(r)?{documents:Me(t,r)}:{query:Ue(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=Ie(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return b()}}(0,e.tt);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.Tu(e)},e.prototype.Su=function(t){var e={};e.database=Re(this.serializer),e.removeTarget=t,this.Tu(e)},e}(Po),Mo=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Du=!1,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"Cu",{get:function(){return this.Du},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Du=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Iu=function(){this.Du&&this.Nu([])},e.prototype.yu=function(t){return this.au.pu("Write",t)},e.prototype.onMessage=function(t){if(w(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Du){this.gs.reset();var e=function(t,e){return t&&t.length>0?(w(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Te(t.updateTime):Te(e);n.isEqual(ct.min())&&(n=Te(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new cn(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Te(t.commitTime);return this.listener.Fu(n,e)}return w(!t.writeResults||0===t.writeResults.length),this.Du=!0,this.listener.$u()},e.prototype.xu=function(){var t={};t.database=Re(this.serializer),this.Tu(t)},e.prototype.Nu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Pe(e.serializer,t)}))};this.Tu(n)},e}(Po),Uo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.au=n,i.serializer=r,i.ku=!1,i}return r.__extends(e,t),e.prototype.Mu=function(){if(this.ku)throw new l(f.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ou=function(t,e,n){var r=this;return this.Mu(),this.credentials.getToken().then((function(i){return r.au.Ou(t,e,n,i)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&r.credentials.Yc(),t}))},e.prototype.Lu=function(t,e,n){var r=this;return this.Mu(),this.credentials.getToken().then((function(i){return r.au.Lu(t,e,n,i)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&r.credentials.Yc(),t}))},e.prototype.terminate=function(){this.ku=!1},e}((function(){})),Vo=function(){function t(t,e){this.os=t,this.fi=e,this.state="Unknown",this.Bu=0,this.qu=null,this.Uu=!0}return t.prototype.Qu=function(){var t=this;0===this.Bu&&(this.Wu("Unknown"),this.qu=this.os.gn("online_state_timeout",1e4,(function(){return t.qu=null,t.ju("Backend didn't respond within 10 seconds."),t.Wu("Offline"),Promise.resolve()})))},t.prototype.Ku=function(t){"Online"===this.state?this.Wu("Unknown"):(this.Bu++,this.Bu>=1&&(this.Gu(),this.ju("Connection failed 1 times. Most recent error: "+t.toString()),this.Wu("Offline")))},t.prototype.set=function(t){this.Gu(),this.Bu=0,"Online"===t&&(this.Uu=!1),this.Wu(t)},t.prototype.Wu=function(t){t!==this.state&&(this.state=t,this.fi(t))},t.prototype.ju=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Uu?(y(e),this.Uu=!1):v("OnlineStateTracker",e)},t.prototype.Gu=function(){null!==this.qu&&(this.qu.cancel(),this.qu=null)},t}(),jo=function(){function t(t,e,n,i,o){var s=this;this.zu=t,this.Hu=e,this.os=n,this.Yu=[],this.Ju=new Map,this.Xu=null,this.Zu=new Set,this.th={},this.eh=o,this.eh.nh((function(t){n.ds((function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return Qo(this)?(v("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=_(t)).Zu.add(4),[4,Bo(e)];case 1:return n.sent(),e.sh.du(),e.ih.du(),e.rh.set("Unknown"),e.Zu.delete(4),[4,qo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.rh=new Vo(n,i),this.ih=function(t,e,n){var r=_(t);return r.Mu(),new xo(e,r.au,r.credentials,r.serializer,n)}(this.Hu,n,{Vu:$o.bind(null,this),Au:Zo.bind(null,this),bu:ts.bind(null,this)}),this.sh=function(t,e,n){var r=_(t);return r.Mu(),new Mo(e,r.au,r.credentials,r.serializer,n)}(this.Hu,n,{Vu:ss.bind(null,this),Au:cs.bind(null,this),$u:as.bind(null,this),Fu:us.bind(null,this)})}return t.prototype.start=function(){return Fo(this)},t}();function Fo(t){var e=_(t);return e.Zu.delete(0),qo(e)}function qo(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return Qo(t)?(Yo(t)?Xo(t):t.rh.set("Unknown"),[4,rs(t)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}function Bo(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t.sh.stop()];case 1:return e.sent(),[4,t.ih.stop()];case 2:return e.sent(),t.Yu.length>0&&(v("RemoteStore","Stopping write stream with "+t.Yu.length+" pending writes"),t.Yu=[]),Jo(t),[2]}}))}))}function Go(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=_(t),v("RemoteStore","RemoteStore shutting down."),e.Zu.add(5),[4,Bo(e)];case 1:return n.sent(),e.eh.Si(),e.rh.set("Unknown"),[2]}}))}))}function zo(t,e){var n=_(t);n.Ju.has(e.targetId)||(n.Ju.set(e.targetId,e),Yo(n)?Xo(n):n.ih._u()&&Wo(n,e))}function Ho(t,e){var n=_(t);n.Ju.delete(e),n.ih._u()&&Ko(n,e),0===n.Ju.size&&(n.ih._u()?n.ih.wu():Qo(n)&&n.rh.set("Unknown"))}function Wo(t,e){t.Xu.Ee(e.targetId),t.ih.vu(e)}function Ko(t,e){t.Xu.Ee(e),t.ih.Su(e)}function Xo(t){t.Xu=new Xt({Be:function(e){return t.th.Be(e)},qe:function(e){return t.Ju.get(e)||null}}),t.ih.start(),t.rh.Qu()}function Yo(t){return Qo(t)&&!t.ih.lu()&&t.Ju.size>0}function Qo(t){return 0===_(t).Zu.size}function Jo(t){t.Xu=null}function $o(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.Ju.forEach((function(e,n){Wo(t,e)})),[2]}))}))}function Zo(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return Jo(t),Yo(t)?(t.rh.Ku(e),Xo(t)):t.rh.set("Unknown"),[2]}))}))}function ts(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s;return r.__generator(this,(function(a){switch(a.label){case 0:if(t.rh.set("Online"),!(e instanceof Wt&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?(s=o[i],t.Ju.has(s)?[4,t.th.oh(s,n)]:[3,3]):[3,5];case 2:r.sent(),t.Ju.delete(s),t.Xu.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),v("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,es(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof zt?t.Xu.pe(e):e instanceof Ht?t.Xu.$e(e):t.Xu.Se(e),n.isEqual(ct.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,bo(t.zu)];case 8:return o=a.sent(),n.L(o)>=0?[4,function(t,e){var n=t.Xu.Me(e);return n.Gt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Ju.get(r);i&&t.Ju.set(r,i.st(n.resumeToken,e))}})),n.zt.forEach((function(e){var n=t.Ju.get(e);if(n){t.Ju.set(e,n.st(tt.B,n.et)),Ko(t,e);var r=new wt(n.target,e,1,n.sequenceNumber);Wo(t,r)}})),t.th.ah(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return v("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,es(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function es(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){switch(o.label){case 0:if(!wr(e))throw e;return t.Zu.add(1),[4,Bo(t)];case 1:return o.sent(),t.rh.set("Offline"),n||(n=function(){return bo(t.zu)}),t.os.Ds((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return v("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Zu.delete(1),[4,qo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function ns(t,e){return e().catch((function(n){return es(t,n,e)}))}function rs(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:e=_(t),n=e.Yu.length>0?e.Yu[e.Yu.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Qo(t)&&t.Yu.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,_o(e.zu,n)];case 3:return null===(i=r.sent())?(0===e.Yu.length&&e.sh.wu(),[3,7]):(n=i.batchId,function(t,e){t.Yu.push(e),t.sh._u()&&t.sh.Cu&&t.sh.Nu(e.mutations)}(e,i),[3,6]);case 4:return o=r.sent(),[4,es(e,o)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return is(e)&&os(e),[2]}}))}))}function is(t){return Qo(t)&&!t.sh.lu()&&t.Yu.length>0}function os(t){t.sh.start()}function ss(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.sh.xu(),[2]}))}))}function as(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i;return r.__generator(this,(function(r){for(e=0,n=t.Yu;e<n.length;e++)i=n[e],t.sh.Nu(i.mutations);return[2]}))}))}function us(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return i=t.Yu.shift(),o=Zr.from(i,e,n),[4,ns(t,(function(){return t.th.uh(o)}))];case 1:return r.sent(),[4,rs(t)];case 2:return r.sent(),[2]}}))}))}function cs(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return e&&t.sh.Cu?[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return It(i=e.code)&&i!==f.ABORTED?(n=t.Yu.shift(),t.sh.du(),[4,ns(t,(function(){return t.th.hh(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,rs(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return is(t)&&os(t),[2]}}))}))}function hs(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),e?(n.Zu.delete(2),[4,qo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Zu.add(2),[4,Bo(n)]);case 3:r.sent(),n.rh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fs=function(t){this.key=t},ls=function(t){this.key=t},ps=function(){function t(t,e){this.query=t,this.lh=e,this._h=null,this.Zt=!1,this.fh=Mt(),this.Qt=Mt(),this.dh=Jn(t),this.wh=new jt(this.dh)}return Object.defineProperty(t.prototype,"mh",{get:function(){return this.lh},enumerable:!1,configurable:!0}),t.prototype.Th=function(t,e){var n=this,r=e?e.Eh:new Ft,i=e?e.wh:this.wh,o=e?e.Qt:this.Qt,s=i,a=!1,u=Un(this.query)&&i.size===this.query.limit?i.last():null,c=Vn(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var h=i.get(t),f=e instanceof On?e:null;f&&(f=Qn(n.query,f)?f:null);var l=!!h&&n.Qt.has(h.key),p=!!f&&(f.Ye||n.Qt.has(f.key)&&f.hasCommittedMutations),d=!1;h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),d=!0):n.Ih(h,f)||(r.track({type:2,doc:f}),d=!0,(u&&n.dh(f,u)>0||c&&n.dh(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),d=!0):h&&!f&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(f?(s=s.add(f),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Un(this.query)||Vn(this.query))for(;s.size>this.query.limit;){var h=Un(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{wh:s,Eh:r,Ah:a,Qt:o}},t.prototype.Ih=function(t,e){return t.Ye&&e.hasCommittedMutations&&!e.Ye},t.prototype.gr=function(t,e,n){var r=this,i=this.wh;this.wh=t.wh,this.Qt=t.Qt;var o=t.Eh.qt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return b()}};return n(t)-n(e)}(t.type,e.type)||r.dh(t.doc,e.doc)})),this.Rh(n);var s=e?this.Ph():[],a=0===this.fh.size&&this.Zt?1:0,u=a!==this._h;return this._h=a,0!==o.length||u?{snapshot:new qt(this.query,t.wh,i,o,t.Qt,0===a,u,!1),gh:s}:{gh:s}},t.prototype.Us=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.gr({wh:this.wh,Eh:new Ft,Qt:this.Qt,Ah:!1},!1)):{gh:[]}},t.prototype.yh=function(t){return!this.lh.has(t)&&!!this.wh.has(t)&&!this.wh.get(t).Ye},t.prototype.Rh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.lh=e.lh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.lh=e.lh.delete(t)})),this.Zt=t.Zt)},t.prototype.Ph=function(){var t=this;if(!this.Zt)return[];var e=this.fh;this.fh=Mt(),this.wh.forEach((function(e){t.yh(e.key)&&(t.fh=t.fh.add(e.key))}));var n=[];return e.forEach((function(e){t.fh.has(e)||n.push(new ls(e))})),this.fh.forEach((function(t){e.has(t)||n.push(new fs(t))})),n},t.prototype.Vh=function(t){this.lh=t.kc,this.fh=Mt();var e=this.Th(t.documents);return this.gr(e,!0)},t.prototype.ph=function(){return qt.Kt(this.query,this.wh,this.Qt,0===this._h)},t}(),ds=function(t,e,n){this.query=t,this.targetId=e,this.view=n},vs=function(t){this.key=t,this.bh=!1},ys=function(){function t(t,e,n,r,i){this.zu=t,this.Sh=e,this.Dh=n,this.currentUser=r,this.Ch=i,this.Nh=null,this.Fh=new at((function(t){return Xn(t)}),Kn),this.$h=new Map,this.xh=[],this.kh=new Tt(D.i),this.Mh=new Map,this.Oh=new No,this.Lh={},this.Bh=new Map,this.qh=ro.Ta(),this.onlineState="Unknown",this.Uh=void 0}return Object.defineProperty(t.prototype,"Qh",{get:function(){return!0===this.Uh},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.Nh=t},t.prototype.Wh=function(t){},t}();function gs(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=Gs(t)).Wh("listen()"),(s=n.Fh.get(e))?(i=s.targetId,n.Dh.Mi(i),o=s.view.ph(),[3,4]):[3,1];case 1:return[4,Io(n.zu,Gn(e))];case 2:return a=r.sent(),u=n.Dh.Mi(a.targetId),i=a.targetId,[4,ms(n,e,i,"current"===u)];case 3:o=r.sent(),n.Qh&&zo(n.Sh,a),r.label=4;case 4:return[2,o]}}))}))}function ms(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,c,h;return r.__generator(this,(function(f){switch(f.label){case 0:return t.jh=function(e,n,i){return function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return o=e.view.Th(n),o.Ah?[4,To(t.zu,e.query,!1).then((function(t){var n=t.documents;return e.view.Th(n,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.Gt.get(e.targetId),a=e.view.gr(o,t.Qh,s),[2,(Ds(t,e.targetId,a.gh),a.snapshot)]}}))}))}(t,e,n,i)},[4,To(t.zu,e,!0)];case 1:return o=f.sent(),s=new ps(e,o.kc),a=s.Th(o.documents),u=Gt.Xt(n,i&&"Offline"!==t.onlineState),c=s.gr(a,t.Qh,u),Ds(t,n,c.gh),h=new ds(e,n,s),[2,(t.Fh.set(e,h),t.$h.has(n)?t.$h.get(n).push(e):t.$h.set(n,[e]),c.snapshot)]}}))}))}function bs(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=_(t)).Wh("unlisten()"),i=n.Fh.get(e),(o=n.$h.get(i.targetId)).length>1?[2,(n.$h.set(i.targetId,o.filter((function(t){return!Kn(t,e)}))),void n.Fh.delete(e))]:n.Qh?(n.Dh.Li(i.targetId),n.Dh.Ni(i.targetId)?[3,2]:[4,Eo(n.zu,i.targetId,!1).then((function(){n.Dh.qi(i.targetId),Ho(n.Sh,i.targetId),Ns(n,i.targetId)})).catch(So)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Ns(n,i.targetId),[4,Eo(n.zu,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function ws(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:(n=_(t)).Wh("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,wo(n.zu,e)];case 2:return i=r.sent(),e.Gt.forEach((function(t,e){var r=n.Mh.get(e);r&&(w(t.te.size+t.ee.size+t.ne.size<=1),t.te.size>0?r.bh=!0:t.ee.size>0?w(r.bh):t.ne.size>0&&(w(r.bh),r.bh=!1))})),[4,Cs(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,So(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function _s(t,e,n){var r=_(t);if(r.Qh&&0===n||!r.Qh&&1===n){r.Wh("applyOnlineStateChange()");var i=[];r.Fh.forEach((function(t,n){var r=n.view.Us(e);r.snapshot&&i.push(r.snapshot)})),r.Nh.Kh(e),r.Nh.bu(i),r.onlineState=e,r.Qh&&r.Dh.ji(e)}}function Is(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=_(t)).Wh("rejectListens()"),i.Dh.Ui(e,"rejected",n),o=i.Mh.get(e),(s=o&&o.key)?(a=(a=new Tt(D.i)).rt(s,new Rn(s,ct.min())),u=Mt().add(s),c=new Bt(ct.min(),new Map,new Nt(J),a,u),[4,ws(i,c)]):[3,2];case 1:return r.sent(),i.kh=i.kh.remove(s),i.Mh.delete(e),Rs(i),[3,4];case 2:return[4,Eo(i.zu,e,!1).then((function(){return Ns(i,e,n)})).catch(So)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Es(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:(n=_(t)).Wh("applySuccessfulWrite()"),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,mo(n.zu,e)];case 2:return o=r.sent(),Ss(n,i,null),As(n,i),n.Dh.xi(i,"acknowledged"),[4,Cs(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,So(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ts(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:(i=_(t)).Wh("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=_(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.vr.Mo(t,e).next((function(e){return w(null!==e),r=e.keys(),n.vr.Qo(t,e)})).next((function(){return n.vr.Go(t)})).next((function(){return n.$c.$r(t,r)}))}))}(i.zu,e)];case 2:return o=r.sent(),Ss(i,e,n),As(i,e),i.Dh.xi(e,"rejected",n),[4,Cs(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,So(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function As(t,e){(t.Bh.get(e)||[]).forEach((function(t){t.resolve()})),t.Bh.delete(e)}function Ss(t,e,n){var r=_(t),i=r.Lh[r.currentUser.Zs()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lh[r.currentUser.Zs()]=i}}function Ns(t,e,n){void 0===n&&(n=null),t.Dh.Li(e);for(var r=0,i=t.$h.get(e);r<i.length;r++){var o=i[r];t.Fh.delete(o),n&&t.Nh.Gh(o,n)}t.$h.delete(e),t.Qh&&t.Oh.Wc(e).forEach((function(e){t.Oh.zo(e)||ks(t,e)}))}function ks(t,e){var n=t.kh.get(e);null!==n&&(Ho(t.Sh,n),t.kh=t.kh.remove(e),t.Mh.delete(n),Rs(t))}function Ds(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof fs?(t.Oh.Fa(o.key,e),Os(t,o)):o instanceof ls?(v("SyncEngine","Document no longer in limbo: "+o.key),t.Oh.xa(o.key,e),t.Oh.zo(o.key)||ks(t,o.key)):b()}}function Os(t,e){var n=e.key;t.kh.get(n)||(v("SyncEngine","New document in limbo: "+n),t.xh.push(n),Rs(t))}function Rs(t){for(;t.xh.length>0&&t.kh.size<t.Ch;){var e=t.xh.shift(),n=t.qh.next();t.Mh.set(n,new vs(e)),t.kh=t.kh.rt(e,n),zo(t.Sh,new wt(Gn(Mn(e.path)),n,2,qr.oi))}}function Cs(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(u){switch(u.label){case 0:return i=_(t),o=[],s=[],a=[],i.Fh.forEach((function(t,r){a.push(i.jh(r,e,n).then((function(t){if(t){i.Qh&&i.Dh.Ui(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=ii.Gr(r.targetId,t);s.push(e)}})))})),[4,Promise.all(a)];case 1:return u.sent(),i.Nh.bu(o),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,h,f;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return yr.forEach(e,(function(e){return yr.forEach(e.jr,(function(r){return n.persistence.Co.Fa(t,e.targetId,r)})).next((function(){return yr.forEach(e.Kr,(function(r){return n.persistence.Co.xa(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!wr(i=r.sent()))throw i;return v("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)a=s[o],u=a.targetId,a.fromCache||(c=n.Dc.get(u),h=c.et,f=c.it(h),n.Dc=n.Dc.rt(u,f));return[2]}}))}))}(i.zu,s)];case 2:return u.sent(),[2]}}))}))}function Ls(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(o){switch(o.label){case 0:return(n=_(t)).currentUser.isEqual(e)?[3,3]:(v("SyncEngine","User change. New user:",e.Zs()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=n.vr,o=n.$c,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.vr.qo(t).next((function(s){return r=s,i=n.persistence.Ic(e),o=new ri(n.Fc,i,n.persistence.Pc()),i.qo(t)})).next((function(e){for(var n=[],i=[],s=Mt(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];i.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];s=s.add(m.key)}}return o.$r(t,s).next((function(t){return{zh:t,Hh:n,Yh:i}}))}))}))];case 1:return s=r.sent(),[2,(n.vr=i,n.$c=o,n.Sc.xc(n.$c),s)]}}))}))}(n.zu,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.Bh.forEach((function(t){t.forEach((function(t){t.reject(new l(f.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Bh.clear()}(n),n.Dh.Wi(e,i.Hh,i.Yh),[4,Cs(n,i.zh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Ps(t,e){var n=_(t),r=n.Mh.get(e);if(r&&r.bh)return Mt().add(r.key);var i=Mt(),o=n.$h.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Fh.get(u);i=i.xt(c.view.mh)}return i}function xs(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,To((n=_(t)).zu,e.query,!0)];case 1:return i=r.sent(),o=e.view.Vh(i),[2,(n.Qh&&Ds(n,e.targetId,o.gh),o)]}}))}))}function Ms(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=_(t)).Wh("applyBatchState()"),[4,function(t,e){var n=_(t),r=_(n.vr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Oo(t,e).next((function(e){return e?n.$c.$r(t,e):yr.resolve(null)}))}))}(o.zu,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,rs(o.Sh)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ss(o,e,i||null),function(t,e){_(_(t).vr).jo(e)}(o.zu,e)):b(),r.label=4;case 4:return[4,Cs(o,s)];case 5:return r.sent(),[3,7];case 6:v("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Us(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,h;return r.__generator(this,(function(r){switch(r.label){case 0:return Gs(n=_(t)),zs(n),!0!==e||!0===n.Uh?[3,3]:(i=n.Dh.Di(),[4,Vs(n,i.A())]);case 1:return o=r.sent(),n.Uh=!0,[4,hs(n.Sh,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)u=a[s],zo(n.Sh,u);return[3,7];case 3:return!1!==e||!1===n.Uh?[3,7]:(c=[],h=Promise.resolve(),n.$h.forEach((function(t,e){n.Dh.Bi(e)?c.push(e):h=h.then((function(){return Ns(n,e),Eo(n.zu,e,!0)})),Ho(n.Sh,e)})),[4,h]);case 4:return r.sent(),[4,Vs(n,c)];case 5:return r.sent(),function(t){var e=_(t);e.Mh.forEach((function(t,n){Ho(e.Sh,n)})),e.Oh.jc(),e.Mh=new Map,e.kh=new Tt(D.i)}(n),n.Uh=!1,[4,hs(n.Sh,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Vs(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,h,f,l,p,d,v,y;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(u=a[s],c=void 0,(h=n.$h.get(u))&&0!==h.length?[4,Io(n.zu,Gn(h[0]))]:[3,7]):[3,13];case 2:c=r.sent(),f=0,l=h,r.label=3;case 3:return f<l.length?(p=l[f],d=n.Fh.get(p),[4,xs(n,d)]):[3,6];case 4:(v=r.sent()).snapshot&&o.push(v.snapshot),r.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Ao(n.zu,u)];case 8:return y=r.sent(),[4,Io(n.zu,y)];case 9:return c=r.sent(),[4,ms(n,js(y),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Nh.bu(o),i)]}}))}))}function js(t){return xn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Fs(t){var e=_(t);return _(_(e.zu).persistence).Vi()}function qs(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=_(t)).Uh?(v("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.$h.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=_(t),n=_(e.Fc);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.ia(t,e.Nc)})).then((function(t){var n=t.ra,r=t.readTime;return e.Nc=r,n}))}(o.zu)];case 3:return s=r.sent(),a=Bt.Jt(e,"current"===n),[4,Cs(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,Eo(o.zu,e,!0)];case 6:return r.sent(),Ns(o,e,i),[3,8];case 7:b(),r.label=8;case 8:return[2]}}))}))}function Bs(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c,h,f,l,p;return r.__generator(this,(function(d){switch(d.label){case 0:if(!(i=Gs(t)).Uh)return[3,10];o=0,s=e,d.label=1;case 1:return o<s.length?(a=s[o],i.$h.has(a)?(v("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ao(i.zu,a)]):[3,6];case 2:return u=d.sent(),[4,Io(i.zu,u)];case 3:return c=d.sent(),[4,ms(i,js(u),c.targetId,!1)];case 4:d.sent(),zo(i.Sh,c),d.label=5;case 5:return o++,[3,1];case 6:h=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.$h.has(t)?[4,Eo(i.zu,t,!1).then((function(){Ho(i.Sh,t),Ns(i,t)})).catch(So)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},f=0,l=n,d.label=7;case 7:return f<l.length?(p=l[f],[5,h(p)]):[3,10];case 8:d.sent(),d.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function Gs(t){var e=_(t);return e.Sh.th.ah=ws.bind(null,e),e.Sh.th.Be=Ps.bind(null,e),e.Sh.th.oh=Is.bind(null,e),e}function zs(t){var e=_(t);return e.Sh.th.uh=Es.bind(null,e),e.Sh.th.hh=Ts.bind(null,e),e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hs=function(){function t(){}return t.prototype.xc=function(t){this.Jh=t},t.prototype.Or=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.rn.length||1===t.rn.length&&t.rn[0].field.p())}(e)||n.isEqual(ct.min())?this.Xh(t,e):this.Jh.$r(t,r).next((function(s){var a=i.Zh(e,s);return(Un(e)||Vn(e))&&i.Ah(e.on,a,r,n)?i.Xh(t,e):(d()<=o.LogLevel.DEBUG&&v("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yn(e)),i.Jh.Or(t,e,n).next((function(t){return a.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},t.prototype.Zh=function(t,e){var n=new Nt(Jn(t));return e.forEach((function(e,r){r instanceof On&&Qn(t,r)&&(n=n.add(r))})),n},t.prototype.Ah=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Xh=function(t,e){return d()<=o.LogLevel.DEBUG&&v("IndexFreeQueryEngine","Using full collection scan to execute query:",Yn(e)),this.Jh.Or(t,e,ct.min())},t}(),Ws=function(){function t(t,e){this.Sr=t,this.Co=e,this.vr=[],this.tl=1,this.el=new Nt(ko.Oc)}return t.prototype.$o=function(t){return yr.resolve(0===this.vr.length)},t.prototype.xo=function(t,e,n,r){var i=this.tl;this.tl++,this.vr.length>0&&this.vr[this.vr.length-1];var o=new $r(i,e,n,r);this.vr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.el=this.el.add(new ko(u.key,i)),this.Sr.ko(t,u.key.path.h())}return yr.resolve(o)},t.prototype.Mo=function(t,e){return yr.resolve(this.nl(e))},t.prototype.Lo=function(t,e){var n=e+1,r=this.sl(n),i=r<0?0:r;return yr.resolve(this.vr.length>i?this.vr[i]:null)},t.prototype.Bo=function(){return yr.resolve(0===this.vr.length?-1:this.tl-1)},t.prototype.qo=function(t){return yr.resolve(this.vr.slice())},t.prototype.Cr=function(t,e){var n=this,r=new ko(e,0),i=new ko(e,Number.POSITIVE_INFINITY),o=[];return this.el.Nt([r,i],(function(t){var e=n.nl(t.Gc);o.push(e)})),yr.resolve(o)},t.prototype.Mr=function(t,e){var n=this,r=new Nt(J);return e.forEach((function(t){var e=new ko(t,0),i=new ko(t,Number.POSITIVE_INFINITY);n.el.Nt([e,i],(function(t){r=r.add(t.Gc)}))})),yr.resolve(this.il(r))},t.prototype.Qr=function(t,e){var n=e.path,r=n.length+1,i=n;D.F(i)||(i=i.child(""));var o=new ko(new D(i),0),s=new Nt(J);return this.el.Ft((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(s=s.add(t.Gc)),!0)}),o),yr.resolve(this.il(s))},t.prototype.il=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.nl(t);null!==r&&n.push(r)})),n},t.prototype.Qo=function(t,e){var n=this;w(0===this.rl(e.batchId,"removed")),this.vr.shift();var r=this.el;return yr.forEach(e.mutations,(function(i){var o=new ko(i.key,e.batchId);return r=r.delete(o),n.Co.Ko(t,i.key)})).next((function(){n.el=r}))},t.prototype.jo=function(t){},t.prototype.zo=function(t,e){var n=new ko(e,0),r=this.el.$t(n);return yr.resolve(e.isEqual(r&&r.key))},t.prototype.Go=function(t){return this.vr.length,yr.resolve()},t.prototype.rl=function(t,e){return this.sl(t)},t.prototype.sl=function(t){return 0===this.vr.length?0:t-this.vr[0].batchId},t.prototype.nl=function(t){var e=this.sl(t);return e<0||e>=this.vr.length?null:this.vr[e]},t}(),Ks=function(){function t(t,e){this.Sr=t,this.ol=e,this.docs=new Tt(D.i),this.size=0}return t.prototype.Tr=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ol(e);return this.docs=this.docs.rt(r,{Zo:e,size:s,readTime:n}),this.size+=s-o,this.Sr.ko(t,r.path.h())},t.prototype.Ir=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ar=function(t,e){var n=this.docs.get(e);return yr.resolve(n?n.Zo:null)},t.prototype.getEntries=function(t,e){var n=this,r=Rt();return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.Zo:null)})),yr.resolve(r)},t.prototype.Or=function(t,e,n){for(var r=Lt(),i=new D(e.path.child("")),o=this.docs._t(i);o.It();){var s=o.Et(),a=s.key,u=s.value,c=u.Zo,h=u.readTime;if(!e.path.T(a.path))break;h.L(n)<=0||c instanceof On&&Qn(e,c)&&(r=r.rt(c.key,c))}return yr.resolve(r)},t.prototype.al=function(t,e){return yr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.aa=function(e){return new t.ca(this)},t.prototype.ha=function(t){return yr.resolve(this.size)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks.ca=function(t){function e(e){var n=this;return(n=t.call(this)||this).la=e,n}return r.__extends(e,t),e.prototype.gr=function(t){var e=this,n=[];return this.dr.forEach((function(r,i){i?n.push(e.la.Tr(t,i,e.readTime)):e.la.Ir(r)})),yr.$n(n)},e.prototype.Rr=function(t,e){return this.la.Ar(t,e)},e.prototype.Pr=function(t,e){return this.la.getEntries(t,e)},e}(ti);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xs=function(){function t(t){this.persistence=t,this.cl=new at((function(t){return vt(t)}),yt),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.ul=0,this.hl=new No,this.targetCount=0,this.ll=ro.ma()}return t.prototype.De=function(t,e){return this.cl.forEach((function(t,n){return e(n)})),yr.resolve()},t.prototype.Ra=function(t){return yr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Pa=function(t){return yr.resolve(this.ul)},t.prototype.Ea=function(t){return this.highestTargetId=this.ll.next(),yr.resolve(this.highestTargetId)},t.prototype.ga=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ul&&(this.ul=e),yr.resolve()},t.prototype.Va=function(t){this.cl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ll=new ro(e),this.highestTargetId=e),t.sequenceNumber>this.ul&&(this.ul=t.sequenceNumber)},t.prototype.ya=function(t,e){return this.Va(e),this.targetCount+=1,yr.resolve()},t.prototype.ba=function(t,e){return this.Va(e),yr.resolve()},t.prototype.va=function(t,e){return this.cl.delete(e.target),this.hl.Wc(e.targetId),this.targetCount-=1,yr.resolve()},t.prototype.Vo=function(t,e,n){var r=this,i=0,o=[];return this.cl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.cl.delete(s),o.push(r.Sa(t,a.targetId)),i++)})),yr.$n(o).next((function(){return i}))},t.prototype.Da=function(t){return yr.resolve(this.targetCount)},t.prototype.Ca=function(t,e){var n=this.cl.get(e)||null;return yr.resolve(n)},t.prototype.Na=function(t,e,n){return this.hl.qc(e,n),yr.resolve()},t.prototype.$a=function(t,e,n){this.hl.Qc(e,n);var r=this.persistence.Co,i=[];return r&&e.forEach((function(e){i.push(r.Ko(t,e))})),yr.$n(i)},t.prototype.Sa=function(t,e){return this.hl.Wc(e),yr.resolve()},t.prototype.ka=function(t,e){var n=this.hl.Kc(e);return yr.resolve(n)},t.prototype.zo=function(t,e){return yr.resolve(this.hl.zo(e))},t}(),Ys=function(){function t(t){var e=this;this._l={},this.Ba=new qr(0),this.qa=!1,this.qa=!0,this.Co=t(this),this.Ha=new Xs(this),this.Sr=new Mi,this.br=new Ks(this.Sr,(function(t){return e.Co.fl(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Si=function(){return this.qa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),t.prototype.nc=function(){},t.prototype.sc=function(){},t.prototype.Pc=function(){return this.Sr},t.prototype.Ic=function(t){var e=this._l[t.Zs()];return e||(e=new Ws(this.Sr,this.Co),this._l[t.Zs()]=e),e},t.prototype.Ac=function(){return this.Ha},t.prototype.Rc=function(){return this.br},t.prototype.runTransaction=function(t,e,n){var r=this;v("MemoryPersistence","Starting transaction:",t);var i=new Qs(this.Ba.next());return this.Co.dl(),n(i).next((function(t){return r.Co.wl(i).next((function(){return t}))})).Nn().then((function(t){return i.pr(),t}))},t.prototype.ml=function(t,e){return yr.xn(Object.values(this._l).map((function(n){return function(){return n.zo(t,e)}})))},t}(),Qs=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ma=e,n}return r.__extends(e,t),e}(ni),Js=function(){function t(t){this.persistence=t,this.Tl=new No,this.El=null}return t.Il=function(e){return new t(e)},Object.defineProperty(t.prototype,"Al",{get:function(){if(this.El)return this.El;throw b()},enumerable:!1,configurable:!0}),t.prototype.Fa=function(t,e,n){return this.Tl.Fa(n,e),this.Al.delete(n.toString()),yr.resolve()},t.prototype.xa=function(t,e,n){return this.Tl.xa(n,e),this.Al.add(n.toString()),yr.resolve()},t.prototype.Ko=function(t,e){return this.Al.add(e.toString()),yr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Tl.Wc(e.targetId).forEach((function(t){return n.Al.add(t.toString())}));var r=this.persistence.Ac();return r.ka(t,e.targetId).next((function(t){t.forEach((function(t){return n.Al.add(t.toString())}))})).next((function(){return r.va(t,e)}))},t.prototype.dl=function(){this.El=new Set},t.prototype.wl=function(t){var e=this,n=this.persistence.Rc().aa();return yr.forEach(this.Al,(function(r){var i=D.D(r);return e.Rl(t,i).next((function(t){t||n.Ir(i)}))})).next((function(){return e.El=null,n.apply(t)}))},t.prototype.vc=function(t,e){var n=this;return this.Rl(t,e).next((function(t){t?n.Al.delete(e.toString()):n.Al.add(e.toString())}))},t.prototype.fl=function(t){return 0},t.prototype.Rl=function(t,e){var n=this;return yr.xn([function(){return yr.resolve(n.Tl.zo(e))},function(){return n.persistence.Ac().zo(t,e)},function(){return n.persistence.ml(t,e)}])},t}(),$s=function(){function t(t){this.Pl=t.Pl,this.gl=t.gl}return t.prototype.Vu=function(t){this.yl=t},t.prototype.Au=function(t){this.Vl=t},t.prototype.onMessage=function(t){this.pl=t},t.prototype.close=function(){this.gl()},t.prototype.send=function(t){this.Pl(t)},t.prototype.bl=function(){this.yl()},t.prototype.vl=function(t){this.Vl(t)},t.prototype.Sl=function(t){this.pl(t)},t}(),Zs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ta=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return r.__extends(e,t),e.prototype.xl=function(t,e,n,r){return new Promise((function(i,o){var s=new a.XhrIo;s.listenOnce(a.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=s.getResponseJson();v("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.ErrorCode.TIMEOUT:v("Connection",'RPC "'+t+'" timed out'),o(new l(f.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(v("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(f).indexOf(e)>=0?e:f.UNKNOWN}(r.status);o(new l(u,r.message))}else o(new l(f.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new l(f.UNAVAILABLE,"Connection failed."));break;default:b()}}finally{v("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.pu=function(t,e){var n=[this.Cl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=a.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.$l(i.initMessageHeaders,e),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");v("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),c=!1,h=!1,p=new $s({Pl:function(t){h?v("Connection","Not sending because WebChannel is closed:",t):(c||(v("Connection","Opening WebChannel transport."),u.open(),c=!0),v("Connection","WebChannel sending:",t),u.send(t))},gl:function(){return u.close()}}),d=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(a.WebChannel.EventType.OPEN,(function(){h||v("Connection","WebChannel transport opened.")})),d(a.WebChannel.EventType.CLOSE,(function(){h||(h=!0,v("Connection","WebChannel transport closed"),p.vl())})),d(a.WebChannel.EventType.ERROR,(function(t){h||(h=!0,g("Connection","WebChannel transport errored:",t),p.vl(new l(f.UNAVAILABLE,"The operation could not be completed")))})),d(a.WebChannel.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];w(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){v("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=mt[t];if(void 0!==e)return Et(e)}(o),a=i.message;void 0===s&&(s=f.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),h=!0,p.vl(new l(s,a)),u.close()}else v("Connection","WebChannel received:",n),p.Sl(n)}})),setTimeout((function(){p.bl()}),0),p},e}(function(){function t(t){this.Dl=t,this.U=t.U;var e=t.ssl?"https":"http";this.Cl=e+"://"+t.host,this.Nl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.Ou=function(t,e,n,r){var i=this.Fl(t,e);v("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.xl(t,i,o,n).then((function(t){return v("RestConnection","Received: ",t),t}),(function(e){throw g("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Lu=function(t,e,n,r){return this.Ou(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.20.0",t["Content-Type"]="text/plain",e)for(var n in e.zc)e.zc.hasOwnProperty(n)&&(t[n]=e.zc[n])},t.prototype.Fl=function(t,e){var n=Zs[t];return this.Cl+"/v1/"+e+":"+n},t}()),ea=function(){function t(){var t=this;this.kl=function(){return t.Ml()},this.Ol=function(){return t.Ll()},this.Bl=[],this.ql()}return t.prototype.nh=function(t){this.Bl.push(t)},t.prototype.Si=function(){window.removeEventListener("online",this.kl),window.removeEventListener("offline",this.Ol)},t.prototype.ql=function(){window.addEventListener("online",this.kl),window.addEventListener("offline",this.Ol)},t.prototype.Ml=function(){v("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Bl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ll=function(){v("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Bl;t<e.length;t++)(0,e[t])(1)},t.On=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),na=function(){function t(){}return t.prototype.nh=function(t){},t.prototype.Si=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t){return new ge(t,!0)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ia="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",oa=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Dh=this.Ul(t),this.persistence=this.Ql(t),[4,this.persistence.start()];case 1:return e.sent(),this.Wl=this.jl(t),this.zu=this.Kl(t),[2]}}))}))},t.prototype.jl=function(t){return null},t.prototype.Kl=function(t){return e=this.persistence,n=new Hs,r=t.Gl,new go(e,n,r);var e,n,r},t.prototype.Ql=function(t){if(t.Hl.zl)throw new l(f.FAILED_PRECONDITION,ia);return new Ys(Js.Il)},t.prototype.Ul=function(t){return new Jr},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Wl&&this.Wl.stop(),[4,this.Dh.Si()];case 1:return t.sent(),[4,this.persistence.Si()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new l(f.FAILED_PRECONDITION,ia)},t}(),sa=function(t){function e(e){var n=this;return(n=t.call(this)||this).Yl=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),[4,this.Yl.initialize(this,e)];case 2:return o.sent(),n=this.Yl._i,this.Dh instanceof Qr?(this.Dh._i={tr:Ms.bind(null,n),er:qs.bind(null,n),nr:Bs.bind(null,n),Vi:Fs.bind(null,n)},[4,this.Dh.start()]):[3,4];case 3:o.sent(),o.label=4;case 4:return[4,this.persistence.ec((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,Us(this.Yl._i,t)];case 1:return e.sent(),this.Wl&&(t&&!this.Wl.Ti?this.Wl.start(this.zu):t||this.Wl.stop()),[2]}}))}))}))];case 5:return o.sent(),[2]}}))}))},e.prototype.Ul=function(t){if(t.Hl.zl&&t.Hl.synchronizeTabs){var e=Sr();if(!Qr.On(e))throw new l(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yo(t.Dl.U,t.Dl.persistenceKey);return new Qr(e,t.os,n,t.clientId,t.Gl)}return new Jr},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){return e=_(t),n=_(e.Fc),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.oa(t)})).then((function(t){e.Nc=t}))]}))}))}(this.zu)];case 2:return n.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=this.persistence.Co.do;return new ci(e,t.os)},e.prototype.Ql=function(t){var e=yo(t.Dl.U,t.Dl.persistenceKey),n=ra(t.Dl.U);return new ho(t.Hl.synchronizeTabs,e,t.clientId,ui.oo(t.Hl.cacheSizeBytes),t.os,Sr(),Nr(),n,this.Dh,t.Hl.La)},e.prototype.Ul=function(t){return new Jr},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return gr.On()?(e=t+"main",[4,gr.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(yo(t,e))},e}(oa)),aa=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.zu?[3,2]:(this.zu=t.zu,this.Dh=t.Dh,this.Hu=this.Jl(e),this.Sh=this.Xl(e),this._i=this.Zl(e),this.t_=this.e_(e),this._i.subscribe({bu:xr.bind(null,this.t_),Gh:Mr.bind(null,this.t_),Kh:Ur.bind(null,this.t_)}),this.Dh.fi=function(t){return _s(n._i,t,1)},this.Sh.th.n_=Ls.bind(null,this._i),[4,hs(this.Sh,this._i.Qh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Cr},t.prototype.Jl=function(t){var e,n=ra(t.Dl.U),r=(e=t.Dl,new ta(e));return function(t,e,n){return new Uo(t,e,n)}(t.credentials,r,n)},t.prototype.Xl=function(t){var e,n,r,i,o,s=this;return e=this.zu,n=this.Hu,r=t.os,i=function(t){return _s(s._i,t,0)},o=ea.On()?new ea:new na,new jo(e,n,r,i,o)},t.prototype.Zl=function(t){return function(t,e,n,r,i,o){var s=new ys(t,e,n,r,i);return o&&(s.Uh=!0),s}(this.zu,this.Sh,this.Dh,t.Gl,t.Ch,!t.Hl.zl||!t.Hl.synchronizeTabs)},t.prototype.terminate=function(){return Go(this.Sh)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var ca=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ha=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new l(f.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+X(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(P("FieldPath","string",e,t[e]),0===t[e].length)throw new l(f.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.r_=new k(t)},fa=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(k.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","FieldPath",1,t);return this.r_.isEqual(t.r_)},e}(ha),la=new RegExp("[~\\*/\\[\\]]"),pa=function(){this.o_=this},da=function(t){function e(e){var n=this;return(n=t.call(this)||this).a_=e,n}return r.__extends(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw 1===t.u_?t.h_(this.a_+"() can only appear at the top level of your update data"):t.h_(this.a_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(pa);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t,e,n){return new ka({u_:3,l_:e.settings.l_,methodName:t.a_,__:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var ya=function(t){function e(e){var n=this;return(n=t.call(this)||this).a_=e,n}return r.__extends(e,t),e.prototype.c_=function(t){return new un(t.path,new $e)},e.prototype.isEqual=function(t){return t instanceof e},e}(pa),ga=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).a_=e,r.f_=n,r}return r.__extends(e,t),e.prototype.c_=function(t){var e=va(this,t,!0),n=this.f_.map((function(t){return Pa(t,e)})),r=new Ze(n);return new un(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pa),ma=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).a_=e,r.f_=n,r}return r.__extends(e,t),e.prototype.c_=function(t){var e=va(this,t,!0),n=this.f_.map((function(t){return Pa(t,e)})),r=new en(n);return new un(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pa),ba=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).a_=e,r.d_=n,r}return r.__extends(e,t),e.prototype.c_=function(t){var e=new rn(t.serializer,we(t.serializer,this.d_));return new un(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(pa),wa=function(t){function e(){return t.call(this)||this}return r.__extends(e,t),e.delete=function(){return O("FieldValue.delete",arguments),new _a(new da("FieldValue.delete"))},e.serverTimestamp=function(){return O("FieldValue.serverTimestamp",arguments),new _a(new ya("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C("FieldValue.arrayUnion",arguments,1),new _a(new ga("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C("FieldValue.arrayRemove",arguments,1),new _a(new ma("FieldValue.arrayRemove",t))},e.increment=function(t){return P("FieldValue.increment","number",1,t),R("FieldValue.increment",arguments,1),new _a(new ba("FieldValue.increment",t))},e}(pa),_a=function(t){function e(e){var n=this;return(n=t.call(this)||this).o_=e,n.a_=e.a_,n}return r.__extends(e,t),e.prototype.c_=function(t){return this.o_.c_(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.o_.isEqual(t.o_)},e}(wa),Ia=function(){function t(t,e){if(R("GeoPoint",arguments,2),P("GeoPoint","number",1,t),P("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new l(f.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new l(f.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.m_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.m_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.m_===t.m_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.m_}},t.prototype.H=function(t){return J(this.w_,t.w_)||J(this.m_,t.m_)},t}(),Ea=/^__.*__$/,Ta=function(t,e,n){this.T_=t,this.E_=e,this.I_=n},Aa=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.A_=function(t,e){var n=[];return null!==this.Qe?n.push(new bn(t,this.data,this.Qe,e)):n.push(new mn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new _n(t,this.fieldTransforms)),n},t}(),Sa=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.A_=function(t,e){var n=[new bn(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new _n(t,this.fieldTransforms)),n},t}();function Na(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw b()}}var ka=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.R_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.P_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.g_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.P_({path:n,__:!1});return r.y_(t),r},t.prototype.V_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.P_({path:n,__:!1});return r.R_(),r},t.prototype.p_=function(t){return this.P_({path:void 0,__:!0})},t.prototype.h_=function(t){return Fa(t,this.settings.methodName,this.settings.b_||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.R_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.y_(this.path.get(t))},t.prototype.y_=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(Na(this.u_)&&Ea.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Da=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||ra(t)}return t.prototype.v_=function(t,e,n,r){return void 0===r&&(r=!1),new ka({u_:t,methodName:e,l_:n,path:k.g(),__:!1,b_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Oa(t,e,n,r,i,o){void 0===o&&(o={});var s=t.v_(o.merge||o.mergeFields?2:0,e,n,i);Ua("Data must be an object, but it was:",s,r);var a,u,c=xa(r,s);if(o.merge)a=new an(s.Qe),u=s.fieldTransforms;else if(o.mergeFields){for(var h=[],p=0,d=o.mergeFields;p<d.length;p++){var v=d[p],y=void 0;if(v instanceof ha)y=v.r_;else{if("string"!=typeof v)throw b();y=ja(e,v,n)}if(!s.contains(y))throw new l(f.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");qa(h,y)||h.push(y)}a=new an(h),u=s.fieldTransforms.filter((function(t){return a.He(t.field)}))}else a=null,u=s.fieldTransforms;return new Aa(new Sn(c),a,u)}function Ra(t,e,n,r){var i=t.v_(1,e,n);Ua("Data must be an object, but it was:",i,r);var o=[],s=new Nn;E(r,(function(t,r){var a=ja(e,t,n),u=i.V_(a);if(r instanceof pa&&r.o_ instanceof da)o.push(a);else{var c=Pa(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new an(o);return new Sa(s.Je(),a,i.fieldTransforms)}function Ca(t,e,n,r,i,o){var s=t.v_(1,e,n),a=[Va(e,r,n)],u=[i];if(o.length%2!=0)throw new l(f.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Va(e,o[c])),u.push(o[c+1]);for(var h=[],p=new Nn,d=a.length-1;d>=0;--d)if(!qa(h,a[d])){var v=a[d],y=u[d],g=s.V_(v);if(y instanceof pa&&y.o_ instanceof da)h.push(v);else{var m=Pa(y,g);null!=m&&(h.push(v),p.set(v,m))}}var b=new an(h);return new Sa(p.Je(),b,s.fieldTransforms)}function La(t,e,n,r){return void 0===r&&(r=!1),Pa(n,t.v_(r?4:3,e))}function Pa(t,e){if(Ma(t))return Ua("Unsupported field value:",e,t),xa(t,e);if(t instanceof pa)return function(t,e){if(!Na(e.u_))throw e.h_(t.a_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.a_+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.u_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Pa(o[i],e.p_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return we(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ut.fromDate(t);return{timestampValue:_e(e.serializer,n)}}if(t instanceof ut){var r=new ut(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_e(e.serializer,r)}}if(t instanceof Ia)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof et)return{bytesValue:Ie(e.serializer,t.q)};if(t instanceof Ta){var i=e.U,o=t.T_;if(!o.isEqual(i))throw e.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ae(t.T_||e.U,t.E_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+B(t))}(t,e)}function xa(t,e){var n={};return T(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):E(t,(function(t,r){var i=Pa(r,e.g_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ma(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Ia||t instanceof et||t instanceof Ta||t instanceof pa)}function Ua(t,e,n){if(!Ma(n)||!q(n)){var r=B(n);throw"an object"===r?e.h_(t+" a custom object"):e.h_(t+" "+r)}}function Va(t,e,n){if(e instanceof ha)return e.r_;if("string"==typeof e)return ja(t,e);throw Fa("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function ja(t,e,n){try{return function(t){if(t.search(la)>=0)throw new l(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(fa.bind.apply(fa,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new l(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).r_}catch(e){throw Fa((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Fa(t,e,n,r,i){var o=r&&!r.m(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new l(f.INVALID_ARGUMENT,(a+=". ")+t+u)}function qa(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ba=function(){function t(t){this.Hu=t,this.S_=new Map,this.mutations=[],this.D_=!1,this.C_=null,this.N_=new Set}return t.prototype.F_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.x_(),this.mutations.length>0)throw new l(f.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=Re(n.serializer)+"/documents",o={documents:e.map((function(t){return Ne(n.serializer,t)}))},[4,n.Lu("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){w(!!e.found),e.found.name,e.found.updateTime;var n=ke(t,e.found.name),r=Te(e.found.updateTime),i=new Sn({mapValue:{fields:e.found.fields}});return new On(n,r,i,{})}(t,e):"missing"in e?function(t,e){w(!!e.missing),w(!!e.readTime);var n=ke(t,e.missing),r=Te(e.readTime);return new Rn(n,r)}(t,e):b()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());w(!!e),u.push(e)})),u)]}}))}))}(this.Hu,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof Rn||t instanceof On?n.k_(t):b()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.A_(t,this.Ke(t))),this.N_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.A_(t,this.M_(t)))}catch(t){this.C_=t}this.N_.add(t.toString())},t.prototype.delete=function(t){this.write([new Tn(t,this.Ke(t))]),this.N_.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.x_(),this.C_)throw this.C_;return t=this.S_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=D.D(n);e.mutations.push(new An(r,e.Ke(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=Re(n.serializer)+"/documents",o={writes:e.map((function(t){return Pe(n.serializer,t)}))},[4,n.Ou("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.Hu,this.mutations)];case 1:return n.sent(),this.D_=!0,[2]}}))}))},t.prototype.k_=function(t){var e;if(t instanceof On)e=t.version;else{if(!(t instanceof Rn))throw b();e=ct.min()}var n=this.S_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new l(f.ABORTED,"Document version changed between two reads.")}else this.S_.set(t.key.toString(),e)},t.prototype.Ke=function(t){var e=this.S_.get(t.toString());return!this.N_.has(t.toString())&&e?hn.updateTime(e):hn.Ge()},t.prototype.M_=function(t){var e=this.S_.get(t.toString());if(!this.N_.has(t.toString())&&e){if(e.isEqual(ct.min()))throw new l(f.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hn.updateTime(e)}return hn.exists(!0)},t.prototype.write=function(t){this.x_(),this.mutations=this.mutations.concat(t)},t.prototype.x_=function(){},t}(),Ga=function(){function t(t,e,n,r){this.os=t,this.Hu=e,this.updateFunction=n,this.hs=r,this.O_=5,this.gs=new vr(this.os,"transaction_retry")}return t.prototype.run=function(){this.L_()},t.prototype.L_=function(){var t=this;this.gs.Rn((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new Ba(this.Hu),(e=this.B_(t))&&e.then((function(e){n.os.ds((function(){return t.commit().then((function(){n.hs.resolve(e)})).catch((function(t){n.q_(t)}))}))})).catch((function(t){n.q_(t)})),[2]}))}))}))},t.prototype.B_=function(t){try{var e=this.updateFunction(t);return!ht(e)&&e.catch&&e.then?e:(this.hs.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.hs.reject(t),null}},t.prototype.q_=function(t){var e=this;this.O_>0&&this.U_(t)?(this.O_-=1,this.os.ds((function(){return e.L_(),Promise.resolve()}))):this.hs.reject(t)},t.prototype.U_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!It(e)}return!1},t}(),za=function(){function t(t,e){this.credentials=t,this.os=e,this.clientId=Q.k(),this.Q_=new dr}return t.prototype.start=function(t,e,n,i){var o=this;this.W_(),this.Dl=t;var s=new dr,a=!1;return this.credentials.Jc((function(t){if(!a)return a=!0,v("FirestoreClient","Initializing. user=",t.uid),o.j_(e,n,i,t,s).then(o.Q_.resolve,o.Q_.reject);o.os.Ds((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=_(t)).os.Fs(),v("RemoteStore","RemoteStore received new credentials"),i=Qo(n),n.Zu.add(3),[4,Bo(n)];case 1:return r.sent(),i&&n.rh.set("Unknown"),[4,n.th.n_(e)];case 2:return r.sent(),n.Zu.delete(3),[4,qo(n)];case 3:return r.sent(),[2]}}))}))}(o.Sh,t)}))})),this.os.ds((function(){return o.Q_.promise})),s.promise},t.prototype.enableNetwork=function(){var t=this;return this.W_(),this.os.enqueue((function(){return t.persistence.sc(!0),Fo(t.Sh)}))},t.prototype.j_=function(t,e,n,i,o){return r.__awaiter(this,void 0,void 0,(function(){var s,a,u=this;return r.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),s={os:this.os,Dl:this.Dl,clientId:this.clientId,credentials:this.credentials,Gl:i,Ch:100,Hl:n},[4,t.initialize(s)];case 1:return c.sent(),[4,e.initialize(t,s)];case 2:return c.sent(),this.persistence=t.persistence,this.Dh=t.Dh,this.zu=t.zu,this.Wl=t.Wl,this.Hu=e.Hu,this.Sh=e.Sh,this._i=e._i,this.K_=e.t_,this.K_.qs=gs.bind(null,this._i),this.K_.Ws=bs.bind(null,this._i),this.persistence.nc((function(){return r.__awaiter(u,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(a=c.sent(),o.reject(a),!this.G_(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.j_(new oa,new aa,{zl:!1},i,o))];case 4:return[2]}}))}))},t.prototype.G_=function(t){return"FirebaseError"===t.name?t.code===f.FAILED_PRECONDITION||t.code===f.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.W_=function(){if(this.os.Vs)throw new l(f.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.W_(),this.os.enqueue((function(){return t.persistence.sc(!1),function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=_(t)).Zu.add(0),[4,Bo(e)];case 1:return n.sent(),e.rh.set("Offline"),[2]}}))}))}(t.Sh)}))},t.prototype.terminate=function(){var t=this;this.os.Ss();var e=new dr;return this.os.ps((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.Wl&&this.Wl.stop(),[4,Go(this.Sh)];case 1:return r.sent(),[4,this.Dh.Si()];case 2:return r.sent(),[4,this.persistence.Si()];case 3:return r.sent(),this.credentials.Xc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=Or(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.W_();var e=new dr;return this.os.ds((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:Qo((n=_(t)).Sh)||v("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=_(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.vr.Bo(t)}))}(n.zu)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Bh.get(i)||[]).push(e),n.Bh.set(i,o),[3,4]);case 3:return s=r.sent(),a=Or(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}(t._i,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.W_();var i=new ca(n),o=new jr(t,i,e);return this.os.ds((function(){return Lr(r.K_,o)})),function(){i.i_(),r.os.ds((function(){return Pr(r.K_,o)}))}},t.prototype.z_=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.W_(),[4,this.Q_.promise];case 1:return[2,(e.sent(),function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o=this;return r.__generator(this,(function(s){switch(s.label){case 0:return i=new dr,[4,t.enqueue((function(){return r.__awaiter(o,void 0,void 0,(function(){var t,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=_(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.$c.Dr(t,e)}))}(e,n)];case 1:return(t=r.sent())instanceof On?i.resolve(t):t instanceof Rn?i.resolve(null):i.reject(new l(f.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),s=Or(o,"Failed to get document '"+n+" from cache"),i.reject(s),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(s.sent(),i.promise)]}}))}))}(this.os,this.zu,t))]}}))}))},t.prototype.H_=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.W_(),[4,this.Q_.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new dr,o=Ha(t,e,Mn(n.path),{includeMetadataChanges:!0,Js:!0},{next:function(t){o();var e=t.docs.has(n);!e&&t.fromCache?i.reject(new l(f.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&r&&"server"===r.source?i.reject(new l(f.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.os,this.K_,t,e))]}}))}))},t.prototype.Y_=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.W_(),[4,this.Q_.promise];case 1:return[2,(e.sent(),function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o=this;return r.__generator(this,(function(s){switch(s.label){case 0:return i=new dr,[4,t.enqueue((function(){return r.__awaiter(o,void 0,void 0,(function(){var t,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,To(e,n,!0)];case 1:return t=r.sent(),o=new ps(n,t.kc),s=o.Th(t.documents),a=o.gr(s,!1),i.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),c=Or(u,"Failed to execute query '"+n+" against cache"),i.reject(c),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(s.sent(),i.promise)]}}))}))}(this.os,this.zu,t))]}}))}))},t.prototype.J_=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.W_(),[4,this.Q_.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new dr,o=Ha(t,e,n,{includeMetadataChanges:!0,Js:!0},{next:function(t){o(),t.fromCache&&r&&"server"===r.source?i.reject(new l(f.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.os,this.K_,t,e))]}}))}))},t.prototype.write=function(t){var e=this;this.W_();var n=new dr;return this.os.ds((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:(i=zs(t)).Wh("write()"),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=_(t),i=ut.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Mt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.$c.$r(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],h=vn(c,n.get(c.key));null!=h&&s.push(new bn(c.key,h,kn(h.proto.mapValue),hn.exists(!0)))}return r.vr.xo(t,i,s,e)}))})).then((function(t){var e=t.hr(n);return{batchId:t.batchId,dr:e}}))}(i.zu,e)];case 2:return o=r.sent(),i.Dh.Fi(o.batchId),function(t,e,n){var r=t.Lh[t.currentUser.Zs()];r||(r=new Tt(J)),r=r.rt(e,n),t.Lh[t.currentUser.Zs()]=r}(i,o.batchId,n),[4,Cs(i,o.dr)];case 3:return r.sent(),[4,rs(i.Sh)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=Or(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}(e._i,t,n)})),n.promise},t.prototype.U=function(){return this.Dl.U},t.prototype.X_=function(t){var e=this;this.W_();var n=new ca(t);return this.os.ds((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){_(t).Bs.add(e),e.next()}(this.K_,n)]}))}))})),function(){n.i_(),e.os.ds((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){_(t).Bs.delete(e)}(this.K_,n)]}))}))}))}},Object.defineProperty(t.prototype,"Z_",{get:function(){return this.os.Vs},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.W_();var n=new dr;return this.os.ds((function(){return new Ga(e.os,e.Hu,t,n).run(),Promise.resolve()})),n.promise},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t,e,n,r,i){var o=new ca(i),s=new jr(n,o,r);return t.ds((function(){return Lr(e,s)})),function(){o.i_(),t.ds((function(){return Pr(e,s)}))}}var Wa=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.tf=n,this.ef=r,this.nf=i}return t.prototype.sf=function(t){switch(te(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ae(t.integerValue||t.doubleValue);case 3:return this.if(t.timestampValue);case 4:return this.rf(t);case 5:return t.stringValue;case 6:return this.nf(ue(t.bytesValue));case 7:return this.af(t.referenceValue);case 8:return this.cf(t.geoPointValue);case 9:return this.uf(t.arrayValue);case 10:return this.hf(t.mapValue);default:throw b()}},t.prototype.hf=function(t){var e=this,n={};return E(t.fields||{},(function(t,r){n[t]=e.sf(r)})),n},t.prototype.cf=function(t){return new Ia(ae(t.latitude),ae(t.longitude))},t.prototype.uf=function(t){var e=this;return(t.values||[]).map((function(t){return e.sf(t)}))},t.prototype.rf=function(t){switch(this.tf){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Jt(n)?t(n):n}(t);return null==e?null:this.sf(e);case"estimate":return this.if($t(t));default:return null}},t.prototype.if=function(t){var e=se(t),n=new ut(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.af=function(t){var e=S.P(t);w(Ke(e));var n=new st(e.get(1),e.get(3)),r=new D(e.u(5));return n.isEqual(this.U)||y("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.ef(r)},t}(),Ka=ui.uo,Xa=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new l(f.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else M("settings","non-empty string","host",t.host),this.host=t.host,U("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(z("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),U("settings","object","credentials",t.credentials),this.credentials=t.credentials,U("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),U("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?y("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&y("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,U("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=ui.lo;else{if(t.cacheSizeBytes!==Ka&&t.cacheSizeBytes<ui.ho)throw new l(f.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ui.ho);this.cacheSizeBytes=t.cacheSizeBytes}U("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ya=function(){function t(e,n,i,o){var s=this;if(void 0===i&&(i=new oa),void 0===o&&(o=new aa),this.lf=i,this._f=o,this.ff=null,this.df=new Dr,this.INTERNAL={delete:function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.wf(),[4,this.mf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.ff=a,this.T_=t.Tf(a),this.Ef=a.name,this.If=new Ro(n)}else{var u=e;if(!u.projectId)throw new l(f.INVALID_ARGUMENT,"Must provide projectId");this.T_=new st(u.projectId,u.database),this.Ef="[DEFAULT]",this.If=new Oo}this.Af=new Xa({})}return Object.defineProperty(t.prototype,"Rf",{get:function(){return this.Pf||(this.Pf=new Da(this.T_,this.Af.ignoreUndefinedProperties)),this.Pf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){R("Firestore.settings",arguments,1),P("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.Af),t)).merge;var e=new Xa(t);if(this.mf&&!this.Af.isEqual(e))throw new l(f.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Af=e,void 0!==e.credentials&&(this.If=function(t){if(!t)return new Oo;switch(t.type){case"gapi":var e=t.gf;return w(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Lo(e,t.iu||"0");case"provider":return t.gf;default:throw new l(f.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.wf(),this.mf.enableNetwork()},t.prototype.disableNetwork=function(){return this.wf(),this.mf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.mf)throw new l(f.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&y("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new l(f.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.yf(this.lf,this._f,{zl:!0,cacheSizeBytes:this.Af.cacheSizeBytes,synchronizeTabs:r,La:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.mf&&!this.mf.Z_)throw new l(f.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new dr,[2,(this.df.ps((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.lf.clearPersistence(this.T_,this.Ef)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Vf",{get:function(){return this.wf(),this.mf.Z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.wf(),this.mf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.wf(),ua(t))return this.mf.X_(t);P("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.mf.X_(e)},t.prototype.wf=function(){return this.mf||this.yf(new oa,new aa,{zl:!1}),this.mf},t.prototype.pf=function(){return new ot(this.T_,this.Ef,this.Af.host,this.Af.ssl,this.Af.experimentalForceLongPolling)},t.prototype.yf=function(t,e,n){var r=this.pf();return this.mf=new za(this.If,this.df),this.mf.start(r,t,e,n)},t.Tf=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new l(f.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(!n||"string"!=typeof n)throw new l(f.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new st(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ff)throw new l(f.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ff},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return R("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,t),this.wf(),new hu(S.P(t),this,null)},t.prototype.doc=function(t){return R("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,t),this.wf(),$a.bf(S.P(t),this,null)},t.prototype.collectionGroup=function(t){if(R("Firestore.collectionGroup",arguments,1),P("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new l(f.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.wf(),new uu(function(t){return new Pn(S.g(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return R("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,t),this.wf().transaction((function(n){return t(new Qa(e,n))}))},t.prototype.batch=function(){return this.wf(),new Ja(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;R("Firestore.setLogLevel",arguments,1),j("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,p.setLogLevel(e)},t.prototype.vf=function(){return this.Af.timestampsInSnapshots},t.prototype.Sf=function(){return this.Af},t}(),Qa=function(){function t(t,e){this.Df=t,this.Cf=e}return t.prototype.get=function(t){var e=this;R("Transaction.get",arguments,1);var n=du("Transaction.get",t,this.Df);return this.Cf.F_([n.E_]).then((function(t){if(!t||1!==t.length)return b();var r=t[0];if(r instanceof Rn)return new tu(e.Df,n.E_,null,!1,!1,n.I_);if(r instanceof On)return new tu(e.Df,n.E_,r,!1,!1,n.I_);throw b()}))},t.prototype.set=function(t,e,n){L("Transaction.set",arguments,2,3);var r=du("Transaction.set",t,this.Df);n=fu("Transaction.set",n);var i=yu(r.I_,e,n),o=Oa(this.Df.Rf,"Transaction.set",r.E_,i,null!==r.I_,n);return this.Cf.set(r.E_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof fa?(C("Transaction.update",arguments,3),r=du("Transaction.update",t,this.Df),i=Ca(this.Df.Rf,"Transaction.update",r.E_,e,n,o)):(R("Transaction.update",arguments,2),r=du("Transaction.update",t,this.Df),i=Ra(this.Df.Rf,"Transaction.update",r.E_,e)),this.Cf.update(r.E_,i),this},t.prototype.delete=function(t){R("Transaction.delete",arguments,1);var e=du("Transaction.delete",t,this.Df);return this.Cf.delete(e.E_),this},t}(),Ja=function(){function t(t){this.Df=t,this.Nf=[],this.Ff=!1}return t.prototype.set=function(t,e,n){L("WriteBatch.set",arguments,2,3),this.$f();var r=du("WriteBatch.set",t,this.Df);n=fu("WriteBatch.set",n);var i=yu(r.I_,e,n),o=Oa(this.Df.Rf,"WriteBatch.set",r.E_,i,null!==r.I_,n);return this.Nf=this.Nf.concat(o.A_(r.E_,hn.Ge())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.$f(),"string"==typeof e||e instanceof fa?(C("WriteBatch.update",arguments,3),r=du("WriteBatch.update",t,this.Df),i=Ca(this.Df.Rf,"WriteBatch.update",r.E_,e,n,o)):(R("WriteBatch.update",arguments,2),r=du("WriteBatch.update",t,this.Df),i=Ra(this.Df.Rf,"WriteBatch.update",r.E_,e)),this.Nf=this.Nf.concat(i.A_(r.E_,hn.exists(!0))),this},t.prototype.delete=function(t){R("WriteBatch.delete",arguments,1),this.$f();var e=du("WriteBatch.delete",t,this.Df);return this.Nf=this.Nf.concat(new Tn(e.E_,hn.Ge())),this},t.prototype.commit=function(){return this.$f(),this.Ff=!0,this.Nf.length>0?this.Df.wf().write(this.Nf):Promise.resolve()},t.prototype.$f=function(){if(this.Ff)throw new l(f.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),$a=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.T_,e,r)||this).E_=e,i.firestore=n,i.I_=r,i.mf=i.firestore.wf(),i}return r.__extends(e,t),e.bf=function(t,n,r){if(t.length%2!=0)throw new l(f.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new D(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.E_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new hu(this.E_.path.h(),this.firestore,this.I_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.E_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(R("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,t),!t)throw new l(f.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=S.P(t);return new hu(this.E_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.E_.isEqual(t.E_)&&this.I_===t.I_},e.prototype.set=function(t,e){L("DocumentReference.set",arguments,1,2),e=fu("DocumentReference.set",e);var n=yu(this.I_,t,e),r=Oa(this.firestore.Rf,"DocumentReference.set",this.E_,n,null!==this.I_,e);return this.mf.write(r.A_(this.E_,hn.Ge()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof fa?(C("DocumentReference.update",arguments,2),n=Ca(this.firestore.Rf,"DocumentReference.update",this.E_,t,e,r)):(R("DocumentReference.update",arguments,1),n=Ra(this.firestore.Rf,"DocumentReference.update",this.E_,t)),this.mf.write(n.A_(this.E_,hn.exists(!0)))},e.prototype.delete=function(){return R("DocumentReference.delete",arguments,0),this.mf.write([new Tn(this.E_,hn.Ge())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];L("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||ua(i[a])||(z("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),U("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(ua(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else P("DocumentReference.onSnapshot","function",a,i[a]),x("DocumentReference.onSnapshot","function",a+1,i[a+1]),x("DocumentReference.onSnapshot","function",a+2,i[a+2]);var h={next:function(t){i[a]&&i[a](r.xf(t))},error:i[a+1],complete:i[a+2]};return this.mf.listen(Mn(this.E_.path),u,h)},e.prototype.get=function(t){var e=this;L("DocumentReference.get",arguments,0,1),pu("DocumentReference.get",t);var n=this.firestore.wf();return t&&"cache"===t.source?n.z_(this.E_).then((function(t){return new tu(e.firestore,e.E_,t,!0,t instanceof On&&t.Ye,e.I_)})):n.H_(this.E_,t).then((function(t){return e.xf(t)}))},e.prototype.withConverter=function(t){return new e(this.E_,this.firestore,t)},e.prototype.xf=function(t){var e=t.docs.get(this.E_);return new tu(this.firestore,this.E_,e,t.fromCache,t.hasPendingWrites,this.I_)},e}(Ta),Za=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),tu=function(){function t(t,e,n,r,i,o){this.Df=t,this.E_=e,this.kf=n,this.Mf=r,this.Of=i,this.I_=o}return t.prototype.data=function(t){var e=this;if(L("DocumentSnapshot.data",arguments,0,1),t=lu("DocumentSnapshot.data",t),this.kf){if(this.I_){var n=new eu(this.Df,this.E_,this.kf,this.Mf,this.Of,null);return this.I_.fromFirestore(n,t)}return new Wa(this.Df.T_,this.Df.vf(),t.serverTimestamps||"none",(function(t){return new $a(t,e.Df,null)}),(function(t){return new it(t)})).sf(this.kf.sn())}},t.prototype.get=function(t,e){var n=this;if(L("DocumentSnapshot.get",arguments,1,2),e=lu("DocumentSnapshot.get",e),this.kf){var r=this.kf.data().field(Va("DocumentSnapshot.get",t,this.E_));if(null!==r)return new Wa(this.Df.T_,this.Df.vf(),e.serverTimestamps||"none",(function(t){return new $a(t,n.Df,n.I_)}),(function(t){return new it(t)})).sf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.E_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new $a(this.E_,this.Df,this.I_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.kf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Za(this.Of,this.Mf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentSnapshot",1,e);return this.Df===e.Df&&this.Mf===e.Mf&&this.E_.isEqual(e.E_)&&(null===this.kf?null===e.kf:this.kf.isEqual(e.kf))&&this.I_===e.I_},t}(),eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(tu);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t,e,n,r,i,o,s){var a;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new l(f.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ou(s,o);for(var u=[],c=0,h=s;c<h.length;c++){var p=h[c];u.push(iu(r,t,p))}a={arrayValue:{values:u}}}else a=iu(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ou(s,o),a=La(n,e,s,"in"===o||"not-in"===o);var d=$n.create(i,o,a);return function(t,e){if(e.un()){var n=Fn(t);if(null!==n&&!n.isEqual(e.field))throw new l(f.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=jn(t);null!==r&&su(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new l(f.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new l(f.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}function ru(t,e,n){if(null!==t.startAt)throw new l(f.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new l(f.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fr(e,n);return function(t,e){if(null===jn(t)){var n=Fn(t);null!==n&&su(t,n,e.field)}}(t,r),r}function iu(t,e,n){if("string"==typeof n){if(""===n)throw new l(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qn(e)&&-1!==n.indexOf("/"))throw new l(f.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(S.P(n));if(!D.F(r))throw new l(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ce(t,new D(r))}if(n instanceof Ta)return ce(t,n.E_);throw new l(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+B(n)+".")}function ou(t,e){if(!Array.isArray(t)||0===t.length)throw new l(f.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new l(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new l(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new l(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function su(t,e,n){if(!n.isEqual(e))throw new l(f.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function au(t){if(Vn(t)&&0===t.rn.length)throw new l(f.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uu=function(){function t(t,e,n){this.Lf=t,this.firestore=e,this.I_=n}return t.prototype.where=function(e,n,r){var i;R("Query.where",arguments,3),G("Query.where",3,r),i="not-in"===n||"!="===n?n:j("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n);var o=Va("Query.where",e),s=nu(this.Lf,"Query.where",this.firestore.Rf,this.firestore.T_,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new Pn(t.path,t.collectionGroup,t.rn.slice(),n,t.limit,t.on,t.startAt,t.endAt)}(this.Lf,s),this.firestore,this.I_)},t.prototype.orderBy=function(e,n){var r;if(L("Query.orderBy",arguments,1,2),x("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new l(f.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Va("Query.orderBy",e),o=ru(this.Lf,i,r);return new t(function(t,e){var n=t.rn.concat([e]);return new Pn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.on,t.startAt,t.endAt)}(this.Lf,o),this.firestore,this.I_)},t.prototype.limit=function(e){return R("Query.limit",arguments,1),P("Query.limit","number",1,e),W("Query.limit",1,e),new t(zn(this.Lf,e,"F"),this.firestore,this.I_)},t.prototype.limitToLast=function(e){return R("Query.limitToLast",arguments,1),P("Query.limitToLast","number",1,e),W("Query.limitToLast",1,e),new t(zn(this.Lf,e,"L"),this.firestore,this.I_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];C("Query.startAt",arguments,1);var i=this.Bf("Query.startAt",e,n,!0);return new t(Hn(this.Lf,i),this.firestore,this.I_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];C("Query.startAfter",arguments,1);var i=this.Bf("Query.startAfter",e,n,!1);return new t(Hn(this.Lf,i),this.firestore,this.I_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];C("Query.endBefore",arguments,1);var i=this.Bf("Query.endBefore",e,n,!0);return new t(Wn(this.Lf,i),this.firestore,this.I_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];C("Query.endAt",arguments,1);var i=this.Bf("Query.endAt",e,n,!1);return new t(Wn(this.Lf,i),this.firestore,this.I_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","Query",1,e);return this.firestore===e.firestore&&Kn(this.Lf,e.Lf)&&this.I_===e.I_},t.prototype.withConverter=function(e){return new t(this.Lf,this.firestore,e)},t.prototype.Bf=function(t,e,n,i){if(G(t,1,e),e instanceof tu)return R(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new l(f.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Bn(t);s<a.length;s++){var u=a[s];if(u.field.p())o.push(ce(e,r.key));else{var c=r.field(u.field);if(Jt(c))throw new l(f.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.R();throw new l(f.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ar(o,i)}(this.Lf,this.firestore.T_,t,e.kf,i);var o=[e].concat(n);return function(t,e,n,r,i,o){var s=t.rn;if(i.length>s.length)throw new l(f.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.p()){if("string"!=typeof c)throw new l(f.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!qn(t)&&-1!==c.indexOf("/"))throw new l(f.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(S.P(c));if(!D.F(h))throw new l(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var p=new D(h);a.push(ce(e,p))}else{var d=La(n,r,c);a.push(d)}}return new ar(a,o)}(this.Lf,this.firestore.T_,this.firestore.Rf,t,o,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];L("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||ua(i[a])||(z("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),U("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),ua(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else P("Query.onSnapshot","function",a,i[a]),x("Query.onSnapshot","function",a+1,i[a+1]),x("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new cu(r.firestore,r.Lf,t,r.I_))},error:i[a+1],complete:i[a+2]};return au(this.Lf),this.firestore.wf().listen(this.Lf,s,c)},t.prototype.get=function(t){var e=this;L("Query.get",arguments,0,1),pu("Query.get",t),au(this.Lf);var n=this.firestore.wf();return(t&&"cache"===t.source?n.Y_(this.Lf):n.J_(this.Lf,t)).then((function(t){return new cu(e.firestore,e.Lf,t,e.I_)}))},t}(),cu=function(){function t(t,e,n,r){this.Df=t,this.qf=e,this.Uf=n,this.I_=r,this.Qf=null,this.Wf=null,this.metadata=new Za(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Uf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Uf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;L("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,t),this.Uf.docs.forEach((function(r){t.call(e,n.jf(r,n.metadata.fromCache,n.Uf.Qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new uu(this.qf,this.Df,this.I_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(z("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),U("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Uf.jt)throw new l(f.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Qf&&this.Wf===e||(this.Qf=function(t,e,n){if(t.Ut.m()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Qt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Ut;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:vu(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.Uf,e,this.jf.bind(this)),this.Wf=e),this.Qf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","QuerySnapshot",1,e);return this.Df===e.Df&&Kn(this.qf,e.qf)&&this.Uf.isEqual(e.Uf)&&this.I_===e.I_},t.prototype.jf=function(t,e,n){return new eu(this.Df,t.key,t,e,n,this.I_)},t}(),hu=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Mn(e),n,r)||this).Kf=e,e.length%2!=1)throw new l(f.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Lf.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Lf.path.h();return t.m()?null:new $a(new D(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Lf.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){L("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Q.k()),P("CollectionReference.doc","non-empty string",1,t);var e=S.P(t);return $a.bf(this.Lf.path.child(e),this.firestore,this.I_)},e.prototype.add=function(t){R("CollectionReference.add",arguments,1),P("CollectionReference.add","object",1,this.I_?this.I_.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Kf,this.firestore,t)},e}(uu);function fu(t,e){if(void 0===e)return{merge:!1};if(z(t,e,["merge","mergeFields"]),U(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new l(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+B(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new l(f.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+B(r[o]))}(t,e,n,r,i)}(t,"mergeFields","a string or a FieldPath",e.mergeFields,(function(t){return"string"==typeof t||t instanceof fa})),void 0!==e.mergeFields&&void 0!==e.merge)throw new l(f.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function lu(t,e){return void 0===e?{}:(z(t,e,["serverTimestamps"]),V(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function pu(t,e){x(t,"object",1,e),e&&(z(t,e,["source"]),V(t,0,"source",e.source,["default","server","cache"]))}function du(t,e,n){if(e instanceof Ta){if(e.firestore!==n)throw new l(f.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw H(t,"DocumentReference",1,e)}function vu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return b()}}function yu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var gu={Firestore:Ya,GeoPoint:Ia,Timestamp:ut,Blob:it,Transaction:Qa,WriteBatch:Ja,DocumentReference:$a,DocumentSnapshot:tu,Query:uu,QueryDocumentSnapshot:eu,QuerySnapshot:cu,CollectionReference:hu,FieldPath:fa,FieldValue:wa,setLogLevel:Ya.setLogLevel,CACHE_SIZE_UNLIMITED:Ka};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){var n=new aa,r=new sa(n);return new Ya(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},gu)))}(t),t.registerVersion("@firebase/firestore","1.16.7")}mu(h.default),e.__PRIVATE_registerFirestore=mu}).call(this,n("4362"))}}]);
//# sourceMappingURL=chunk-0844d370.6a174972.js.map