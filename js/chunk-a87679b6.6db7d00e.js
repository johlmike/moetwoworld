(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a87679b6"],{"06c5":function(t,a,n){"use strict";n.d(a,"a",(function(){return e}));var r=n("6b75");function e(t,a){if(t){if("string"===typeof t)return Object(r["a"])(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(t,a):void 0}}},"17c2":function(t,a,n){"use strict";var r=n("b727").forEach,e=n("a640"),o=n("ae40"),s=e("forEach"),i=o("forEach");t.exports=s&&i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,a,n){var r=n("d039"),e=n("b622"),o=n("2d00"),s=e("species");t.exports=function(t){return o>=51||!r((function(){var a=[],n=a.constructor={};return n[s]=function(){return{foo:1}},1!==a[t](Boolean).foo}))}},4160:function(t,a,n){"use strict";var r=n("23e7"),e=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=e},{forEach:e})},"4de4":function(t,a,n){"use strict";var r=n("23e7"),e=n("b727").filter,o=n("1dde"),s=n("ae40"),i=o("filter"),c=s("filter");r({target:"Array",proto:!0,forced:!i||!c},{filter:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(t,a,n){var r=n("861d"),e=n("e8b5"),o=n("b622"),s=o("species");t.exports=function(t,a){var n;return e(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!e(n.prototype)?r(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===a?0:a)}},"6b75":function(t,a,n){"use strict";function r(t,a){(null==a||a>t.length)&&(a=t.length);for(var n=0,r=new Array(a);n<a;n++)r[n]=t[n];return r}n.d(a,"a",(function(){return r}))},"6d4a":function(t,a,n){"use strict";var r=n("714f"),e=n.n(r);e.a},"714f":function(t,a,n){},"7db0":function(t,a,n){"use strict";var r=n("23e7"),e=n("b727").find,o=n("44d2"),s=n("ae40"),i="find",c=!0,u=s(i);i in[]&&Array(1)[i]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!u},{find:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),o(i)},8418:function(t,a,n){"use strict";var r=n("c04e"),e=n("9bf2"),o=n("5c6c");t.exports=function(t,a,n){var s=r(a);s in t?e.f(t,s,o(0,n)):t[s]=n}},"99af":function(t,a,n){"use strict";var r=n("23e7"),e=n("d039"),o=n("e8b5"),s=n("861d"),i=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),f=n("1dde"),d=n("b622"),h=n("2d00"),p=d("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",m=h>=51||!e((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=f("concat"),C=function(t){if(!s(t))return!1;var a=t[p];return void 0!==a?!!a:o(t)},w=!m||!g;r({target:"Array",proto:!0,forced:w},{concat:function(t){var a,n,r,e,o,s=i(this),f=l(s,0),d=0;for(a=-1,r=arguments.length;a<r;a++)if(o=-1===a?s:arguments[a],C(o)){if(e=c(o.length),d+e>v)throw TypeError(b);for(n=0;n<e;n++,d++)n in o&&u(f,d,o[n])}else{if(d>=v)throw TypeError(b);u(f,d++,o)}return f.length=d,f}})},"9b19":function(t,a,n){t.exports=n.p+"img/logo.550f5d06.svg"},a640:function(t,a,n){"use strict";var r=n("d039");t.exports=function(t,a){var n=[][t];return!!n&&r((function(){n.call(null,a||function(){throw 1},1)}))}},ab07:function(t,a,n){"use strict";var r=n("ae0f"),e=n.n(r);e.a},ae0f:function(t,a,n){},ae40:function(t,a,n){var r=n("83ab"),e=n("d039"),o=n("5135"),s=Object.defineProperty,i={},c=function(t){throw t};t.exports=function(t,a){if(o(i,t))return i[t];a||(a={});var n=[][t],u=!!o(a,"ACCESSORS")&&a.ACCESSORS,l=o(a,0)?a[0]:c,f=o(a,1)?a[1]:void 0;return i[t]=!!n&&!e((function(){if(u&&!r)return!0;var t={length:-1};u?s(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,l,f)}))}},b727:function(t,a,n){var r=n("0366"),e=n("44ad"),o=n("7b0b"),s=n("50c4"),i=n("65f0"),c=[].push,u=function(t){var a=1==t,n=2==t,u=3==t,l=4==t,f=6==t,d=5==t||f;return function(h,p,v,b){for(var m,g,C=o(h),w=e(C),_=r(p,v,3),y=s(w.length),k=0,$=b||i,x=a?$(h,y):n?$(h,0):void 0;y>k;k++)if((d||k in w)&&(m=w[k],g=_(m,k,C),t))if(a)x[k]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return k;case 2:c.call(x,m)}else if(l)return!1;return f?-1:u||l?l:x}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c469:function(t,a,n){t.exports=n.p+"img/萌兔窩@LOGO.46e0b47f.svg"},cdcd:function(t,a,n){},d169:function(t,a,n){"use strict";var r=n("cdcd"),e=n.n(r);e.a},d81d:function(t,a,n){"use strict";var r=n("23e7"),e=n("b727").map,o=n("1dde"),s=n("ae40"),i=o("map"),c=s("map");r({target:"Array",proto:!0,forced:!i||!c},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,a,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},f760:function(t,a,n){"use strict";n.r(a);var r=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"layout"},[n("Navbar",{attrs:{cart:t.cart}}),n("router-view",{staticClass:"view",attrs:{products:t.products,cart:t.cart,coupon:t.coupon}}),n("Footer")],1)},e=[],o=(n("99af"),n("4de4"),n("7db0"),n("4160"),n("d81d"),n("6b75"));function s(t){if(Array.isArray(t))return Object(o["a"])(t)}function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var c=n("06c5");function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return s(t)||i(t)||Object(c["a"])(t)||u()}var f=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("header",[r("nav",{staticClass:"navbar navbar-expand-lg"},[r("router-link",{staticClass:"mobile navbar-brand",attrs:{to:"/"}},[r("img",{attrs:{src:n("9b19"),alt:"萌兔窩"}})]),r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fas","bars"]}})],1),r("div",{staticClass:"collapse navbar-collapse nav-area",attrs:{id:"navbarSupportedContent"}},[r("div",{staticClass:"left nav-block"},[r("router-link",{attrs:{to:"/",exact:""},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.isActive,e=a.href;return[r("a",{staticClass:"nav-link mb-sm-0 mb-2",class:{"is-active":n},attrs:{href:e},on:{click:t.hideNavbar}},[r("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fas","home"]}}),r("span",[t._v("回首頁")]),n?r("span",{staticClass:"sr-only"},[t._v("(current)")]):t._e()],1)]}}])}),r("router-link",{attrs:{to:"/products"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.isActive,e=a.href;return[r("a",{staticClass:"nav-link mb-sm-0 mb-2",class:{"is-active":n},attrs:{href:e},on:{click:t.hideNavbar}},[r("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fas","newspaper"]}}),r("span",[t._v("商品列表")]),n?r("span",{staticClass:"sr-only"},[t._v("(current)")]):t._e()],1)]}}])}),r("router-link",{attrs:{to:"/news"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.isActive,e=a.href;return[r("a",{staticClass:"nav-link mb-sm-0 mb-2",class:{"is-active":n},attrs:{href:e},on:{click:t.hideNavbar}},[r("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fas","bullhorn"]}}),r("span",[t._v("最新消息")]),n?r("span",{staticClass:"sr-only"},[t._v("(current)")]):t._e()],1)]}}])})],1),r("router-link",{staticClass:"desktop navbar-brand",attrs:{to:"/"}},[r("img",{attrs:{src:n("9b19"),alt:"萌兔窩"}})]),r("div",{staticClass:"right nav-block"},[r("router-link",{attrs:{to:"/academy"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.isActive,e=a.href;return[r("a",{staticClass:"nav-link mb-sm-0 mb-2",class:{"is-active":n},attrs:{href:e},on:{click:t.hideNavbar}},[r("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fas","school"]}}),r("span",[t._v("愛兔學堂")]),n?r("span",{staticClass:"sr-only"},[t._v("(current)")]):t._e()],1)]}}])}),r("router-link",{attrs:{to:"/about"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.isActive,e=a.href;return[r("a",{staticClass:"nav-link mb-sm-0 mb-2",class:{"is-active":n},attrs:{href:e},on:{click:t.hideNavbar}},[r("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fas","carrot"]}}),r("span",[t._v("關於兔窩")]),n?r("span",{staticClass:"sr-only"},[t._v("(current)")]):t._e()],1)]}}])}),r("router-link",{attrs:{to:"/cart"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.isActive,e=a.href;return[r("a",{staticClass:"nav-link cart mb-sm-0 mb-2",class:{"is-active":n},attrs:{href:e},on:{click:t.hideNavbar}},[r("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fas","shopping-cart"]}}),r("span",[t._v("購物車")]),r("span",{staticClass:"badge badge-pill badge-primary"},[t._v(t._s(t.cart.length))]),n?r("span",{staticClass:"sr-only"},[t._v("(current)")]):t._e()],1)]}}])})],1)],1)],1)])},d=[],h=n("fcbc"),p=h["a"],v=(n("ab07"),n("2877")),b=Object(v["a"])(p,f,d,!1,null,"ee9b1dc2",null),m=b.exports,g=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("footer",[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[t._m(0),n("div",{staticClass:"col-sm-4 order-md-1"},[n("p",[n("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fas","phone"]}}),t._v("02-2222-2222")],1),n("p",[n("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fas","envelope"]}}),n("a",{attrs:{href:"mailto:johlmike@gmail.com"}},[t._v("Johlmike@gmail.com")])],1),n("p",[n("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fas","map"]}}),t._v("臺北市萌兔區小鼠路 22 號 2 樓 ")],1)]),n("div",{staticClass:"author col-sm-4 order-md-3 text-md-right"},[n("p",[n("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fas","user"]}}),t._v("Johlmike "),n("a",{staticClass:"author-website",attrs:{href:"https://github.com/johlmike/moetwoworld",target:"_blank",rel:"noopener noreferrer"}},[n("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fab","github"]}})],1),n("a",{staticClass:"author-website",attrs:{href:"https://github.com/johlmike/moetwoworld",target:"_blank",rel:"noopener noreferrer"}},[n("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fab","facebook"]}})],1),n("a",{staticClass:"author-website",attrs:{href:"https://blog.johlmike.com/",target:"_blank",rel:"noopener noreferrer"}},[n("font-awesome-icon",{staticClass:"nav-icon",attrs:{icon:["fab","wordpress-simple"]}})],1)],1),n("p",[t._v("無商業用途，僅供學習使用")]),t._m(1)])])])])},C=[function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"logo col-sm-4 mb-3 order-md-2"},[r("img",{attrs:{src:n("c469"),alt:"萌兔窩"}})])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("p",[t._v(" 商品來源： "),n("a",{attrs:{href:"http://www.bunny-nature.com.tw/",target:"_blank",rel:"noreferrer noopener"}},[t._v("邦尼")]),t._v(" 、 "),n("a",{attrs:{href:"https://www.gex-fp.co.jp/chinese/index.html",target:"_blank",rel:"noreferrer noopener"}},[t._v("GEX")]),t._v(" 、 Marukan ")])}],w={},_=w,y=(n("d169"),Object(v["a"])(_,g,C,!1,null,"109d2b30",null)),k=y.exports,$={components:{Navbar:m,Footer:k},data:function(){return{baseUrl:"https://course-ec-api.hexschool.io/api/",uuid:"0ace4b59-2bf0-443c-968c-4c9a458d1cb9",products:[],totalPage:1,cart:[],coupon:{}}},methods:{getProducts:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.$loading.show(),r="".concat(this.baseUrl).concat(this.uuid,"/ec/products?page=").concat(a);this.axios.get(r).then((function(r){n.hide();var e=r.data.meta.pagination.current_page;if(t.totalPages=r.data.meta.pagination.total_pages,t.products=[].concat(l(t.products),l(r.data.data)),e<t.totalPages)t.getProducts(a+1);else{t.products=t.products.map((function(a){var n=JSON.parse(a.options),r=t._.cloneDeep(a);return r.options=n,r}));var o=[],s=["所有商品","主食飼料","點心零食","營養保健品","居家籠/便盆","木屑/砂"];s.forEach((function(a){o=[].concat(l(o),l(t.products.filter((function(t){return t.category===a}))))})),t.products=t._.cloneDeep(o)}})).catch((function(){n.hide()}))},getCart:function(){var t=this,a=this.$loading.show(),n="".concat(this.baseUrl).concat(this.uuid,"/ec/shopping");this.axios.get(n).then((function(n){a.hide(),t.cart=l(n.data.data)})).catch((function(){a.hide()}))},addCart:function(t,a,n){var r=this,e=this.$loading.show(),o="".concat(this.baseUrl).concat(this.uuid,"/ec/shopping"),s={product:t,quantity:a};if(this.cart.find((function(a){return a.product.id===t}))){e.hide();var i=this.cart.find((function(a){return a.product.id===t})).quantity,c=this.products.find((function(a){return a.id===t})),u=i+a;u>c.options.stock&&(u=c.options.stock),this.updateCart(t,u,n)}else this.axios.post(o,s).then((function(t){e.hide(),r.cart.unshift(r._.cloneDeep(t.data.data)),r.$swal({text:"成功加入購物車",icon:"success"}),n&&n()})).catch((function(){e.hide()}))},updateCart:function(t,a,n){var r=this,e=this.$loading.show(),o="".concat(this.baseUrl).concat(this.uuid,"/ec/shopping"),s=this.cart.find((function(a){return a.product.id===t})),i={product:t,quantity:a};this.axios.patch(o,i).then((function(){e.hide(),s.quantity=i.quantity,r.$swal({text:"成功更新購物車",icon:"success"}),n&&n()})).catch((function(t){e.hide(),"quantity 並沒有任何更改。"===t.response.data.errors[0]&&r.$swal({text:"已達到庫存上限",icon:"warning"})}))},deleteCart:function(t){var a=this,n=this.$loading.show(),r="".concat(this.baseUrl).concat(this.uuid,"/ec/shopping/").concat(t);this.axios.delete(r).then((function(){n.hide(),a.cart=a.cart.filter((function(a){return a.product.id!==t})),a.$swal({text:"刪除成功",icon:"success"})})).catch((function(){n.hide()}))},deleteAllCart:function(){var t=this.$loading.show(),a="".concat(this.baseUrl).concat(this.uuid,"/ec/shopping/all/product");this.axios.delete(a).then((function(){t.hide()})).catch((function(){t.hide()}))},setCoupon:function(t){this.coupon=t},orderSent:function(){this.cart=[],this.coupon={}}},created:function(){this.getProducts(),this.getCart(),this.$bus.$on("getCart",this.getCart),this.$bus.$on("addCart",this.addCart),this.$bus.$on("updateCart",this.updateCart),this.$bus.$on("deleteCart",this.deleteCart),this.$bus.$on("deleteAllCart",this.deleteAllCart),this.$bus.$on("setCoupon",this.setCoupon),this.$bus.$on("orderSent",this.orderSent)},beforeDestroy:function(){this.$bus.$off("getCart"),this.$bus.$off("addCart"),this.$bus.$off("updateCart"),this.$bus.$off("deleteCart"),this.$bus.$off("deleteAllCart"),this.$bus.$off("setCoupon"),this.$bus.$off("orderSent")}},x=$,A=(n("6d4a"),Object(v["a"])(x,r,e,!1,null,"0ce4bbcc",null));a["default"]=A.exports},fcbc:function(t,a,n){"use strict";(function(t){a["a"]={props:{cart:Array},methods:{hideNavbar:function(){t("#navbarSupportedContent").collapse("hide")}}}}).call(this,n("1157"))}}]);
//# sourceMappingURL=chunk-a87679b6.6db7d00e.js.map