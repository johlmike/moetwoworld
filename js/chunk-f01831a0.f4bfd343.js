(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f01831a0"],{"14c3":function(t,e,r){var a=r("c6b6"),n=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var s=r.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"159b":function(t,e,r){var a=r("da84"),n=r("fdbc"),s=r("17c2"),i=r("9112");for(var o in n){var c=a[o],u=c&&c.prototype;if(u&&u.forEach!==s)try{i(u,"forEach",s)}catch(l){u.forEach=s}}},"17c2":function(t,e,r){"use strict";var a=r("b727").forEach,n=r("a640"),s=r("ae40"),i=n("forEach"),o=s("forEach");t.exports=i&&o?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,r){var a=r("d039"),n=r("b622"),s=r("2d00"),i=n("species");t.exports=function(t){return s>=51||!a((function(){var e=[],r=e.constructor={};return r[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"25f0":function(t,e,r){"use strict";var a=r("6eeb"),n=r("825a"),s=r("d039"),i=r("ad6d"),o="toString",c=RegExp.prototype,u=c[o],l=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=u.name!=o;(l||d)&&a(RegExp.prototype,o,(function(){var t=n(this),e=String(t.source),r=t.flags,a=String(void 0===r&&t instanceof RegExp&&!("flags"in c)?i.call(t):r);return"/"+e+"/"+a}),{unsafe:!0})},4160:function(t,e,r){"use strict";var a=r("23e7"),n=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},5319:function(t,e,r){"use strict";var a=r("d784"),n=r("825a"),s=r("7b0b"),i=r("50c4"),o=r("a691"),c=r("1d80"),u=r("8aa5"),l=r("14c3"),d=Math.max,f=Math.min,p=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,r,a){var g=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=a.REPLACE_KEEPS_$0,b=g?"$":"$0";return[function(r,a){var n=c(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,n,a):e.call(String(n),r,a)},function(t,a){if(!g&&x||"string"===typeof a&&-1===a.indexOf(b)){var s=r(e,t,this,a);if(s.done)return s.value}var c=n(t),p=String(this),v="function"===typeof a;v||(a=String(a));var m=c.global;if(m){var _=c.unicode;c.lastIndex=0}var E=[];while(1){var C=l(c,p);if(null===C)break;if(E.push(C),!m)break;var S=String(C[0]);""===S&&(c.lastIndex=u(p,i(c.lastIndex),_))}for(var w="",A=0,P=0;P<E.length;P++){C=E[P];for(var D=String(C[0]),T=d(f(o(C.index),p.length),0),R=[],L=1;L<C.length;L++)R.push(h(C[L]));var $=C.groups;if(v){var k=[D].concat(R,T,p);void 0!==$&&k.push($);var I=String(a.apply(void 0,k))}else I=y(D,p,T,R,$,a);T>=A&&(w+=p.slice(A,T)+I,A=T+D.length)}return w+p.slice(A)}];function y(t,r,a,n,i,o){var c=a+t.length,u=n.length,l=m;return void 0!==i&&(i=s(i),l=v),e.call(o,l,(function(e,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,a);case"'":return r.slice(c);case"<":o=i[s.slice(1,-1)];break;default:var l=+s;if(0===l)return e;if(l>u){var d=p(l/10);return 0===d?e:d<=u?void 0===n[d-1]?s.charAt(1):n[d-1]+s.charAt(1):e}o=n[l-1]}return void 0===o?"":o}))}}))},6547:function(t,e,r){var a=r("a691"),n=r("1d80"),s=function(t){return function(e,r){var s,i,o=String(n(e)),c=a(r),u=o.length;return c<0||c>=u?t?"":void 0:(s=o.charCodeAt(c),s<55296||s>56319||c+1===u||(i=o.charCodeAt(c+1))<56320||i>57343?t?o.charAt(c):s:t?o.slice(c,c+2):i-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},6577:function(t,e,r){"use strict";var a=r("f039"),n=r.n(a);n.a},"65f0":function(t,e,r){var a=r("861d"),n=r("e8b5"),s=r("b622"),i=s("species");t.exports=function(t,e){var r;return n(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?a(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},8418:function(t,e,r){"use strict";var a=r("c04e"),n=r("9bf2"),s=r("5c6c");t.exports=function(t,e,r){var i=a(e);i in t?n.f(t,i,s(0,r)):t[i]=r}},"8aa5":function(t,e,r){"use strict";var a=r("6547").charAt;t.exports=function(t,e,r){return e+(r?a(t,e).length:1)}},9263:function(t,e,r){"use strict";var a=r("ad6d"),n=r("9f7f"),s=RegExp.prototype.exec,i=String.prototype.replace,o=s,c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=n.UNSUPPORTED_Y||n.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],d=c||l||u;d&&(o=function(t){var e,r,n,o,d=this,f=u&&d.sticky,p=a.call(d),v=d.source,m=0,h=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),h=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(v="(?: "+v+")",h=" "+h,m++),r=new RegExp("^(?:"+v+")",p)),l&&(r=new RegExp("^"+v+"$(?!\\s)",p)),c&&(e=d.lastIndex),n=s.call(f?r:d,h),f?n?(n.input=n.input.slice(m),n[0]=n[0].slice(m),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:c&&n&&(d.lastIndex=d.global?n.index+n[0].length:e),l&&n&&n.length>1&&i.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),t.exports=o},"99af":function(t,e,r){"use strict";var a=r("23e7"),n=r("d039"),s=r("e8b5"),i=r("861d"),o=r("7b0b"),c=r("50c4"),u=r("8418"),l=r("65f0"),d=r("1dde"),f=r("b622"),p=r("2d00"),v=f("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",g=p>=51||!n((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),x=d("concat"),b=function(t){if(!i(t))return!1;var e=t[v];return void 0!==e?!!e:s(t)},y=!g||!x;a({target:"Array",proto:!0,forced:y},{concat:function(t){var e,r,a,n,s,i=o(this),d=l(i,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(s=-1===e?i:arguments[e],b(s)){if(n=c(s.length),f+n>m)throw TypeError(h);for(r=0;r<n;r++,f++)r in s&&u(d,f,s[r])}else{if(f>=m)throw TypeError(h);u(d,f++,s)}return d.length=f,d}})},"9cff":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"checkout"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"customer col-sm-7 py-4 order-2 order-sm-1"},[r("h3",[t._v("客戶資料")]),r("hr"),r("div",{staticClass:"row mb-4"},[r("ValidationObserver",{staticClass:"w-100 px-3",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.invalid;return[r("form",[r("ValidationProvider",{attrs:{rules:"required",mode:"lazy"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,n=e.classes;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[t._v("收件人姓名")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.name,expression:"userData.name"}],staticClass:"form-control",class:n,attrs:{type:"text",name:"收件人姓名",id:"name"},domProps:{value:t.userData.name},on:{input:function(e){e.target.composing||t.$set(t.userData,"name",e.target.value)}}}),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])])]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"email|required",mode:"lazy"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,n=e.classes;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"email"}},[t._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.email,expression:"userData.email"}],staticClass:"form-control",class:n,attrs:{type:"email",name:"Email",id:"email"},domProps:{value:t.userData.email},on:{input:function(e){e.target.composing||t.$set(t.userData,"email",e.target.value)}}}),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])])]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"min:8|required",mode:"lazy"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,n=e.classes;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"tel"}},[t._v("電話")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.tel,expression:"userData.tel"}],staticClass:"form-control",class:n,attrs:{type:"tel",name:"電話",id:"tel"},domProps:{value:t.userData.tel},on:{input:function(e){e.target.composing||t.$set(t.userData,"tel",e.target.value)}}}),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])])]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"required",mode:"lazy"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,n=e.classes;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"address"}},[t._v("地址")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.address,expression:"userData.address"}],staticClass:"form-control",class:n,attrs:{type:"text",name:"地址",id:"address"},domProps:{value:t.userData.address},on:{input:function(e){e.target.composing||t.$set(t.userData,"address",e.target.value)}}}),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])])]}}],null,!0)}),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"payment"}},[t._v("付款方式")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.userData.payment,expression:"userData.payment"}],staticClass:"form-control",attrs:{id:"payment"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.userData,"payment",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"WebATM"}},[t._v("WebATM")]),r("option",{attrs:{value:"ATM"}},[t._v("ATM")]),r("option",{attrs:{value:"Barcode"}},[t._v("Barcode")]),r("option",{attrs:{value:"Credit"}},[t._v("Credit")]),r("option",{attrs:{value:"ApplePay"}},[t._v("ApplePay")]),r("option",{attrs:{value:"GooglePay"}},[t._v("GooglePay")])])]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"message"}},[t._v("留言")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userData.message,expression:"userData.message"}],staticClass:"form-control",attrs:{id:"message",rows:"3"},domProps:{value:t.userData.message},on:{input:function(e){e.target.composing||t.$set(t.userData,"message",e.target.value)}}})]),r("button",{staticClass:"btn btn-primary btn-submit",attrs:{type:"submit",disabled:a||0===t.cart.length},on:{click:function(e){return e.preventDefault(),t.sendOrder(e)}}},[t._v(" 送出訂單 ")])],1)]}}])})],1)]),r("div",{staticClass:"order col-sm-5 py-4 order-1 order-sm-2"},[r("h3",[t._v("訂單明細")]),r("hr"),0===t.cart.length?r("div",{staticClass:"empty"},[t._v(" 購物車還空空的喔～快去逛逛吧！ ")]):t._e(),t._l(t.cart,(function(e){return r("div",{key:e.product.id,staticClass:"row product mb-2"},[r("div",{staticClass:"col-2 product-img",style:{backgroundImage:"url("+e.product.imageUrl[0]+")"}}),r("div",{staticClass:"col-7 product-detail"},[r("div",{staticClass:"product-title"},[t._v(t._s(e.product.title))]),r("div",{staticClass:"product-price"},[t._v(" $"+t._s(t.commaFormat(e.product.price))+" / "+t._s(e.product.unit)+" ")])]),r("div",{staticClass:"col-3 product-number"},[r("div",{staticClass:"product-number"},[t._v("x "+t._s(e.quantity))]),r("div",{staticClass:"product-total font-weight-bold"},[t._v(" $"+t._s(t.commaFormat(e.product.price*e.quantity))+" ")])])])})),r("hr"),r("div",{staticClass:"row"},[r("div",{directives:[{name:"show",rawName:"v-show",value:t._.isEmpty(t.coupon),expression:"_.isEmpty(coupon)"}],staticClass:"col font-weight-bold text-right total"},[t._v(" 總計："+t._s(t.commaFormat(t.sumPrice))+" 元 ")])]),r("div",{staticClass:"row"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!t._.isEmpty(t.coupon),expression:"!_.isEmpty(coupon)"}],staticClass:"col text-right discount"},[t._v(" "+t._s(t.coupon.title)+" >> 折扣："+t._s(t.sumPrice-t.discountedPrice)+" 元 ")])]),r("div",{staticClass:"row"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!t._.isEmpty(t.coupon),expression:"!_.isEmpty(coupon)"}],staticClass:"col font-weight-bold text-right total"},[t._v(" 特價："+t._s(t.discountedPrice)+" 元 ")])])],2)])])])},n=[],s=(r("99af"),r("4160"),r("d3b7"),r("ac1f"),r("25f0"),r("5319"),r("159b"),{props:{products:Array,cart:Array,coupon:Object},data:function(){return{baseUrl:"https://course-ec-api.hexschool.io/api/",uuid:"0ace4b59-2bf0-443c-968c-4c9a458d1cb9",userData:{name:"",email:"",tel:"",address:"",payment:"WebATM",message:""}}},methods:{sendOrder:function(){var t=this,e=this.$loading.show(),r="".concat(this.baseUrl).concat(this.uuid,"/ec/orders");this._.isEmpty(this.coupon)?this.userData.coupon="":this.userData.coupon=this.coupon.code,this.axios.post(r,this.userData).then((function(r){e.hide(),t.$bus.$emit("orderSent"),t.$router.push("/finish/".concat(r.data.data.id))})).catch((function(){e.hide()}))},commaFormat:function(t){return t.toString().replace(/^(-?\d+?)((?:\d{3})+)(?=\.\d+$|$)/,(function(t,e,r){return e+r.replace(/\d{3}/g,",$&")}))}},computed:{discountedPrice:function(){return Math.ceil(this.sumPrice*this.coupon.percent/100)},sumPrice:function(){var t=0;return this.cart.forEach((function(e){var r=e.product.price*e.quantity;t+=r})),t}}}),i=s,o=(r("6577"),r("2877")),c=Object(o["a"])(i,a,n,!1,null,"6fa2bd0e",null);e["default"]=c.exports},"9f7f":function(t,e,r){"use strict";var a=r("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a640:function(t,e,r){"use strict";var a=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&a((function(){r.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,r){"use strict";var a=r("23e7"),n=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,r){"use strict";var a=r("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae40:function(t,e,r){var a=r("83ab"),n=r("d039"),s=r("5135"),i=Object.defineProperty,o={},c=function(t){throw t};t.exports=function(t,e){if(s(o,t))return o[t];e||(e={});var r=[][t],u=!!s(e,"ACCESSORS")&&e.ACCESSORS,l=s(e,0)?e[0]:c,d=s(e,1)?e[1]:void 0;return o[t]=!!r&&!n((function(){if(u&&!a)return!0;var t={length:-1};u?i(t,1,{enumerable:!0,get:c}):t[1]=1,r.call(t,l,d)}))}},b727:function(t,e,r){var a=r("0366"),n=r("44ad"),s=r("7b0b"),i=r("50c4"),o=r("65f0"),c=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,l=4==t,d=6==t,f=5==t||d;return function(p,v,m,h){for(var g,x,b=s(p),y=n(b),_=a(v,m,3),E=i(y.length),C=0,S=h||o,w=e?S(p,E):r?S(p,0):void 0;E>C;C++)if((f||C in y)&&(g=y[C],x=_(g,C,b),t))if(e)w[C]=x;else if(x)switch(t){case 3:return!0;case 5:return g;case 6:return C;case 2:c.call(w,g)}else if(l)return!1;return d?-1:u||l?l:w}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},d784:function(t,e,r){"use strict";r("ac1f");var a=r("6eeb"),n=r("d039"),s=r("b622"),i=r("9263"),o=r("9112"),c=s("species"),u=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),d=s("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,d){var v=s(t),m=!n((function(){var e={};return e[v]=function(){return 7},7!=""[t](e)})),h=m&&!n((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[v]=/./[v]),r.exec=function(){return e=!0,null},r[v](""),!e}));if(!m||!h||"replace"===t&&(!u||!l||f)||"split"===t&&!p){var g=/./[v],x=r(v,""[t],(function(t,e,r,a,n){return e.exec===i?m&&!n?{done:!0,value:g.call(e,r,a)}:{done:!0,value:t.call(r,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=x[0],y=x[1];a(String.prototype,t,b),a(RegExp.prototype,v,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}d&&o(RegExp.prototype[v],"sham",!0)}},e8b5:function(t,e,r){var a=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},f039:function(t,e,r){},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-f01831a0.f4bfd343.js.map